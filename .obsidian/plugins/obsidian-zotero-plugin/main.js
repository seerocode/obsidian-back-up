"use strict";/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source visit the plugins github repository
*/

var OP=Object.create;var _l=Object.defineProperty;var IP=Object.getOwnPropertyDescriptor;var FP=Object.getOwnPropertyNames;var NP=Object.getPrototypeOf,DP=Object.prototype.hasOwnProperty;var PP=(e,t)=>()=>(e&&(t=e(e=0)),t);var v=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),pv=(e,t)=>{for(var r in t)_l(e,r,{get:t[r],enumerable:!0})},dv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of FP(t))!DP.call(e,i)&&i!==r&&_l(e,i,{get:()=>t[i],enumerable:!(n=IP(t,i))||n.enumerable});return e};var _=(e,t,r)=>(r=e!=null?OP(NP(e)):{},dv(t||!e||!e.__esModule?_l(r,"default",{value:e,enumerable:!0}):r,e)),hv=e=>dv(_l({},"__esModule",{value:!0}),e);var Jd=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var Z=(e,t,r)=>(Jd(e,t,"read from private field"),r?r.call(e):t.get(e)),pe=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Ne=(e,t,r,n)=>(Jd(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Re=(e,t,r)=>(Jd(e,t,"access private method"),r);var Qd=v(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.loggerCategory=void 0;var MP=e=>`obsidian-zotero:${e}`;Sl.loggerCategory=MP});var yv=v(jt=>{"use strict";Object.defineProperty(jt,"__esModule",{value:!0});jt.toPage=jt.multipleAnnotKeyPagePattern=jt.annotKeyPagePattern=jt.itemKeyGroupIdPattern=jt.getItemKeyGroupID=void 0;var jP=({key:e,groupID:t,parentItem:r},n=!1)=>{let i=[e];return!n&&r&&i.push(`a${r}`),typeof t=="number"&&i.push(`g${t}`),i.join("")};jt.getItemKeyGroupID=jP;var gv=(e,t,r=!0)=>(n,...i)=>{let o="";for(let s=0;s<n.length;s++)s>0&&(o+=e(i[s-1])),o+=(r?n.raw:n)[s];return t(o)},Yd=(e=!0,t)=>gv(r=>r,r=>new RegExp(e?"^"+r+"$":r,t),!0),Zd=String.raw`[23456789ABCDEFGHIJKLMNPQRSTUVWXYZ]{8}`,Xd=String.raw`\d+`,mv=e=>{let t={annotKey:Zd,parentKey:Zd,groupID:Xd,page:Xd};if(e)for(let r in t)t[r]=`(${t[r]})`;return gv(r=>t[r],r=>r)`${"annotKey"}a${"parentKey"}(?:g${"groupID"})?(?:p${"page"})?`};jt.itemKeyGroupIdPattern=Yd()`${Zd}(?:g${Xd})?`,jt.annotKeyPagePattern=Yd()`${mv(!0)}`,jt.multipleAnnotKeyPagePattern=Yd()`(?:${mv(!1)}n?)+`;var LP=(e,t)=>{if(e===null)return null;let r;return typeof e=="number"?r=e:r=parseInt(e,10),Number.isInteger(r)?t?r+1:r:null};jt.toPage=LP});var vv=v(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.multipartToStr=hr.multipartToSQL=hr.isMultipart=void 0;var RP=/^[0-9]{4}\-(0[0-9]|10|11|12)\-(0[0-9]|[1-2][0-9]|30|31) /,qP=/^\-?[0-9]{4}\-(0[1-9]|10|11|12)\-(0[1-9]|[1-2][0-9]|30|31) ([0-1][0-9]|[2][0-3]):([0-5][0-9]):([0-5][0-9])$/,BP=/^\-?[0-9]{4}\-(0[1-9]|10|11|12)\-(0[1-9]|[1-2][0-9]|30|31) ([0-1][0-9]|[2][0-3]):([0-5][0-9])$/,$P=e=>UP(e)||HP(e)?!1:RP.test(e);hr.isMultipart=$P;var zP=e=>e?(0,hr.isMultipart)(e)?e.substring(0,10):"0000-00-00":"";hr.multipartToSQL=zP;var WP=e=>e?(0,hr.isMultipart)(e)?e.substring(11):e:"";hr.multipartToStr=WP;var UP=e=>qP.test(e),HP=e=>BP.test(e)});var bv=v(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.logLevels=zi.initLogger=void 0;var VP=Qd(),GP=(e,t,{getLogger:r,configure:n})=>{let i=(0,VP.loggerCategory)(e);return n({appenders:{out:{type:"console"}},categories:{default:{appenders:["out"],level:t},[i]:{appenders:["out"],level:t}}}),r(i)};zi.initLogger=GP;zi.logLevels={ALL:"ALL",TRACE:"TRACE",DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",FATAL:"FATAL",MARK:"MARK",OFF:"OFF"}});var wv=v(Al=>{"use strict";Object.defineProperty(Al,"__esModule",{value:!0});Al.enumerate=void 0;var KP=()=>(...e)=>e;Al.enumerate=KP});var xv={};pv(xv,{after:()=>eh,around:()=>th,dedupe:()=>QP,serialize:()=>YP});function th(e,t){let r=Object.keys(t).map(n=>JP(e,n,t[n]));return r.length===1?r[0]:function(){r.forEach(n=>n())}}function JP(e,t,r){let n=e[t],i=e.hasOwnProperty(t),o=r(n);return n&&Object.setPrototypeOf(o,n),Object.setPrototypeOf(s,o),e[t]=s,a;function s(...u){return o===n&&e[t]===s&&a(),o.apply(this,u)}function a(){e[t]===s&&(i?e[t]=n:delete e[t]),o!==n&&(o=n,Object.setPrototypeOf(s,n||Function))}}function QP(e,t,r){return n[e]=e,n;function n(...i){return(t[e]===e?t:r).apply(this,i)}}function eh(e,t){return e.then(t,t)}function YP(e){let t=Promise.resolve();function r(...n){return t=new Promise((i,o)=>{eh(t,()=>{e.apply(this,n).then(i,o)})})}return r.after=function(){return t=new Promise((n,i)=>{eh(t,n)})},r}var rh=PP(()=>{});var Ev=v(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.logError=void 0;var ZP=(rh(),hv(xv)),XP=e=>{let t=r=>async(...n)=>{try{return await r(...n)}catch(i){throw console.error(i),i}};return(0,ZP.around)(e,Object.fromEntries(Object.keys(e).map(r=>[r,t]))),e};Cl.logError=XP});var nr=v(ut=>{"use strict";var e3=ut&&ut.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Is=ut&&ut.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&e3(t,e,r)};Object.defineProperty(ut,"__esModule",{value:!0});ut.betterSqlite3=ut.constants=void 0;ut.constants=Qd();Is(yv(),ut);Is(vv(),ut);Is(bv(),ut);Is(wv(),ut);Is(Ev(),ut);var t3=e=>`better-sqlite3-${e}.node`;ut.betterSqlite3=t3});var _v=v((UH,kv)=>{var Wi=1e3,Ui=Wi*60,Hi=Ui*60,Zn=Hi*24,r3=Zn*7,n3=Zn*365.25;kv.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return i3(e);if(r==="number"&&isFinite(e))return t.long?s3(e):o3(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function i3(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*n3;case"weeks":case"week":case"w":return r*r3;case"days":case"day":case"d":return r*Zn;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Hi;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ui;case"seconds":case"second":case"secs":case"sec":case"s":return r*Wi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function o3(e){var t=Math.abs(e);return t>=Zn?Math.round(e/Zn)+"d":t>=Hi?Math.round(e/Hi)+"h":t>=Ui?Math.round(e/Ui)+"m":t>=Wi?Math.round(e/Wi)+"s":e+"ms"}function s3(e){var t=Math.abs(e);return t>=Zn?Tl(e,t,Zn,"day"):t>=Hi?Tl(e,t,Hi,"hour"):t>=Ui?Tl(e,t,Ui,"minute"):t>=Wi?Tl(e,t,Wi,"second"):e+" ms"}function Tl(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Av=v((HH,Sv)=>{function a3(e){r.debug=r,r.default=r,r.coerce=u,r.disable=o,r.enable=i,r.enabled=s,r.humanize=_v(),r.destroy=l,Object.keys(e).forEach(c=>{r[c]=e[c]}),r.names=[],r.skips=[],r.formatters={};function t(c){let f=0;for(let p=0;p<c.length;p++)f=(f<<5)-f+c.charCodeAt(p),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=t;function r(c){let f,p=null,d,m;function b(...h){if(!b.enabled)return;let g=b,y=Number(new Date),x=y-(f||y);g.diff=x,g.prev=f,g.curr=y,f=y,h[0]=r.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let k=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(F,W)=>{if(F==="%%")return"%";k++;let q=r.formatters[W];if(typeof q=="function"){let w=h[k];F=q.call(g,w),h.splice(k,1),k--}return F}),r.formatArgs.call(g,h),(g.log||r.log).apply(g,h)}return b.namespace=c,b.useColors=r.useColors(),b.color=r.selectColor(c),b.extend=n,b.destroy=r.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(d!==r.namespaces&&(d=r.namespaces,m=r.enabled(c)),m),set:h=>{p=h}}),typeof r.init=="function"&&r.init(b),b}function n(c,f){let p=r(this.namespace+(typeof f>"u"?":":f)+c);return p.log=this.log,p}function i(c){r.save(c),r.namespaces=c,r.names=[],r.skips=[];let f,p=(typeof c=="string"?c:"").split(/[\s,]+/),d=p.length;for(f=0;f<d;f++)!p[f]||(c=p[f].replace(/\*/g,".*?"),c[0]==="-"?r.skips.push(new RegExp("^"+c.slice(1)+"$")):r.names.push(new RegExp("^"+c+"$")))}function o(){let c=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),c}function s(c){if(c[c.length-1]==="*")return!0;let f,p;for(f=0,p=r.skips.length;f<p;f++)if(r.skips[f].test(c))return!1;for(f=0,p=r.names.length;f<p;f++)if(r.names[f].test(c))return!0;return!1}function a(c){return c.toString().substring(2,c.toString().length-2).replace(/\.\*\?$/,"*")}function u(c){return c instanceof Error?c.stack||c.message:c}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Sv.exports=a3});var qe=v((Ct,Ol)=>{Ct.formatArgs=l3;Ct.save=c3;Ct.load=f3;Ct.useColors=u3;Ct.storage=p3();Ct.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Ct.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function u3(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l3(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ol.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Ct.log=console.debug||console.log||(()=>{});function c3(e){try{e?Ct.storage.setItem("debug",e):Ct.storage.removeItem("debug")}catch{}}function f3(){let e;try{e=Ct.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function p3(){try{return localStorage}catch{}}Ol.exports=Av()(Ct);var{formatters:d3}=Ol.exports;d3.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Tv=v((VH,Cv)=>{"use strict";Cv.exports=h3;function Vi(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function h3(e){if(e=e||{},e.circles)return m3(e);return e.proto?n:r;function t(i,o){for(var s=Object.keys(i),a=new Array(s.length),u=0;u<s.length;u++){var l=s[u],c=i[l];typeof c!="object"||c===null?a[l]=c:c instanceof Date?a[l]=new Date(c):ArrayBuffer.isView(c)?a[l]=Vi(c):a[l]=o(c)}return a}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,r);if(i instanceof Map)return new Map(t(Array.from(i),r));if(i instanceof Set)return new Set(t(Array.from(i),r));var o={};for(var s in i)if(Object.hasOwnProperty.call(i,s)!==!1){var a=i[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(t(Array.from(a),r)):a instanceof Set?o[s]=new Set(t(Array.from(a),r)):ArrayBuffer.isView(a)?o[s]=Vi(a):o[s]=r(a)}return o}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return t(i,n);if(i instanceof Map)return new Map(t(Array.from(i),n));if(i instanceof Set)return new Set(t(Array.from(i),n));var o={};for(var s in i){var a=i[s];typeof a!="object"||a===null?o[s]=a:a instanceof Date?o[s]=new Date(a):a instanceof Map?o[s]=new Map(t(Array.from(a),n)):a instanceof Set?o[s]=new Set(t(Array.from(a),n)):ArrayBuffer.isView(a)?o[s]=Vi(a):o[s]=n(a)}return o}}function m3(e){var t=[],r=[];return e.proto?o:i;function n(s,a){for(var u=Object.keys(s),l=new Array(u.length),c=0;c<u.length;c++){var f=u[c],p=s[f];if(typeof p!="object"||p===null)l[f]=p;else if(p instanceof Date)l[f]=new Date(p);else if(ArrayBuffer.isView(p))l[f]=Vi(p);else{var d=t.indexOf(p);d!==-1?l[f]=r[d]:l[f]=a(p)}}return l}function i(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return n(s,i);if(s instanceof Map)return new Map(n(Array.from(s),i));if(s instanceof Set)return new Set(n(Array.from(s),i));var a={};t.push(s),r.push(a);for(var u in s)if(Object.hasOwnProperty.call(s,u)!==!1){var l=s[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(n(Array.from(l),i));else if(l instanceof Set)a[u]=new Set(n(Array.from(l),i));else if(ArrayBuffer.isView(l))a[u]=Vi(l);else{var c=t.indexOf(l);c!==-1?a[u]=r[c]:a[u]=i(l)}}return t.pop(),r.pop(),a}function o(s){if(typeof s!="object"||s===null)return s;if(s instanceof Date)return new Date(s);if(Array.isArray(s))return n(s,o);if(s instanceof Map)return new Map(n(Array.from(s),o));if(s instanceof Set)return new Set(n(Array.from(s),o));var a={};t.push(s),r.push(a);for(var u in s){var l=s[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(n(Array.from(l),o));else if(l instanceof Set)a[u]=new Set(n(Array.from(l),o));else if(ArrayBuffer.isView(l))a[u]=Vi(l);else{var c=t.indexOf(l);c!==-1?a[u]=r[c]:a[u]=o(l)}}return t.pop(),r.pop(),a}}});var ei=v((GH,Nv)=>{var g3=require("util"),Xn=qe()("log4js:configuration"),Il=[],Fl=[],Ov=e=>!e,Iv=e=>e&&typeof e=="object"&&!Array.isArray(e),y3=e=>/^[A-Za-z][A-Za-z0-9_]*$/g.test(e),v3=e=>e&&typeof e=="number"&&Number.isInteger(e),b3=e=>{Fl.push(e),Xn(`Added listener, now ${Fl.length} listeners`)},w3=e=>{Il.push(e),Xn(`Added pre-processing listener, now ${Il.length} listeners`)},Fv=(e,t,r)=>{(Array.isArray(t)?t:[t]).forEach(i=>{if(i)throw new Error(`Problem with log4js configuration: (${g3.inspect(e,{depth:5})}) - ${r}`)})},x3=e=>{Xn("New configuration to be validated: ",e),Fv(e,Ov(Iv(e)),"must be an object."),Xn(`Calling pre-processing listeners (${Il.length})`),Il.forEach(t=>t(e)),Xn("Configuration pre-processing finished."),Xn(`Calling configuration listeners (${Fl.length})`),Fl.forEach(t=>t(e)),Xn("Configuration finished.")};Nv.exports={configure:x3,addListener:b3,addPreProcessingListener:w3,throwExceptionIf:Fv,anObject:Iv,anInteger:v3,validIdentifier:y3,not:Ov}});var Nl=v((KH,Lt)=>{"use strict";function Dv(e,t){for(var r=e.toString();r.length<t;)r="0"+r;return r}function ti(e){return Dv(e,2)}function E3(e){var t=Math.abs(e),r=String(Math.floor(t/60)),n=String(t%60);return r=("0"+r).slice(-2),n=("0"+n).slice(-2),e===0?"Z":(e<0?"+":"-")+r+":"+n}function Pv(e,t){typeof e!="string"&&(t=e,e=Lt.exports.ISO8601_FORMAT),t||(t=Lt.exports.now());var r=ti(t.getDate()),n=ti(t.getMonth()+1),i=ti(t.getFullYear()),o=ti(i.substring(2,4)),s=e.indexOf("yyyy")>-1?i:o,a=ti(t.getHours()),u=ti(t.getMinutes()),l=ti(t.getSeconds()),c=Dv(t.getMilliseconds(),3),f=E3(t.getTimezoneOffset()),p=e.replace(/dd/g,r).replace(/MM/g,n).replace(/y{1,4}/g,s).replace(/hh/g,a).replace(/mm/g,u).replace(/ss/g,l).replace(/SSS/g,c).replace(/O/g,f);return p}function sn(e,t,r,n){e["set"+(n?"":"UTC")+t](r)}function k3(e,t,r){var n=e.indexOf("O")<0,i=!1,o=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(f,p){sn(f,"FullYear",p,n)}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(f,p){sn(f,"Month",p-1,n),f.getMonth()!==p-1&&(i=!0)}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(f,p){i&&sn(f,"Month",f.getMonth()-1,n),sn(f,"Date",p,n)}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(f,p){sn(f,"Hours",p,n)}},{pattern:/mm/,regexp:"\\d\\d",fn:function(f,p){sn(f,"Minutes",p,n)}},{pattern:/ss/,regexp:"\\d\\d",fn:function(f,p){sn(f,"Seconds",p,n)}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(f,p){sn(f,"Milliseconds",p,n)}},{pattern:/O/,regexp:"[+-]\\d{1,2}:?\\d{2}?|Z",fn:function(f,p){p==="Z"?p=0:p=p.replace(":","");var d=Math.abs(p),m=(p>0?-1:1)*(d%100+Math.floor(d/100)*60);f.setUTCMinutes(f.getUTCMinutes()+m)}}],s=o.reduce(function(f,p){return p.pattern.test(f.regexp)?(p.index=f.regexp.match(p.pattern).index,f.regexp=f.regexp.replace(p.pattern,"("+p.regexp+")")):p.index=-1,f},{regexp:e,index:[]}),a=o.filter(function(f){return f.index>-1});a.sort(function(f,p){return f.index-p.index});var u=new RegExp(s.regexp),l=u.exec(t);if(l){var c=r||Lt.exports.now();return a.forEach(function(f,p){f.fn(c,l[p+1])}),c}throw new Error("String '"+t+"' could not be parsed as '"+e+"'")}function _3(e,t,r){if(!e)throw new Error("pattern must be supplied");return k3(e,t,r)}function S3(){return new Date}Lt.exports=Pv;Lt.exports.asString=Pv;Lt.exports.parse=_3;Lt.exports.now=S3;Lt.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS";Lt.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO";Lt.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS";Lt.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"});var ih=v((JH,Vv)=>{var an=Nl(),Mv=require("os"),Ns=require("util"),Fs=require("path"),jv=require("url"),Lv=qe()("log4js:layouts"),Rv={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[91,39],yellow:[33,39]};function qv(e){return e?`\x1B[${Rv[e][0]}m`:""}function Bv(e){return e?`\x1B[${Rv[e][1]}m`:""}function A3(e,t){return qv(t)+e+Bv(t)}function $v(e,t){return A3(Ns.format("[%s] [%s] %s - ",an.asString(e.startTime),e.level.toString(),e.categoryName),t)}function zv(e){return $v(e)+Ns.format(...e.data)}function Dl(e){return $v(e,e.level.colour)+Ns.format(...e.data)}function Wv(e){return Ns.format(...e.data)}function Uv(e){return e.data[0]}function Hv(e,t){let r="%r %p %c - %m%n",n=/%(-?[0-9]+)?(\.?-?[0-9]+)?([[\]cdhmnprzxXyflos%])(\{([^}]+)\})?|([^%]+)/;e=e||r;function i(E,O){let T=E.categoryName;if(O){let J=parseInt(O,10),B=T.split(".");J<B.length&&(T=B.slice(B.length-J).join("."))}return T}function o(E,O){let T=an.ISO8601_FORMAT;if(O)switch(T=O,T){case"ISO8601":case"ISO8601_FORMAT":T=an.ISO8601_FORMAT;break;case"ISO8601_WITH_TZ_OFFSET":case"ISO8601_WITH_TZ_OFFSET_FORMAT":T=an.ISO8601_WITH_TZ_OFFSET_FORMAT;break;case"ABSOLUTE":process.emitWarning("Pattern %d{ABSOLUTE} is deprecated in favor of %d{ABSOLUTETIME}. Please use %d{ABSOLUTETIME} instead.","DeprecationWarning","log4js-node-DEP0003"),Lv("[log4js-node-DEP0003]","DEPRECATION: Pattern %d{ABSOLUTE} is deprecated and replaced by %d{ABSOLUTETIME}.");case"ABSOLUTETIME":case"ABSOLUTETIME_FORMAT":T=an.ABSOLUTETIME_FORMAT;break;case"DATE":process.emitWarning("Pattern %d{DATE} is deprecated due to the confusion it causes when used. Please use %d{DATETIME} instead.","DeprecationWarning","log4js-node-DEP0004"),Lv("[log4js-node-DEP0004]","DEPRECATION: Pattern %d{DATE} is deprecated and replaced by %d{DATETIME}.");case"DATETIME":case"DATETIME_FORMAT":T=an.DATETIME_FORMAT;break}return an.asString(T,E.startTime)}function s(){return Mv.hostname().toString()}function a(E){return Ns.format(...E.data)}function u(){return Mv.EOL}function l(E){return E.level.toString()}function c(E){return an.asString("hh:mm:ss",E.startTime)}function f(E){return qv(E.level.colour)}function p(E){return Bv(E.level.colour)}function d(){return"%"}function m(E){return E&&E.pid?E.pid.toString():process.pid.toString()}function b(){return m()}function h(E,O){return typeof t[O]<"u"?typeof t[O]=="function"?t[O](E):t[O]:null}function g(E,O){let T=E.context[O];return typeof T<"u"?typeof T=="function"?T(E):T:null}function y(E,O){let T=E.fileName||"";if(T=function(B){let $="file://";return B.startsWith($)&&(typeof jv.fileURLToPath=="function"?B=jv.fileURLToPath(B):(B=Fs.normalize(B.replace(new RegExp(`^${$}`),"")),process.platform==="win32"&&(B.startsWith("\\")?B=B.slice(1):B=Fs.sep+Fs.sep+B))),B}(T),O){let B=parseInt(O,10),$=T.split(Fs.sep);$.length>B&&(T=$.slice(-B).join(Fs.sep))}return T}function x(E){return E.lineNumber?`${E.lineNumber}`:""}function k(E){return E.columnNumber?`${E.columnNumber}`:""}function j(E){return E.callStack||""}let F={c:i,d:o,h:s,m:a,n:u,p:l,r:c,"[":f,"]":p,y:b,z:m,"%":d,x:h,X:g,f:y,l:x,o:k,s:j};function W(E,O,T){return F[E](O,T)}function q(E,O){let T;return E?(T=parseInt(E.slice(1),10),T>0?O.slice(0,T):O.slice(T)):O}function w(E,O){let T;if(E)if(E.charAt(0)==="-")for(T=parseInt(E.slice(1),10);O.length<T;)O+=" ";else for(T=parseInt(E,10);O.length<T;)O=` ${O}`;return O}function C(E,O,T){let J=E;return J=q(O,J),J=w(T,J),J}return function(E){let O="",T,J=e;for(;(T=n.exec(J))!==null;){let B=T[1],$=T[2],G=T[3],Q=T[5],ie=T[6];if(ie)O+=ie.toString();else{let A=W(G,E,Q);O+=C(A,$,B)}J=J.slice(T.index+T[0].length)}return O}}var nh={messagePassThrough(){return Wv},basic(){return zv},colored(){return Dl},coloured(){return Dl},pattern(e){return Hv(e&&e.pattern,e&&e.tokens)},dummy(){return Uv}};Vv.exports={basicLayout:zv,messagePassThroughLayout:Wv,patternLayout:Hv,colouredLayout:Dl,coloredLayout:Dl,dummyLayout:Uv,addLayout(e,t){nh[e]=t},layout(e,t){return nh[e]&&nh[e](t)}}});var ri=v((QH,Kv)=>{var Te=ei(),Gv=["white","grey","black","blue","cyan","green","magenta","red","yellow"],Oe=class{constructor(t,r,n){this.level=t,this.levelStr=r,this.colour=n}toString(){return this.levelStr}static getLevel(t,r){return t?t instanceof Oe?t:(t instanceof Object&&t.levelStr&&(t=t.levelStr),Oe[t.toString().toUpperCase()]||r):r}static addLevels(t){t&&(Object.keys(t).forEach(n=>{let i=n.toUpperCase();Oe[i]=new Oe(t[n].value,i,t[n].colour);let o=Oe.levels.findIndex(s=>s.levelStr===i);o>-1?Oe.levels[o]=Oe[i]:Oe.levels.push(Oe[i])}),Oe.levels.sort((n,i)=>n.level-i.level))}isLessThanOrEqualTo(t){return typeof t=="string"&&(t=Oe.getLevel(t)),this.level<=t.level}isGreaterThanOrEqualTo(t){return typeof t=="string"&&(t=Oe.getLevel(t)),this.level>=t.level}isEqualTo(t){return typeof t=="string"&&(t=Oe.getLevel(t)),this.level===t.level}};Oe.levels=[];Oe.addLevels({ALL:{value:Number.MIN_VALUE,colour:"grey"},TRACE:{value:5e3,colour:"blue"},DEBUG:{value:1e4,colour:"cyan"},INFO:{value:2e4,colour:"green"},WARN:{value:3e4,colour:"yellow"},ERROR:{value:4e4,colour:"red"},FATAL:{value:5e4,colour:"magenta"},MARK:{value:9007199254740992,colour:"grey"},OFF:{value:Number.MAX_VALUE,colour:"grey"}});Te.addListener(e=>{let t=e.levels;t&&(Te.throwExceptionIf(e,Te.not(Te.anObject(t)),"levels must be an object"),Object.keys(t).forEach(n=>{Te.throwExceptionIf(e,Te.not(Te.validIdentifier(n)),`level name "${n}" is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)`),Te.throwExceptionIf(e,Te.not(Te.anObject(t[n])),`level "${n}" must be an object`),Te.throwExceptionIf(e,Te.not(t[n].value),`level "${n}" must have a 'value' property`),Te.throwExceptionIf(e,Te.not(Te.anInteger(t[n].value)),`level "${n}".value must have an integer value`),Te.throwExceptionIf(e,Te.not(t[n].colour),`level "${n}" must have a 'colour' property`),Te.throwExceptionIf(e,Te.not(Gv.indexOf(t[n].colour)>-1),`level "${n}".colour must be one of ${Gv.join(", ")}`)}))});Te.addListener(e=>{Oe.addLevels(e.levels)});Kv.exports=Oe});var ib=v(Ps=>{"use strict";var{parse:Yv,stringify:Zv}=JSON,{keys:C3}=Object,Ds=String,Xv="string",Jv={},Pl="object",eb=(e,t)=>t,T3=e=>e instanceof Ds?Ds(e):e,O3=(e,t)=>typeof t===Xv?new Ds(t):t,tb=(e,t,r,n)=>{let i=[];for(let o=C3(r),{length:s}=o,a=0;a<s;a++){let u=o[a],l=r[u];if(l instanceof Ds){let c=e[l];typeof c===Pl&&!t.has(c)?(t.add(c),r[u]=Jv,i.push({k:u,a:[e,t,c,n]})):r[u]=n.call(r,u,c)}else r[u]!==Jv&&(r[u]=n.call(r,u,l))}for(let{length:o}=i,s=0;s<o;s++){let{k:a,a:u}=i[s];r[a]=n.call(r,a,tb.apply(null,u))}return r},Qv=(e,t,r)=>{let n=Ds(t.push(r)-1);return e.set(r,n),n},rb=(e,t)=>{let r=Yv(e,O3).map(T3),n=r[0],i=t||eb,o=typeof n===Pl&&n?tb(r,new Set,n,i):n;return i.call({"":o},"",o)};Ps.parse=rb;var nb=(e,t,r)=>{let n=t&&typeof t===Pl?(c,f)=>c===""||-1<t.indexOf(c)?f:void 0:t||eb,i=new Map,o=[],s=[],a=+Qv(i,o,n.call({"":e},"",e)),u=!a;for(;a<o.length;)u=!0,s[a]=Zv(o[a++],l,r);return"["+s.join(",")+"]";function l(c,f){if(u)return u=!u,f;let p=n.call(this,c,f);switch(typeof p){case Pl:if(p===null)return p;case Xv:return i.get(p)||Qv(i,o,p)}return p}};Ps.stringify=nb;var I3=e=>Yv(nb(e));Ps.toJSON=I3;var F3=e=>rb(Zv(e));Ps.fromJSON=F3});var oh=v((ZH,ab)=>{var ob=ib(),sb=ri(),Gi=class{constructor(t,r,n,i,o){this.startTime=new Date,this.categoryName=t,this.data=n,this.level=r,this.context=Object.assign({},i),this.pid=process.pid,o&&(this.functionName=o.functionName,this.fileName=o.fileName,this.lineNumber=o.lineNumber,this.columnNumber=o.columnNumber,this.callStack=o.callStack)}serialise(){return ob.stringify(this,(t,r)=>(r&&r.message&&r.stack?r=Object.assign({message:r.message,stack:r.stack},r):typeof r=="number"&&(Number.isNaN(r)||!Number.isFinite(r))?r=r.toString():typeof r>"u"&&(r=typeof r),r))}static deserialise(t){let r;try{let n=ob.parse(t,(i,o)=>{if(o&&o.message&&o.stack){let s=new Error(o);Object.keys(o).forEach(a=>{s[a]=o[a]}),o=s}return o});n.location={functionName:n.functionName,fileName:n.fileName,lineNumber:n.lineNumber,columnNumber:n.columnNumber,callStack:n.callStack},r=new Gi(n.categoryName,sb.getLevel(n.level.levelStr),n.data,n.context,n.location),r.startTime=new Date(n.startTime),r.pid=n.pid,r.cluster=n.cluster}catch(n){r=new Gi("log4js",sb.ERROR,["Unable to parse log:",t,"because: ",n])}return r}};ab.exports=Gi});var jl=v((XH,cb)=>{var Rt=qe()("log4js:clustering"),N3=oh(),D3=ei(),Ki=!1,qt=null;try{qt=require("cluster")}catch{Rt("cluster module not present"),Ki=!0}var ah=[],js=!1,Ms="NODE_APP_INSTANCE",ub=()=>js&&process.env[Ms]==="0",sh=()=>Ki||qt&&qt.isMaster||ub(),lb=e=>{ah.forEach(t=>t(e))},Ml=(e,t)=>{if(Rt("cluster message received from worker ",e,": ",t),e.topic&&e.data&&(t=e,e=void 0),t&&t.topic&&t.topic==="log4js:message"){Rt("received message: ",t.data);let r=N3.deserialise(t.data);lb(r)}};Ki||D3.addListener(e=>{ah.length=0,{pm2:js,disableClustering:Ki,pm2InstanceVar:Ms="NODE_APP_INSTANCE"}=e,Rt(`clustering disabled ? ${Ki}`),Rt(`cluster.isMaster ? ${qt&&qt.isMaster}`),Rt(`pm2 enabled ? ${js}`),Rt(`pm2InstanceVar = ${Ms}`),Rt(`process.env[${Ms}] = ${process.env[Ms]}`),js&&process.removeListener("message",Ml),qt&&qt.removeListener&&qt.removeListener("message",Ml),Ki||e.disableClustering?Rt("Not listening for cluster messages, because clustering disabled."):ub()?(Rt("listening for PM2 broadcast messages"),process.on("message",Ml)):qt&&qt.isMaster?(Rt("listening for cluster messages"),qt.on("message",Ml)):Rt("not listening for messages, because we are not a master process")});cb.exports={onlyOnMaster:(e,t)=>sh()?e():t,isMaster:sh,send:e=>{sh()?lb(e):(js||(e.cluster={workerId:qt.worker.id,worker:process.pid}),process.send({topic:"log4js:message",data:e.serialise()}))},onMessage:e=>{ah.push(e)}}});var db=v((eV,pb)=>{function P3(e){if(typeof e=="number"&&Number.isInteger(e))return e;let t={K:1024,M:1024*1024,G:1024*1024*1024},r=Object.keys(t),n=e.slice(-1).toLocaleUpperCase(),i=e.slice(0,-1).trim();if(r.indexOf(n)<0||!Number.isInteger(Number(i)))throw Error(`maxLogSize: "${e}" is invalid`);return i*t[n]}function M3(e,t){let r=Object.assign({},t);return Object.keys(e).forEach(n=>{r[n]&&(r[n]=e[n](t[n]))}),r}function uh(e){return M3({maxLogSize:P3},e)}var fb={dateFile:uh,file:uh,fileSync:uh};pb.exports.modifyConfig=e=>fb[e.type]?fb[e.type](e):e});var mb=v((tV,hb)=>{var j3=console.log.bind(console);function L3(e,t){return r=>{j3(e(r,t))}}function R3(e,t){let r=t.colouredLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),L3(r,e.timezoneOffset)}hb.exports.configure=R3});var yb=v(gb=>{function q3(e,t){return r=>{process.stdout.write(`${e(r,t)}
`)}}function B3(e,t){let r=t.colouredLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),q3(r,e.timezoneOffset)}gb.configure=B3});var bb=v((nV,vb)=>{function $3(e,t){return r=>{process.stderr.write(`${e(r,t)}
`)}}function z3(e,t){let r=t.colouredLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),$3(r,e.timezoneOffset)}vb.exports.configure=z3});var xb=v((iV,wb)=>{function W3(e,t,r,n){let i=n.getLevel(e),o=n.getLevel(t,n.FATAL);return s=>{let a=s.level;i.isLessThanOrEqualTo(a)&&o.isGreaterThanOrEqualTo(a)&&r(s)}}function U3(e,t,r,n){let i=r(e.appender);return W3(e.level,e.maxLevel,i,n)}wb.exports.configure=U3});var _b=v((oV,kb)=>{var Eb=qe()("log4js:categoryFilter");function H3(e,t){return typeof e=="string"&&(e=[e]),r=>{Eb(`Checking ${r.categoryName} against ${e}`),e.indexOf(r.categoryName)===-1&&(Eb("Not excluded, sending to appender"),t(r))}}function V3(e,t,r){let n=r(e.appender);return H3(e.exclude,n)}kb.exports.configure=V3});var Cb=v((sV,Ab)=>{var Sb=qe()("log4js:noLogFilter");function G3(e){return e.filter(r=>r!=null&&r!=="")}function K3(e,t){return r=>{Sb(`Checking data: ${r.data} against filters: ${e}`),typeof e=="string"&&(e=[e]),e=G3(e);let n=new RegExp(e.join("|"),"i");(e.length===0||r.data.findIndex(i=>n.test(i))<0)&&(Sb("Not excluded, sending to appender"),t(r))}}function J3(e,t,r){let n=r(e.appender);return K3(e.exclude,n)}Ab.exports.configure=J3});var gt=v(lh=>{"use strict";lh.fromCallback=function(e){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]=="function")e.apply(this,arguments);else return new Promise((t,r)=>{arguments[arguments.length]=(n,i)=>{if(n)return r(n);t(i)},arguments.length++,e.apply(this,arguments)})},"name",{value:e.name})};lh.fromPromise=function(e){return Object.defineProperty(function(){let t=arguments[arguments.length-1];if(typeof t!="function")return e.apply(this,arguments);e.apply(this,arguments).then(r=>t(null,r),t)},"name",{value:e.name})}});var Ob=v((uV,Tb)=>{var un=require("constants"),Q3=process.cwd,Ll=null,Y3=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Ll||(Ll=Q3.call(process)),Ll};try{process.cwd()}catch{}typeof process.chdir=="function"&&(ch=process.chdir,process.chdir=function(e){Ll=null,ch.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,ch));var ch;Tb.exports=Z3;function Z3(e){un.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(c,f,p){p&&process.nextTick(p)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(c,f,p,d){d&&process.nextTick(d)},e.lchownSync=function(){}),Y3==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(c){function f(p,d,m){var b=Date.now(),h=0;c(p,d,function g(y){if(y&&(y.code==="EACCES"||y.code==="EPERM")&&Date.now()-b<6e4){setTimeout(function(){e.stat(d,function(x,k){x&&x.code==="ENOENT"?c(p,d,g):m(y)})},h),h<100&&(h+=10);return}m&&m(y)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,c),f}(e.rename)),e.read=typeof e.read!="function"?e.read:function(c){function f(p,d,m,b,h,g){var y;if(g&&typeof g=="function"){var x=0;y=function(k,j,F){if(k&&k.code==="EAGAIN"&&x<10)return x++,c.call(e,p,d,m,b,h,y);g.apply(this,arguments)}}return c.call(e,p,d,m,b,h,y)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,c),f}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(c){return function(f,p,d,m,b){for(var h=0;;)try{return c.call(e,f,p,d,m,b)}catch(g){if(g.code==="EAGAIN"&&h<10){h++;continue}throw g}}}(e.readSync);function t(c){c.lchmod=function(f,p,d){c.open(f,un.O_WRONLY|un.O_SYMLINK,p,function(m,b){if(m){d&&d(m);return}c.fchmod(b,p,function(h){c.close(b,function(g){d&&d(h||g)})})})},c.lchmodSync=function(f,p){var d=c.openSync(f,un.O_WRONLY|un.O_SYMLINK,p),m=!0,b;try{b=c.fchmodSync(d,p),m=!1}finally{if(m)try{c.closeSync(d)}catch{}else c.closeSync(d)}return b}}function r(c){un.hasOwnProperty("O_SYMLINK")&&c.futimes?(c.lutimes=function(f,p,d,m){c.open(f,un.O_SYMLINK,function(b,h){if(b){m&&m(b);return}c.futimes(h,p,d,function(g){c.close(h,function(y){m&&m(g||y)})})})},c.lutimesSync=function(f,p,d){var m=c.openSync(f,un.O_SYMLINK),b,h=!0;try{b=c.futimesSync(m,p,d),h=!1}finally{if(h)try{c.closeSync(m)}catch{}else c.closeSync(m)}return b}):c.futimes&&(c.lutimes=function(f,p,d,m){m&&process.nextTick(m)},c.lutimesSync=function(){})}function n(c){return c&&function(f,p,d){return c.call(e,f,p,function(m){l(m)&&(m=null),d&&d.apply(this,arguments)})}}function i(c){return c&&function(f,p){try{return c.call(e,f,p)}catch(d){if(!l(d))throw d}}}function o(c){return c&&function(f,p,d,m){return c.call(e,f,p,d,function(b){l(b)&&(b=null),m&&m.apply(this,arguments)})}}function s(c){return c&&function(f,p,d){try{return c.call(e,f,p,d)}catch(m){if(!l(m))throw m}}}function a(c){return c&&function(f,p,d){typeof p=="function"&&(d=p,p=null);function m(b,h){h&&(h.uid<0&&(h.uid+=4294967296),h.gid<0&&(h.gid+=4294967296)),d&&d.apply(this,arguments)}return p?c.call(e,f,p,m):c.call(e,f,m)}}function u(c){return c&&function(f,p){var d=p?c.call(e,f,p):c.call(e,f);return d&&(d.uid<0&&(d.uid+=4294967296),d.gid<0&&(d.gid+=4294967296)),d}}function l(c){if(!c||c.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(c.code==="EINVAL"||c.code==="EPERM"))}}});var Nb=v((lV,Fb)=>{var Ib=require("stream").Stream;Fb.exports=X3;function X3(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Ib.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),a=0,u=s.length;a<u;a++){var l=s[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){o._read()});return}e.open(this.path,this.flags,this.mode,function(c,f){if(c){o.emit("error",c),o.readable=!1;return}o.fd=f,o.emit("open",f),o._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Ib.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var u=o[s];this[u]=i[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Pb=v((cV,Db)=>{"use strict";Db.exports=tM;var eM=Object.getPrototypeOf||function(e){return e.__proto__};function tM(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:eM(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var Ie=v((fV,dh)=>{var ve=require("fs"),rM=Ob(),nM=Nb(),iM=Pb(),Rl=require("util"),$e,Bl;typeof Symbol=="function"&&typeof Symbol.for=="function"?($e=Symbol.for("graceful-fs.queue"),Bl=Symbol.for("graceful-fs.previous")):($e="___graceful-fs.queue",Bl="___graceful-fs.previous");function oM(){}function Lb(e,t){Object.defineProperty(e,$e,{get:function(){return t}})}var ni=oM;Rl.debuglog?ni=Rl.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ni=function(){var e=Rl.format.apply(Rl,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});ve[$e]||(Mb=global[$e]||[],Lb(ve,Mb),ve.close=function(e){function t(r,n){return e.call(ve,r,function(i){i||jb(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Bl,{value:e}),t}(ve.close),ve.closeSync=function(e){function t(r){e.apply(ve,arguments),jb()}return Object.defineProperty(t,Bl,{value:e}),t}(ve.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ni(ve[$e]),require("assert").equal(ve[$e].length,0)}));var Mb;global[$e]||Lb(global,ve[$e]);dh.exports=fh(iM(ve));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!ve.__patched&&(dh.exports=fh(ve),ve.__patched=!0);function fh(e){rM(e),e.gracefulify=fh,e.createReadStream=j,e.createWriteStream=F;var t=e.readFile;e.readFile=r;function r(w,C,E){return typeof C=="function"&&(E=C,C=null),O(w,C,E);function O(T,J,B,$){return t(T,J,function(G){G&&(G.code==="EMFILE"||G.code==="ENFILE")?Ji([O,[T,J,B],G,$||Date.now(),Date.now()]):typeof B=="function"&&B.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(w,C,E,O){return typeof E=="function"&&(O=E,E=null),T(w,C,E,O);function T(J,B,$,G,Q){return n(J,B,$,function(ie){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Ji([T,[J,B,$,G],ie,Q||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var o=e.appendFile;o&&(e.appendFile=s);function s(w,C,E,O){return typeof E=="function"&&(O=E,E=null),T(w,C,E,O);function T(J,B,$,G,Q){return o(J,B,$,function(ie){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Ji([T,[J,B,$,G],ie,Q||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=u);function u(w,C,E,O){return typeof E=="function"&&(O=E,E=0),T(w,C,E,O);function T(J,B,$,G,Q){return a(J,B,$,function(ie){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Ji([T,[J,B,$,G],ie,Q||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var l=e.readdir;e.readdir=f;var c=/^v[0-5]\./;function f(w,C,E){typeof C=="function"&&(E=C,C=null);var O=c.test(process.version)?function(B,$,G,Q){return l(B,T(B,$,G,Q))}:function(B,$,G,Q){return l(B,$,T(B,$,G,Q))};return O(w,C,E);function T(J,B,$,G){return function(Q,ie){Q&&(Q.code==="EMFILE"||Q.code==="ENFILE")?Ji([O,[J,B,$],Q,G||Date.now(),Date.now()]):(ie&&ie.sort&&ie.sort(),typeof $=="function"&&$.call(this,Q,ie))}}}if(process.version.substr(0,4)==="v0.8"){var p=nM(e);g=p.ReadStream,x=p.WriteStream}var d=e.ReadStream;d&&(g.prototype=Object.create(d.prototype),g.prototype.open=y);var m=e.WriteStream;m&&(x.prototype=Object.create(m.prototype),x.prototype.open=k),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(w){g=w},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return x},set:function(w){x=w},enumerable:!0,configurable:!0});var b=g;Object.defineProperty(e,"FileReadStream",{get:function(){return b},set:function(w){b=w},enumerable:!0,configurable:!0});var h=x;Object.defineProperty(e,"FileWriteStream",{get:function(){return h},set:function(w){h=w},enumerable:!0,configurable:!0});function g(w,C){return this instanceof g?(d.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function y(){var w=this;q(w.path,w.flags,w.mode,function(C,E){C?(w.autoClose&&w.destroy(),w.emit("error",C)):(w.fd=E,w.emit("open",E),w.read())})}function x(w,C){return this instanceof x?(m.apply(this,arguments),this):x.apply(Object.create(x.prototype),arguments)}function k(){var w=this;q(w.path,w.flags,w.mode,function(C,E){C?(w.destroy(),w.emit("error",C)):(w.fd=E,w.emit("open",E))})}function j(w,C){return new e.ReadStream(w,C)}function F(w,C){return new e.WriteStream(w,C)}var W=e.open;e.open=q;function q(w,C,E,O){return typeof E=="function"&&(O=E,E=null),T(w,C,E,O);function T(J,B,$,G,Q){return W(J,B,$,function(ie,A){ie&&(ie.code==="EMFILE"||ie.code==="ENFILE")?Ji([T,[J,B,$,G],ie,Q||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}return e}function Ji(e){ni("ENQUEUE",e[0].name,e[1]),ve[$e].push(e),ph()}var ql;function jb(){for(var e=Date.now(),t=0;t<ve[$e].length;++t)ve[$e][t].length>2&&(ve[$e][t][3]=e,ve[$e][t][4]=e);ph()}function ph(){if(clearTimeout(ql),ql=void 0,ve[$e].length!==0){var e=ve[$e].shift(),t=e[0],r=e[1],n=e[2],i=e[3],o=e[4];if(i===void 0)ni("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ni("TIMEOUT",t.name,r);var s=r.pop();typeof s=="function"&&s.call(null,n)}else{var a=Date.now()-o,u=Math.max(o-i,1),l=Math.min(u*1.2,100);a>=l?(ni("RETRY",t.name,r),t.apply(null,r.concat([i]))):ve[$e].push(e)}ql===void 0&&(ql=setTimeout(ph,0))}}});var hh=v(ii=>{"use strict";var Rb=gt().fromCallback,Bt=Ie(),sM=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof Bt[e]=="function");Object.keys(Bt).forEach(e=>{e!=="promises"&&(ii[e]=Bt[e])});sM.forEach(e=>{ii[e]=Rb(Bt[e])});ii.exists=function(e,t){return typeof t=="function"?Bt.exists(e,t):new Promise(r=>Bt.exists(e,r))};ii.read=function(e,t,r,n,i,o){return typeof o=="function"?Bt.read(e,t,r,n,i,o):new Promise((s,a)=>{Bt.read(e,t,r,n,i,(u,l,c)=>{if(u)return a(u);s({bytesRead:l,buffer:c})})})};ii.write=function(e,t,...r){return typeof r[r.length-1]=="function"?Bt.write(e,t,...r):new Promise((n,i)=>{Bt.write(e,t,...r,(o,s,a)=>{if(o)return i(o);n({bytesWritten:s,buffer:a})})})};typeof Bt.realpath.native=="function"&&(ii.realpath.native=Rb(Bt.realpath.native))});var gh=v((dV,Bb)=>{"use strict";var mh=require("path");function qb(e){return e=mh.normalize(mh.resolve(e)).split(mh.sep),e.length>0?e[0]:null}var aM=/[<>:"|?*]/;function uM(e){let t=qb(e);return e=e.replace(t,""),aM.test(e)}Bb.exports={getRootPath:qb,invalidWin32Path:uM}});var zb=v((hV,$b)=>{"use strict";var lM=Ie(),yh=require("path"),cM=gh().invalidWin32Path,fM=parseInt("0777",8);function vh(e,t,r,n){if(typeof t=="function"?(r=t,t={}):(!t||typeof t!="object")&&(t={mode:t}),process.platform==="win32"&&cM(e)){let s=new Error(e+" contains invalid WIN32 path characters.");return s.code="EINVAL",r(s)}let i=t.mode,o=t.fs||lM;i===void 0&&(i=fM&~process.umask()),n||(n=null),r=r||function(){},e=yh.resolve(e),o.mkdir(e,i,s=>{if(!s)return n=n||e,r(null,n);switch(s.code){case"ENOENT":if(yh.dirname(e)===e)return r(s);vh(yh.dirname(e),t,(a,u)=>{a?r(a,u):vh(e,t,r,u)});break;default:o.stat(e,(a,u)=>{a||!u.isDirectory()?r(s,n):r(null,n)});break}})}$b.exports=vh});var Ub=v((mV,Wb)=>{"use strict";var pM=Ie(),bh=require("path"),dM=gh().invalidWin32Path,hM=parseInt("0777",8);function wh(e,t,r){(!t||typeof t!="object")&&(t={mode:t});let n=t.mode,i=t.fs||pM;if(process.platform==="win32"&&dM(e)){let o=new Error(e+" contains invalid WIN32 path characters.");throw o.code="EINVAL",o}n===void 0&&(n=hM&~process.umask()),r||(r=null),e=bh.resolve(e);try{i.mkdirSync(e,n),r=r||e}catch(o){if(o.code==="ENOENT"){if(bh.dirname(e)===e)throw o;r=wh(bh.dirname(e),t,r),wh(e,t,r)}else{let s;try{s=i.statSync(e)}catch{throw o}if(!s.isDirectory())throw o}}return r}Wb.exports=wh});var Tt=v((gV,Hb)=>{"use strict";var mM=gt().fromCallback,xh=mM(zb()),Eh=Ub();Hb.exports={mkdirs:xh,mkdirsSync:Eh,mkdirp:xh,mkdirpSync:Eh,ensureDir:xh,ensureDirSync:Eh}});var kh=v((yV,Gb)=>{"use strict";var Je=Ie(),Vb=require("os"),$l=require("path");function gM(){let e=$l.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=$l.join(Vb.tmpdir(),e);let t=new Date(1435410243862);Je.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");let r=Je.openSync(e,"r+");return Je.futimesSync(r,t,t),Je.closeSync(r),Je.statSync(e).mtime>1435410243e3}function yM(e){let t=$l.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=$l.join(Vb.tmpdir(),t);let r=new Date(1435410243862);Je.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",n=>{if(n)return e(n);Je.open(t,"r+",(i,o)=>{if(i)return e(i);Je.futimes(o,r,r,s=>{if(s)return e(s);Je.close(o,a=>{if(a)return e(a);Je.stat(t,(u,l)=>{if(u)return e(u);e(null,l.mtime>1435410243e3)})})})})})}function vM(e){if(typeof e=="number")return Math.floor(e/1e3)*1e3;if(e instanceof Date)return new Date(Math.floor(e.getTime()/1e3)*1e3);throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}function bM(e,t,r,n){Je.open(e,"r+",(i,o)=>{if(i)return n(i);Je.futimes(o,t,r,s=>{Je.close(o,a=>{n&&n(s||a)})})})}function wM(e,t,r){let n=Je.openSync(e,"r+");return Je.futimesSync(n,t,r),Je.closeSync(n)}Gb.exports={hasMillisRes:yM,hasMillisResSync:gM,timeRemoveMillis:vM,utimesMillis:bM,utimesMillisSync:wM}});var qs=v((vV,Xb)=>{"use strict";var $t=Ie(),yt=require("path"),Kb=10,Jb=5,xM=0,Sh=process.versions.node.split("."),Qb=Number.parseInt(Sh[0],10),Yb=Number.parseInt(Sh[1],10),EM=Number.parseInt(Sh[2],10);function Ls(){if(Qb>Kb)return!0;if(Qb===Kb){if(Yb>Jb)return!0;if(Yb===Jb&&EM>=xM)return!0}return!1}function kM(e,t,r){Ls()?$t.stat(e,{bigint:!0},(n,i)=>{if(n)return r(n);$t.stat(t,{bigint:!0},(o,s)=>o?o.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(o):r(null,{srcStat:i,destStat:s}))}):$t.stat(e,(n,i)=>{if(n)return r(n);$t.stat(t,(o,s)=>o?o.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(o):r(null,{srcStat:i,destStat:s}))})}function _M(e,t){let r,n;Ls()?r=$t.statSync(e,{bigint:!0}):r=$t.statSync(e);try{Ls()?n=$t.statSync(t,{bigint:!0}):n=$t.statSync(t)}catch(i){if(i.code==="ENOENT")return{srcStat:r,destStat:null};throw i}return{srcStat:r,destStat:n}}function SM(e,t,r,n){kM(e,t,(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;return a&&a.ino&&a.dev&&a.ino===s.ino&&a.dev===s.dev?n(new Error("Source and destination must not be the same.")):s.isDirectory()&&Ah(e,t)?n(new Error(Rs(e,t,r))):n(null,{srcStat:s,destStat:a})})}function AM(e,t,r){let{srcStat:n,destStat:i}=_M(e,t);if(i&&i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev)throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&Ah(e,t))throw new Error(Rs(e,t,r));return{srcStat:n,destStat:i}}function _h(e,t,r,n,i){let o=yt.resolve(yt.dirname(e)),s=yt.resolve(yt.dirname(r));if(s===o||s===yt.parse(s).root)return i();Ls()?$t.stat(s,{bigint:!0},(a,u)=>a?a.code==="ENOENT"?i():i(a):u.ino&&u.dev&&u.ino===t.ino&&u.dev===t.dev?i(new Error(Rs(e,r,n))):_h(e,t,s,n,i)):$t.stat(s,(a,u)=>a?a.code==="ENOENT"?i():i(a):u.ino&&u.dev&&u.ino===t.ino&&u.dev===t.dev?i(new Error(Rs(e,r,n))):_h(e,t,s,n,i))}function Zb(e,t,r,n){let i=yt.resolve(yt.dirname(e)),o=yt.resolve(yt.dirname(r));if(o===i||o===yt.parse(o).root)return;let s;try{Ls()?s=$t.statSync(o,{bigint:!0}):s=$t.statSync(o)}catch(a){if(a.code==="ENOENT")return;throw a}if(s.ino&&s.dev&&s.ino===t.ino&&s.dev===t.dev)throw new Error(Rs(e,r,n));return Zb(e,t,o,n)}function Ah(e,t){let r=yt.resolve(e).split(yt.sep).filter(i=>i),n=yt.resolve(t).split(yt.sep).filter(i=>i);return r.reduce((i,o,s)=>i&&n[s]===o,!0)}function Rs(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}Xb.exports={checkPaths:SM,checkPathsSync:AM,checkParentPaths:_h,checkParentPathsSync:Zb,isSrcSubdir:Ah}});var tw=v((bV,ew)=>{"use strict";ew.exports=function(e){if(typeof Buffer.allocUnsafe=="function")try{return Buffer.allocUnsafe(e)}catch{return new Buffer(e)}return new Buffer(e)}});var sw=v((wV,ow)=>{"use strict";var ge=Ie(),Bs=require("path"),CM=Tt().mkdirsSync,TM=kh().utimesMillisSync,$s=qs();function OM(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=$s.checkPathsSync(e,t,"copy");return $s.checkParentPathsSync(e,n,t,"copy"),IM(i,e,t,r)}function IM(e,t,r,n){if(n.filter&&!n.filter(t,r))return;let i=Bs.dirname(r);return ge.existsSync(i)||CM(i),rw(e,t,r,n)}function rw(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return FM(e,t,r,n)}function FM(e,t,r,n){let o=(n.dereference?ge.statSync:ge.lstatSync)(t);if(o.isDirectory())return MM(o,e,t,r,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return NM(o,e,t,r,n);if(o.isSymbolicLink())return RM(e,t,r,n)}function NM(e,t,r,n,i){return t?DM(e,r,n,i):nw(e,r,n,i)}function DM(e,t,r,n){if(n.overwrite)return ge.unlinkSync(r),nw(e,t,r,n);if(n.errorOnExist)throw new Error(`'${r}' already exists`)}function nw(e,t,r,n){return typeof ge.copyFileSync=="function"?(ge.copyFileSync(t,r),ge.chmodSync(r,e.mode),n.preserveTimestamps?TM(r,e.atime,e.mtime):void 0):PM(e,t,r,n)}function PM(e,t,r,n){let o=tw()(65536),s=ge.openSync(t,"r"),a=ge.openSync(r,"w",e.mode),u=0;for(;u<e.size;){let l=ge.readSync(s,o,0,65536,u);ge.writeSync(a,o,0,l),u+=l}n.preserveTimestamps&&ge.futimesSync(a,e.atime,e.mtime),ge.closeSync(s),ge.closeSync(a)}function MM(e,t,r,n,i){if(!t)return jM(e,r,n,i);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`);return iw(r,n,i)}function jM(e,t,r,n){return ge.mkdirSync(r),iw(t,r,n),ge.chmodSync(r,e.mode)}function iw(e,t,r){ge.readdirSync(e).forEach(n=>LM(n,e,t,r))}function LM(e,t,r,n){let i=Bs.join(t,e),o=Bs.join(r,e),{destStat:s}=$s.checkPathsSync(i,o,"copy");return rw(s,i,o,n)}function RM(e,t,r,n){let i=ge.readlinkSync(t);if(n.dereference&&(i=Bs.resolve(process.cwd(),i)),e){let o;try{o=ge.readlinkSync(r)}catch(s){if(s.code==="EINVAL"||s.code==="UNKNOWN")return ge.symlinkSync(i,r);throw s}if(n.dereference&&(o=Bs.resolve(process.cwd(),o)),$s.isSrcSubdir(i,o))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${o}'.`);if(ge.statSync(r).isDirectory()&&$s.isSrcSubdir(o,i))throw new Error(`Cannot overwrite '${o}' with '${i}'.`);return qM(i,r)}else return ge.symlinkSync(i,r)}function qM(e,t){return ge.unlinkSync(t),ge.symlinkSync(e,t)}ow.exports=OM});var Ch=v((xV,aw)=>{"use strict";aw.exports={copySync:sw()}});var mr=v((EV,lw)=>{"use strict";var BM=gt().fromPromise,uw=hh();function $M(e){return uw.access(e).then(()=>!0).catch(()=>!1)}lw.exports={pathExists:BM($M),pathExistsSync:uw.existsSync}});var vw=v((kV,yw)=>{"use strict";var ze=Ie(),zs=require("path"),zM=Tt().mkdirs,WM=mr().pathExists,UM=kh().utimesMillis,Ws=qs();function HM(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;

    see https://github.com/jprichardson/node-fs-extra/issues/269`),Ws.checkPaths(e,t,"copy",(i,o)=>{if(i)return n(i);let{srcStat:s,destStat:a}=o;Ws.checkParentPaths(e,s,t,"copy",u=>u?n(u):r.filter?pw(cw,a,e,t,r,n):cw(a,e,t,r,n))})}function cw(e,t,r,n,i){let o=zs.dirname(r);WM(o,(s,a)=>{if(s)return i(s);if(a)return Th(e,t,r,n,i);zM(o,u=>u?i(u):Th(e,t,r,n,i))})}function pw(e,t,r,n,i,o){Promise.resolve(i.filter(r,n)).then(s=>s?e(t,r,n,i,o):o(),s=>o(s))}function Th(e,t,r,n,i){return n.filter?pw(fw,e,t,r,n,i):fw(e,t,r,n,i)}function fw(e,t,r,n,i){(n.dereference?ze.stat:ze.lstat)(t,(s,a)=>{if(s)return i(s);if(a.isDirectory())return JM(a,e,t,r,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return VM(a,e,t,r,n,i);if(a.isSymbolicLink())return ZM(e,t,r,n,i)})}function VM(e,t,r,n,i,o){return t?GM(e,r,n,i,o):dw(e,r,n,i,o)}function GM(e,t,r,n,i){if(n.overwrite)ze.unlink(r,o=>o?i(o):dw(e,t,r,n,i));else return n.errorOnExist?i(new Error(`'${r}' already exists`)):i()}function dw(e,t,r,n,i){return typeof ze.copyFile=="function"?ze.copyFile(t,r,o=>o?i(o):hw(e,r,n,i)):KM(e,t,r,n,i)}function KM(e,t,r,n,i){let o=ze.createReadStream(t);o.on("error",s=>i(s)).once("open",()=>{let s=ze.createWriteStream(r,{mode:e.mode});s.on("error",a=>i(a)).on("open",()=>o.pipe(s)).once("close",()=>hw(e,r,n,i))})}function hw(e,t,r,n){ze.chmod(t,e.mode,i=>i?n(i):r.preserveTimestamps?UM(t,e.atime,e.mtime,n):n())}function JM(e,t,r,n,i,o){return t?t&&!t.isDirectory()?o(new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`)):mw(r,n,i,o):QM(e,r,n,i,o)}function QM(e,t,r,n,i){ze.mkdir(r,o=>{if(o)return i(o);mw(t,r,n,s=>s?i(s):ze.chmod(r,e.mode,i))})}function mw(e,t,r,n){ze.readdir(e,(i,o)=>i?n(i):gw(o,e,t,r,n))}function gw(e,t,r,n,i){let o=e.pop();return o?YM(e,o,t,r,n,i):i()}function YM(e,t,r,n,i,o){let s=zs.join(r,t),a=zs.join(n,t);Ws.checkPaths(s,a,"copy",(u,l)=>{if(u)return o(u);let{destStat:c}=l;Th(c,s,a,i,f=>f?o(f):gw(e,r,n,i,o))})}function ZM(e,t,r,n,i){ze.readlink(t,(o,s)=>{if(o)return i(o);if(n.dereference&&(s=zs.resolve(process.cwd(),s)),e)ze.readlink(r,(a,u)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?ze.symlink(s,r,i):i(a):(n.dereference&&(u=zs.resolve(process.cwd(),u)),Ws.isSrcSubdir(s,u)?i(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&Ws.isSrcSubdir(u,s)?i(new Error(`Cannot overwrite '${u}' with '${s}'.`)):XM(s,r,i)));else return ze.symlink(s,r,i)})}function XM(e,t,r){ze.unlink(t,n=>n?r(n):ze.symlink(e,t,r))}yw.exports=HM});var Oh=v((_V,bw)=>{"use strict";var ej=gt().fromCallback;bw.exports={copy:ej(vw())}});var Tw=v((SV,Cw)=>{"use strict";var ww=Ie(),_w=require("path"),se=require("assert"),Us=process.platform==="win32";function Sw(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||ww[r],r=r+"Sync",e[r]=e[r]||ww[r]}),e.maxBusyTries=e.maxBusyTries||3}function Ih(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),se(e,"rimraf: missing path"),se.strictEqual(typeof e,"string","rimraf: path should be a string"),se.strictEqual(typeof r,"function","rimraf: callback function required"),se(t,"rimraf: invalid options argument provided"),se.strictEqual(typeof t,"object","rimraf: options should be object"),Sw(t),xw(e,t,function i(o){if(o){if((o.code==="EBUSY"||o.code==="ENOTEMPTY"||o.code==="EPERM")&&n<t.maxBusyTries){n++;let s=n*100;return setTimeout(()=>xw(e,t,i),s)}o.code==="ENOENT"&&(o=null)}r(o)})}function xw(e,t,r){se(e),se(t),se(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Us)return Ew(e,t,n,r);if(i&&i.isDirectory())return zl(e,t,n,r);t.unlink(e,o=>{if(o){if(o.code==="ENOENT")return r(null);if(o.code==="EPERM")return Us?Ew(e,t,o,r):zl(e,t,o,r);if(o.code==="EISDIR")return zl(e,t,o,r)}return r(o)})})}function Ew(e,t,r,n){se(e),se(t),se(typeof n=="function"),r&&se(r instanceof Error),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(o,s)=>{o?n(o.code==="ENOENT"?null:r):s.isDirectory()?zl(e,t,r,n):t.unlink(e,n)})})}function kw(e,t,r){let n;se(e),se(t),r&&se(r instanceof Error);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Wl(e,t,r):t.unlinkSync(e)}function zl(e,t,r,n){se(e),se(t),r&&se(r instanceof Error),se(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?tj(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function tj(e,t,r){se(e),se(t),se(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let o=i.length,s;if(o===0)return t.rmdir(e,r);i.forEach(a=>{Ih(_w.join(e,a),t,u=>{if(!s){if(u)return r(s=u);--o===0&&t.rmdir(e,r)}})})})}function Aw(e,t){let r;t=t||{},Sw(t),se(e,"rimraf: missing path"),se.strictEqual(typeof e,"string","rimraf: path should be a string"),se(t,"rimraf: missing options"),se.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&Us&&kw(e,t,n)}try{r&&r.isDirectory()?Wl(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return Us?kw(e,t,n):Wl(e,t,n);if(n.code!=="EISDIR")throw n;Wl(e,t,n)}}function Wl(e,t,r){se(e),se(t),r&&se(r instanceof Error);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")rj(e,t);else if(n.code!=="ENOENT")throw n}}function rj(e,t){if(se(e),se(t),t.readdirSync(e).forEach(r=>Aw(_w.join(e,r),t)),Us){let r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}Cw.exports=Ih;Ih.sync=Aw});var Hs=v((AV,Iw)=>{"use strict";var nj=gt().fromCallback,Ow=Tw();Iw.exports={remove:nj(Ow),removeSync:Ow.sync}});var Rw=v((CV,Lw)=>{"use strict";var ij=gt().fromCallback,Dw=Ie(),Pw=require("path"),Mw=Tt(),jw=Hs(),Fw=ij(function(t,r){r=r||function(){},Dw.readdir(t,(n,i)=>{if(n)return Mw.mkdirs(t,r);i=i.map(s=>Pw.join(t,s)),o();function o(){let s=i.pop();if(!s)return r();jw.remove(s,a=>{if(a)return r(a);o()})}})});function Nw(e){let t;try{t=Dw.readdirSync(e)}catch{return Mw.mkdirsSync(e)}t.forEach(r=>{r=Pw.join(e,r),jw.removeSync(r)})}Lw.exports={emptyDirSync:Nw,emptydirSync:Nw,emptyDir:Fw,emptydir:Fw}});var zw=v((TV,$w)=>{"use strict";var oj=gt().fromCallback,qw=require("path"),Vs=Ie(),Bw=Tt(),sj=mr().pathExists;function aj(e,t){function r(){Vs.writeFile(e,"",n=>{if(n)return t(n);t()})}Vs.stat(e,(n,i)=>{if(!n&&i.isFile())return t();let o=qw.dirname(e);sj(o,(s,a)=>{if(s)return t(s);if(a)return r();Bw.mkdirs(o,u=>{if(u)return t(u);r()})})})}function uj(e){let t;try{t=Vs.statSync(e)}catch{}if(t&&t.isFile())return;let r=qw.dirname(e);Vs.existsSync(r)||Bw.mkdirsSync(r),Vs.writeFileSync(e,"")}$w.exports={createFile:oj(aj),createFileSync:uj}});var Gw=v((OV,Vw)=>{"use strict";var lj=gt().fromCallback,Uw=require("path"),oi=Ie(),Hw=Tt(),Ww=mr().pathExists;function cj(e,t,r){function n(i,o){oi.link(i,o,s=>{if(s)return r(s);r(null)})}Ww(t,(i,o)=>{if(i)return r(i);if(o)return r(null);oi.lstat(e,s=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),r(s);let a=Uw.dirname(t);Ww(a,(u,l)=>{if(u)return r(u);if(l)return n(e,t);Hw.mkdirs(a,c=>{if(c)return r(c);n(e,t)})})})})}function fj(e,t){if(oi.existsSync(t))return;try{oi.lstatSync(e)}catch(o){throw o.message=o.message.replace("lstat","ensureLink"),o}let n=Uw.dirname(t);return oi.existsSync(n)||Hw.mkdirsSync(n),oi.linkSync(e,t)}Vw.exports={createLink:lj(cj),createLinkSync:fj}});var Jw=v((IV,Kw)=>{"use strict";var ln=require("path"),Gs=Ie(),pj=mr().pathExists;function dj(e,t,r){if(ln.isAbsolute(e))return Gs.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{let n=ln.dirname(t),i=ln.join(n,e);return pj(i,(o,s)=>o?r(o):s?r(null,{toCwd:i,toDst:e}):Gs.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:ln.relative(n,e)})))}}function hj(e,t){let r;if(ln.isAbsolute(e)){if(r=Gs.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let n=ln.dirname(t),i=ln.join(n,e);if(r=Gs.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Gs.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:ln.relative(n,e)}}}Kw.exports={symlinkPaths:dj,symlinkPathsSync:hj}});var Zw=v((FV,Yw)=>{"use strict";var Qw=Ie();function mj(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);Qw.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function gj(e,t){let r;if(t)return t;try{r=Qw.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}Yw.exports={symlinkType:mj,symlinkTypeSync:gj}});var ox=v((NV,ix)=>{"use strict";var yj=gt().fromCallback,ex=require("path"),Qi=Ie(),tx=Tt(),vj=tx.mkdirs,bj=tx.mkdirsSync,rx=Jw(),wj=rx.symlinkPaths,xj=rx.symlinkPathsSync,nx=Zw(),Ej=nx.symlinkType,kj=nx.symlinkTypeSync,Xw=mr().pathExists;function _j(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,Xw(t,(i,o)=>{if(i)return n(i);if(o)return n(null);wj(e,t,(s,a)=>{if(s)return n(s);e=a.toDst,Ej(a.toCwd,r,(u,l)=>{if(u)return n(u);let c=ex.dirname(t);Xw(c,(f,p)=>{if(f)return n(f);if(p)return Qi.symlink(e,t,l,n);vj(c,d=>{if(d)return n(d);Qi.symlink(e,t,l,n)})})})})})}function Sj(e,t,r){if(Qi.existsSync(t))return;let i=xj(e,t);e=i.toDst,r=kj(i.toCwd,r);let o=ex.dirname(t);return Qi.existsSync(o)||bj(o),Qi.symlinkSync(e,t,r)}ix.exports={createSymlink:yj(_j),createSymlinkSync:Sj}});var ax=v((DV,sx)=>{"use strict";var Ul=zw(),Hl=Gw(),Vl=ox();sx.exports={createFile:Ul.createFile,createFileSync:Ul.createFileSync,ensureFile:Ul.createFile,ensureFileSync:Ul.createFileSync,createLink:Hl.createLink,createLinkSync:Hl.createLinkSync,ensureLink:Hl.createLink,ensureLinkSync:Hl.createLinkSync,createSymlink:Vl.createSymlink,createSymlinkSync:Vl.createSymlinkSync,ensureSymlink:Vl.createSymlink,ensureSymlinkSync:Vl.createSymlinkSync}});var fx=v((PV,cx)=>{var Yi;try{Yi=Ie()}catch{Yi=require("fs")}function Aj(e,t,r){r==null&&(r=t,t={}),typeof t=="string"&&(t={encoding:t}),t=t||{};var n=t.fs||Yi,i=!0;"throws"in t&&(i=t.throws),n.readFile(e,t,function(o,s){if(o)return r(o);s=lx(s);var a;try{a=JSON.parse(s,t?t.reviver:null)}catch(u){return i?(u.message=e+": "+u.message,r(u)):r(null,null)}r(null,a)})}function Cj(e,t){t=t||{},typeof t=="string"&&(t={encoding:t});var r=t.fs||Yi,n=!0;"throws"in t&&(n=t.throws);try{var i=r.readFileSync(e,t);return i=lx(i),JSON.parse(i,t.reviver)}catch(o){if(n)throw o.message=e+": "+o.message,o;return null}}function ux(e,t){var r,n=`
`;typeof t=="object"&&t!==null&&(t.spaces&&(r=t.spaces),t.EOL&&(n=t.EOL));var i=JSON.stringify(e,t?t.replacer:null,r);return i.replace(/\n/g,n)+n}function Tj(e,t,r,n){n==null&&(n=r,r={}),r=r||{};var i=r.fs||Yi,o="";try{o=ux(t,r)}catch(s){n&&n(s,null);return}i.writeFile(e,o,r,n)}function Oj(e,t,r){r=r||{};var n=r.fs||Yi,i=ux(t,r);return n.writeFileSync(e,i,r)}function lx(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,""),e}var Ij={readFile:Aj,readFileSync:Cj,writeFile:Tj,writeFileSync:Oj};cx.exports=Ij});var Kl=v((MV,dx)=>{"use strict";var px=gt().fromCallback,Gl=fx();dx.exports={readJson:px(Gl.readFile),readJsonSync:Gl.readFileSync,writeJson:px(Gl.writeFile),writeJsonSync:Gl.writeFileSync}});var gx=v((jV,mx)=>{"use strict";var Fj=require("path"),Nj=Tt(),Dj=mr().pathExists,hx=Kl();function Pj(e,t,r,n){typeof r=="function"&&(n=r,r={});let i=Fj.dirname(e);Dj(i,(o,s)=>{if(o)return n(o);if(s)return hx.writeJson(e,t,r,n);Nj.mkdirs(i,a=>{if(a)return n(a);hx.writeJson(e,t,r,n)})})}mx.exports=Pj});var vx=v((LV,yx)=>{"use strict";var Mj=Ie(),jj=require("path"),Lj=Tt(),Rj=Kl();function qj(e,t,r){let n=jj.dirname(e);Mj.existsSync(n)||Lj.mkdirsSync(n),Rj.writeJsonSync(e,t,r)}yx.exports=qj});var wx=v((RV,bx)=>{"use strict";var Bj=gt().fromCallback,lt=Kl();lt.outputJson=Bj(gx());lt.outputJsonSync=vx();lt.outputJSON=lt.outputJson;lt.outputJSONSync=lt.outputJsonSync;lt.writeJSON=lt.writeJson;lt.writeJSONSync=lt.writeJsonSync;lt.readJSON=lt.readJson;lt.readJSONSync=lt.readJsonSync;bx.exports=lt});var Ax=v((qV,Sx)=>{"use strict";var kx=Ie(),$j=require("path"),zj=Ch().copySync,_x=Hs().removeSync,Wj=Tt().mkdirpSync,xx=qs();function Uj(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i}=xx.checkPathsSync(e,t,"move");return xx.checkParentPathsSync(e,i,t,"move"),Wj($j.dirname(t)),Hj(e,t,n)}function Hj(e,t,r){if(r)return _x(t),Ex(e,t,r);if(kx.existsSync(t))throw new Error("dest already exists.");return Ex(e,t,r)}function Ex(e,t,r){try{kx.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return Vj(e,t,r)}}function Vj(e,t,r){return zj(e,t,{overwrite:r,errorOnExist:!0}),_x(e)}Sx.exports=Uj});var Tx=v((BV,Cx)=>{"use strict";Cx.exports={moveSync:Ax()}});var Dx=v(($V,Nx)=>{"use strict";var Gj=Ie(),Kj=require("path"),Jj=Oh().copy,Fx=Hs().remove,Qj=Tt().mkdirp,Yj=mr().pathExists,Ox=qs();function Zj(e,t,r,n){typeof r=="function"&&(n=r,r={});let i=r.overwrite||r.clobber||!1;Ox.checkPaths(e,t,"move",(o,s)=>{if(o)return n(o);let{srcStat:a}=s;Ox.checkParentPaths(e,a,t,"move",u=>{if(u)return n(u);Qj(Kj.dirname(t),l=>l?n(l):Xj(e,t,i,n))})})}function Xj(e,t,r,n){if(r)return Fx(t,i=>i?n(i):Ix(e,t,r,n));Yj(t,(i,o)=>i?n(i):o?n(new Error("dest already exists.")):Ix(e,t,r,n))}function Ix(e,t,r,n){Gj.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):eL(e,t,r,n):n())}function eL(e,t,r,n){Jj(e,t,{overwrite:r,errorOnExist:!0},o=>o?n(o):Fx(e,n))}Nx.exports=Zj});var Mx=v((zV,Px)=>{"use strict";var tL=gt().fromCallback;Px.exports={move:tL(Dx())}});var qx=v((WV,Rx)=>{"use strict";var rL=gt().fromCallback,Ks=Ie(),jx=require("path"),Lx=Tt(),nL=mr().pathExists;function iL(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");let i=jx.dirname(e);nL(i,(o,s)=>{if(o)return n(o);if(s)return Ks.writeFile(e,t,r,n);Lx.mkdirs(i,a=>{if(a)return n(a);Ks.writeFile(e,t,r,n)})})}function oL(e,...t){let r=jx.dirname(e);if(Ks.existsSync(r))return Ks.writeFileSync(e,...t);Lx.mkdirsSync(r),Ks.writeFileSync(e,...t)}Rx.exports={outputFile:rL(iL),outputFileSync:oL}});var Nh=v((UV,Fh)=>{"use strict";Fh.exports=Object.assign({},hh(),Ch(),Oh(),Rw(),ax(),wx(),Tt(),Tx(),Mx(),qx(),mr(),Hs());var Bx=require("fs");Object.getOwnPropertyDescriptor(Bx,"promises")&&Object.defineProperty(Fh.exports,"promises",{get(){return Bx.promises}})});var zx=v((HV,$x)=>{$x.exports=()=>new Date});var Ux=v((VV,Wx)=>{var sL=qe()("streamroller:fileNameFormatter"),aL=require("path"),uL=".gz",lL=".";Wx.exports=({file:e,keepFileExt:t,needsIndex:r,alwaysIncludeDate:n,compress:i,fileNameSep:o})=>{let s=o||lL,a=aL.join(e.dir,e.name),u=d=>d+e.ext,l=(d,m,b)=>(r||!b)&&m?d+s+m:d,c=(d,m,b)=>(m>0||n)&&b?d+s+b:d,f=(d,m)=>m&&i?d+uL:d,p=t?[c,l,u,f]:[u,c,l,f];return({date:d,index:m})=>(sL(`_formatFileName: date=${d}, index=${m}`),p.reduce((b,h)=>h(b,m,d),a))}});var Kx=v((GV,Gx)=>{var si=qe()("streamroller:fileNameParser"),Hx=".gz",Vx=Nl(),cL=".";Gx.exports=({file:e,keepFileExt:t,pattern:r,fileNameSep:n})=>{let i=n||cL,o=(p,d)=>p.endsWith(Hx)?(si("it is gzipped"),d.isCompressed=!0,p.slice(0,-1*Hx.length)):p,s="__NOT_MATCHING__",f=[o,t?p=>p.startsWith(e.name)&&p.endsWith(e.ext)?(si("it starts and ends with the right things"),p.slice(e.name.length+1,-1*e.ext.length)):s:p=>p.startsWith(e.base)?(si("it starts with the right things"),p.slice(e.base.length+1)):s,r?(p,d)=>{let m=p.split(i),b=m[m.length-1];si("items: ",m,", indexStr: ",b);let h=p;b!==void 0&&b.match(/^\d+$/)?(h=p.slice(0,-1*(b.length+1)),si(`dateStr is ${h}`),r&&!h&&(h=b,b="0")):b="0";try{let g=Vx.parse(r,h,new Date(0,0));return Vx.asString(r,g)!==h?p:(d.index=parseInt(b,10),d.date=h,d.timestamp=g.getTime(),"")}catch(g){return si(`Problem parsing ${h} as ${r}, error was: `,g),p}}:(p,d)=>p.match(/^\d+$/)?(si("it has an index"),d.index=parseInt(p,10),""):p];return p=>{let d={filename:p,index:0,isCompressed:!1};return f.reduce((b,h)=>h(b,d),p)?null:d}}});var Qx=v((KV,Jx)=>{var Ot=qe()("streamroller:moveAndMaybeCompressFile"),Pr=Nh(),fL=require("zlib"),pL=function(e){let t={mode:parseInt("0600",8),compress:!1},r=Object.assign({},t,e);return Ot(`_parseOption: moveAndMaybeCompressFile called with option=${JSON.stringify(r)}`),r},dL=async(e,t,r)=>{if(r=pL(r),e===t){Ot("moveAndMaybeCompressFile: source and target are the same, not doing anything");return}if(await Pr.pathExists(e))if(Ot(`moveAndMaybeCompressFile: moving file from ${e} to ${t} ${r.compress?"with":"without"} compress`),r.compress)await new Promise((n,i)=>{let o=!1,s=Pr.createWriteStream(t,{mode:r.mode,flags:"wx"}).on("open",()=>{o=!0;let a=Pr.createReadStream(e).on("open",()=>{a.pipe(fL.createGzip()).pipe(s)}).on("error",u=>{Ot(`moveAndMaybeCompressFile: error reading ${e}`,u),s.destroy(u)})}).on("finish",()=>{Ot(`moveAndMaybeCompressFile: finished compressing ${t}, deleting ${e}`),Pr.unlink(e).then(n).catch(a=>{Ot(`moveAndMaybeCompressFile: error deleting ${e}, truncating instead`,a),Pr.truncate(e).then(n).catch(u=>{Ot(`moveAndMaybeCompressFile: error truncating ${e}`,u),i(u)})})}).on("error",a=>{o?(Ot(`moveAndMaybeCompressFile: error writing ${t}, deleting`,a),Pr.unlink(t).then(()=>{i(a)}).catch(u=>{Ot(`moveAndMaybeCompressFile: error deleting ${t}`,u),i(u)})):(Ot(`moveAndMaybeCompressFile: error creating ${t}`,a),i(a))})}).catch(()=>{});else{Ot(`moveAndMaybeCompressFile: renaming ${e} to ${t}`);try{await Pr.move(e,t,{overwrite:!0})}catch(n){Ot(`moveAndMaybeCompressFile: error renaming ${e} to ${t}`,n),Ot("moveAndMaybeCompressFile: trying copy+truncate instead"),await Pr.copy(e,t,{overwrite:!0}),await Pr.truncate(e)}}};Jx.exports=dL});var Yl=v((JV,Yx)=>{var It=qe()("streamroller:RollingFileWriteStream"),ui=Nh(),ai=require("path"),hL=require("os"),Jl=zx(),Ql=Nl(),{Writable:mL}=require("stream"),gL=Ux(),yL=Kx(),vL=Qx(),bL=e=>(It(`deleteFiles: files to delete: ${e}`),Promise.all(e.map(t=>ui.unlink(t).catch(r=>{It(`deleteFiles: error when unlinking ${t}, ignoring. Error was ${r}`)})))),Dh=class extends mL{constructor(t,r){if(It(`constructor: creating RollingFileWriteStream. path=${t}`),typeof t!="string"||t.length===0)throw new Error(`Invalid filename: ${t}`);if(t.endsWith(ai.sep))throw new Error(`Filename is a directory: ${t}`);t=t.replace(new RegExp(`^~(?=${ai.sep}.+)`),hL.homedir()),super(r),this.options=this._parseOption(r),this.fileObject=ai.parse(t),this.fileObject.dir===""&&(this.fileObject=ai.parse(ai.join(process.cwd(),t))),this.fileFormatter=gL({file:this.fileObject,alwaysIncludeDate:this.options.alwaysIncludePattern,needsIndex:this.options.maxSize<Number.MAX_SAFE_INTEGER,compress:this.options.compress,keepFileExt:this.options.keepFileExt,fileNameSep:this.options.fileNameSep}),this.fileNameParser=yL({file:this.fileObject,keepFileExt:this.options.keepFileExt,pattern:this.options.pattern,fileNameSep:this.options.fileNameSep}),this.state={currentSize:0},this.options.pattern&&(this.state.currentDate=Ql(this.options.pattern,Jl())),this.filename=this.fileFormatter({index:0,date:this.state.currentDate}),["a","a+","as","as+"].includes(this.options.flags)&&this._setExistingSizeAndDate(),It(`constructor: create new file ${this.filename}, state=${JSON.stringify(this.state)}`),this._renewWriteStream()}_setExistingSizeAndDate(){try{let t=ui.statSync(this.filename);this.state.currentSize=t.size,this.options.pattern&&(this.state.currentDate=Ql(this.options.pattern,t.mtime))}catch{return}}_parseOption(t){let r={maxSize:0,numToKeep:Number.MAX_SAFE_INTEGER,encoding:"utf8",mode:parseInt("0600",8),flags:"a",compress:!1,keepFileExt:!1,alwaysIncludePattern:!1},n=Object.assign({},r,t);if(!n.maxSize)delete n.maxSize;else if(n.maxSize<=0)throw new Error(`options.maxSize (${n.maxSize}) should be > 0`);if(n.numBackups||n.numBackups===0){if(n.numBackups<0)throw new Error(`options.numBackups (${n.numBackups}) should be >= 0`);if(n.numBackups>=Number.MAX_SAFE_INTEGER)throw new Error(`options.numBackups (${n.numBackups}) should be < Number.MAX_SAFE_INTEGER`);n.numToKeep=n.numBackups+1}else if(n.numToKeep<=0)throw new Error(`options.numToKeep (${n.numToKeep}) should be > 0`);return It(`_parseOption: creating stream with option=${JSON.stringify(n)}`),n}_final(t){this.currentFileStream.end("",this.options.encoding,t)}_write(t,r,n){this._shouldRoll().then(()=>{It(`_write: writing chunk. file=${this.currentFileStream.path} state=${JSON.stringify(this.state)} chunk=${t}`),this.currentFileStream.write(t,r,i=>{this.state.currentSize+=t.length,n(i)})})}async _shouldRoll(){(this._dateChanged()||this._tooBig())&&(It(`_shouldRoll: rolling because dateChanged? ${this._dateChanged()} or tooBig? ${this._tooBig()}`),await this._roll())}_dateChanged(){return this.state.currentDate&&this.state.currentDate!==Ql(this.options.pattern,Jl())}_tooBig(){return this.state.currentSize>=this.options.maxSize}_roll(){return It("_roll: closing the current stream"),new Promise((t,r)=>{this.currentFileStream.end("",this.options.encoding,()=>{this._moveOldFiles().then(t).catch(r)})})}async _moveOldFiles(){let t=await this._getExistingFiles(),r=this.state.currentDate?t.filter(n=>n.date===this.state.currentDate):t;for(let n=r.length;n>=0;n--){It(`_moveOldFiles: i = ${n}`);let i=this.fileFormatter({date:this.state.currentDate,index:n}),o=this.fileFormatter({date:this.state.currentDate,index:n+1}),s={compress:this.options.compress&&n===0,mode:this.options.mode};await vL(i,o,s)}this.state.currentSize=0,this.state.currentDate=this.state.currentDate?Ql(this.options.pattern,Jl()):null,It(`_moveOldFiles: finished rolling files. state=${JSON.stringify(this.state)}`),this._renewWriteStream(),await new Promise((n,i)=>{this.currentFileStream.write("","utf8",()=>{this._clean().then(n).catch(i)})})}async _getExistingFiles(){let t=await ui.readdir(this.fileObject.dir).catch(()=>[]);It(`_getExistingFiles: files=${t}`);let r=t.map(i=>this.fileNameParser(i)).filter(i=>i),n=i=>(i.timestamp?i.timestamp:Jl().getTime())-i.index;return r.sort((i,o)=>n(i)-n(o)),r}_renewWriteStream(){let t=this.fileFormatter({date:this.state.currentDate,index:0}),r=o=>{try{return ui.mkdirSync(o,{recursive:!0})}catch(s){if(s.code==="ENOENT")return r(ai.dirname(o)),r(o);if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(ui.statSync(o).isDirectory())return o;throw s}catch{throw s}}};r(this.fileObject.dir);let n={flags:this.options.flags,encoding:this.options.encoding,mode:this.options.mode},i=function(o,s,a){return o[a]=o[s],delete o[s],o};ui.appendFileSync(t,"",i({...n},"flags","flag")),this.currentFileStream=ui.createWriteStream(t,n),this.currentFileStream.on("error",o=>{this.emit("error",o)})}async _clean(){let t=await this._getExistingFiles();if(It(`_clean: numToKeep = ${this.options.numToKeep}, existingFiles = ${t.length}`),It("_clean: existing files are: ",t),this._tooManyFiles(t.length)){let r=t.slice(0,t.length-this.options.numToKeep).map(n=>ai.format({dir:this.fileObject.dir,base:n.filename}));await bL(r)}}_tooManyFiles(t){return this.options.numToKeep>0&&t>this.options.numToKeep}};Yx.exports=Dh});var Xx=v((QV,Zx)=>{var wL=Yl(),Ph=class extends wL{constructor(t,r,n,i){i||(i={}),r&&(i.maxSize=r),!i.numBackups&&i.numBackups!==0&&(!n&&n!==0&&(n=1),i.numBackups=n),super(t,i),this.backups=i.numBackups,this.size=this.options.maxSize}get theStream(){return this.currentFileStream}};Zx.exports=Ph});var t1=v((YV,e1)=>{var xL=Yl(),Mh=class extends xL{constructor(t,r,n){r&&typeof r=="object"&&(n=r,r=null),n||(n={}),r||(r="yyyy-MM-dd"),n.pattern=r,!n.numBackups&&n.numBackups!==0?(!n.daysToKeep&&n.daysToKeep!==0?n.daysToKeep=1:process.emitWarning("options.daysToKeep is deprecated due to the confusion it causes when used together with file size rolling. Please use options.numBackups instead.","DeprecationWarning","streamroller-DEP0001"),n.numBackups=n.daysToKeep):n.daysToKeep=n.numBackups,super(t,n),this.mode=this.options.mode}get theStream(){return this.currentFileStream}};e1.exports=Mh});var jh=v((ZV,r1)=>{r1.exports={RollingFileWriteStream:Yl(),RollingFileStream:Xx(),DateRollingFileStream:t1()}});var a1=v((XV,s1)=>{var n1=qe()("log4js:file"),Lh=require("path"),EL=jh(),o1=require("os"),kL=o1.EOL,Zl=!1,Xl=new Set;function i1(){Xl.forEach(e=>{e.sighupHandler()})}function _L(e,t,r,n,i,o){if(typeof e!="string"||e.length===0)throw new Error(`Invalid filename: ${e}`);if(e.endsWith(Lh.sep))throw new Error(`Filename is a directory: ${e}`);e=e.replace(new RegExp(`^~(?=${Lh.sep}.+)`),o1.homedir()),e=Lh.normalize(e),n=!n&&n!==0?5:n,n1("Creating file appender (",e,", ",r,", ",n,", ",i,", ",o,")");function s(l,c,f,p){let d=new EL.RollingFileStream(l,c,f,p);return d.on("error",m=>{console.error("log4js.fileAppender - Writing to file %s, error happened ",l,m)}),d.on("drain",()=>{process.emit("log4js:pause",!1)}),d}let a=s(e,r,n,i),u=function(l){if(!!a.writable){if(i.removeColor===!0){let c=/\x1b[[0-9;]*m/g;l.data=l.data.map(f=>typeof f=="string"?f.replace(c,""):f)}a.write(t(l,o)+kL,"utf8")||process.emit("log4js:pause",!0)}};return u.reopen=function(){a.end(()=>{a=s(e,r,n,i)})},u.sighupHandler=function(){n1("SIGHUP handler called."),u.reopen()},u.shutdown=function(l){Xl.delete(u),Xl.size===0&&Zl&&(process.removeListener("SIGHUP",i1),Zl=!1),a.end("","utf-8",l)},Xl.add(u),Zl||(process.on("SIGHUP",i1),Zl=!0),u}function SL(e,t){let r=t.basicLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),e.mode=e.mode||384,_L(e.filename,r,e.maxLogSize,e.backups,e,e.timezoneOffset)}s1.exports.configure=SL});var l1=v((eG,u1)=>{var AL=jh(),CL=require("os"),TL=CL.EOL;function OL(e,t,r){let n=new AL.DateRollingFileStream(e,t,r);return n.on("error",i=>{console.error("log4js.dateFileAppender - Writing to file %s, error happened ",e,i)}),n.on("drain",()=>{process.emit("log4js:pause",!1)}),n}function IL(e,t,r,n,i){n.maxSize=n.maxLogSize;let o=OL(e,t,n),s=function(a){!o.writable||o.write(r(a,i)+TL,"utf8")||process.emit("log4js:pause",!0)};return s.shutdown=function(a){o.end("","utf-8",a)},s}function FL(e,t){let r=t.basicLayout;return e.layout&&(r=t.layout(e.layout.type,e.layout)),e.alwaysIncludePattern||(e.alwaysIncludePattern=!1),e.mode=e.mode||384,IL(e.filename,e.pattern,r,e,e.timezoneOffset)}u1.exports.configure=FL});var d1=v((tG,p1)=>{var Mr=qe()("log4js:fileSync"),yr=require("path"),gr=require("fs"),c1=require("os"),NL=c1.EOL;function f1(e,t){let r=n=>{try{return gr.mkdirSync(n,{recursive:!0})}catch(i){if(i.code==="ENOENT")return r(yr.dirname(n)),r(n);if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(gr.statSync(n).isDirectory())return n;throw i}catch{throw i}}};r(yr.dirname(e)),gr.appendFileSync(e,"",{mode:t.mode,flag:t.flags})}var Rh=class{constructor(t,r,n,i){if(Mr("In RollingFileStream"),r<0)throw new Error(`maxLogSize (${r}) should be > 0`);this.filename=t,this.size=r,this.backups=n,this.options=i,this.currentSize=0;function o(s){let a=0;try{a=gr.statSync(s).size}catch{f1(s,i)}return a}this.currentSize=o(this.filename)}shouldRoll(){return Mr("should roll with current size %d, and max size %d",this.currentSize,this.size),this.currentSize>=this.size}roll(t){let r=this,n=new RegExp(`^${yr.basename(t)}`);function i(l){return n.test(l)}function o(l){return parseInt(l.slice(`${yr.basename(t)}.`.length),10)||0}function s(l,c){return o(l)-o(c)}function a(l){let c=o(l);if(Mr(`Index of ${l} is ${c}`),r.backups===0)gr.truncateSync(t,0);else if(c<r.backups){try{gr.unlinkSync(`${t}.${c+1}`)}catch{}Mr(`Renaming ${l} -> ${t}.${c+1}`),gr.renameSync(yr.join(yr.dirname(t),l),`${t}.${c+1}`)}}function u(){Mr("Renaming the old files"),gr.readdirSync(yr.dirname(t)).filter(i).sort(s).reverse().forEach(a)}Mr("Rolling, rolling, rolling"),u()}write(t,r){let n=this;function i(){Mr("writing the chunk to the file"),n.currentSize+=t.length,gr.appendFileSync(n.filename,t)}Mr("in write"),this.shouldRoll()&&(this.currentSize=0,this.roll(this.filename)),i()}};function DL(e,t,r,n,i,o){if(typeof e!="string"||e.length===0)throw new Error(`Invalid filename: ${e}`);if(e.endsWith(yr.sep))throw new Error(`Filename is a directory: ${e}`);e=e.replace(new RegExp(`^~(?=${yr.sep}.+)`),c1.homedir()),e=yr.normalize(e),n=!n&&n!==0?5:n,Mr("Creating fileSync appender (",e,", ",r,", ",n,", ",i,", ",o,")");function s(u,l,c){let f;return l?f=new Rh(u,l,c,i):f=(p=>(f1(p,i),{write(d){gr.appendFileSync(p,d)}}))(u),f}let a=s(e,r,n);return u=>{a.write(t(u,o)+NL)}}function PL(e,t){let r=t.basicLayout;e.layout&&(r=t.layout(e.layout.type,e.layout));let n={flags:e.flags||"a",encoding:e.encoding||"utf8",mode:e.mode||384};return DL(e.filename,r,e.maxLogSize,e.backups,n,e.timezoneOffset)}p1.exports.configure=PL});var m1=v((rG,h1)=>{var vr=qe()("log4js:tcp"),ML=require("net");function jL(e,t){let r=!1,n=[],i,o=3,s="__LOG4JS__";function a(f){vr("Writing log event to socket"),r=i.write(`${t(f)}${s}`,"utf8")}function u(){let f;for(vr("emptying buffer");f=n.shift();)a(f)}function l(){vr(`appender creating socket to ${e.host||"localhost"}:${e.port||5e3}`),s=`${e.endMsg||"__LOG4JS__"}`,i=ML.createConnection(e.port||5e3,e.host||"localhost"),i.on("connect",()=>{vr("socket connected"),u(),r=!0}),i.on("drain",()=>{vr("drain event received, emptying buffer"),r=!0,u()}),i.on("timeout",i.end.bind(i)),i.on("error",f=>{vr("connection error",f),r=!1,u()}),i.on("close",l)}l();function c(f){r?a(f):(vr("buffering log event because it cannot write at the moment"),n.push(f))}return c.shutdown=function(f){vr("shutdown called"),n.length&&o?(vr("buffer has items, waiting 100ms to empty"),o-=1,setTimeout(()=>{c.shutdown(f)},100)):(i.removeAllListeners("close"),i.end(f))},c}function LL(e,t){vr(`configure with config = ${e}`);let r=function(n){return n.serialise()};return e.layout&&(r=t.layout(e.layout.type,e.layout)),jL(e,r)}h1.exports.configure=LL});var $h=v((nG,Bh)=>{var qh=require("path"),cn=qe()("log4js:appenders"),zt=ei(),g1=jl(),RL=ri(),qL=ih(),BL=db(),ir=new Map;ir.set("console",mb());ir.set("stdout",yb());ir.set("stderr",bb());ir.set("logLevelFilter",xb());ir.set("categoryFilter",_b());ir.set("noLogFilter",Cb());ir.set("file",a1());ir.set("dateFile",l1());ir.set("fileSync",d1());ir.set("tcp",m1());var Js=new Map,ec=(e,t)=>{let r;try{let n=`${e}.cjs`;r=require.resolve(n),cn("Loading module from ",n)}catch{r=e,cn("Loading module from ",e)}try{return require(r)}catch(n){zt.throwExceptionIf(t,n.code!=="MODULE_NOT_FOUND",`appender "${e}" could not be loaded (error was: ${n})`);return}},$L=(e,t)=>ir.get(e)||ec(`./${e}`,t)||ec(e,t)||require.main&&require.main.filename&&ec(qh.join(qh.dirname(require.main.filename),e),t)||ec(qh.join(process.cwd(),e),t),tc=new Set,y1=(e,t)=>{if(Js.has(e))return Js.get(e);if(!t.appenders[e])return!1;if(tc.has(e))throw new Error(`Dependency loop detected for appender ${e}.`);tc.add(e),cn(`Creating appender ${e}`);let r=zL(e,t);return tc.delete(e),Js.set(e,r),r},zL=(e,t)=>{let r=t.appenders[e],n=r.type.configure?r.type:$L(r.type,t);return zt.throwExceptionIf(t,zt.not(n),`appender "${e}" is not valid (type "${r.type}" could not be found)`),n.appender&&(process.emitWarning(`Appender ${r.type} exports an appender function.`,"DeprecationWarning","log4js-node-DEP0001"),cn("[log4js-node-DEP0001]",`DEPRECATION: Appender ${r.type} exports an appender function.`)),n.shutdown&&(process.emitWarning(`Appender ${r.type} exports a shutdown function.`,"DeprecationWarning","log4js-node-DEP0002"),cn("[log4js-node-DEP0002]",`DEPRECATION: Appender ${r.type} exports a shutdown function.`)),cn(`${e}: clustering.isMaster ? ${g1.isMaster()}`),cn(`${e}: appenderModule is ${require("util").inspect(n)}`),g1.onlyOnMaster(()=>(cn(`calling appenderModule.configure for ${e} / ${r.type}`),n.configure(BL.modifyConfig(r),qL,i=>y1(i,t),RL)),()=>{})},v1=e=>{if(Js.clear(),tc.clear(),!e)return;let t=[];Object.values(e.categories).forEach(r=>{t.push(...r.appenders)}),Object.keys(e.appenders).forEach(r=>{(t.includes(r)||e.appenders[r].type==="tcp-server"||e.appenders[r].type==="multiprocess")&&y1(r,e)})},b1=()=>{v1()};b1();zt.addListener(e=>{zt.throwExceptionIf(e,zt.not(zt.anObject(e.appenders)),'must have a property "appenders" of type object.');let t=Object.keys(e.appenders);zt.throwExceptionIf(e,zt.not(t.length),"must define at least one appender."),t.forEach(r=>{zt.throwExceptionIf(e,zt.not(e.appenders[r].type),`appender "${r}" is not valid (must be an object with property "type")`)})});zt.addListener(v1);Bh.exports=Js;Bh.exports.init=b1});var Uh=v((iG,rc)=>{var Qs=qe()("log4js:categories"),we=ei(),zh=ri(),w1=$h(),fn=new Map;function x1(e,t,r){if(t.inherit===!1)return;let n=r.lastIndexOf(".");if(n<0)return;let i=r.slice(0,n),o=e.categories[i];o||(o={inherit:!0,appenders:[]}),x1(e,o,i),!e.categories[i]&&o.appenders&&o.appenders.length&&o.level&&(e.categories[i]=o),t.appenders=t.appenders||[],t.level=t.level||o.level,o.appenders.forEach(s=>{t.appenders.includes(s)||t.appenders.push(s)}),t.parent=o}function WL(e){if(!e.categories)return;Object.keys(e.categories).forEach(r=>{let n=e.categories[r];x1(e,n,r)})}we.addPreProcessingListener(e=>WL(e));we.addListener(e=>{we.throwExceptionIf(e,we.not(we.anObject(e.categories)),'must have a property "categories" of type object.');let t=Object.keys(e.categories);we.throwExceptionIf(e,we.not(t.length),"must define at least one category."),t.forEach(r=>{let n=e.categories[r];we.throwExceptionIf(e,[we.not(n.appenders),we.not(n.level)],`category "${r}" is not valid (must be an object with properties "appenders" and "level")`),we.throwExceptionIf(e,we.not(Array.isArray(n.appenders)),`category "${r}" is not valid (appenders must be an array of appender names)`),we.throwExceptionIf(e,we.not(n.appenders.length),`category "${r}" is not valid (appenders must contain at least one appender name)`),Object.prototype.hasOwnProperty.call(n,"enableCallStack")&&we.throwExceptionIf(e,typeof n.enableCallStack!="boolean",`category "${r}" is not valid (enableCallStack must be boolean type)`),n.appenders.forEach(i=>{we.throwExceptionIf(e,we.not(w1.get(i)),`category "${r}" is not valid (appender "${i}" is not defined)`)}),we.throwExceptionIf(e,we.not(zh.getLevel(n.level)),`category "${r}" is not valid (level "${n.level}" not recognised; valid levels are ${zh.levels.join(", ")})`)}),we.throwExceptionIf(e,we.not(e.categories.default),'must define a "default" category.')});var Wh=e=>{if(fn.clear(),!e)return;Object.keys(e.categories).forEach(r=>{let n=e.categories[r],i=[];n.appenders.forEach(o=>{i.push(w1.get(o)),Qs(`Creating category ${r}`),fn.set(r,{appenders:i,level:zh.getLevel(n.level),enableCallStack:n.enableCallStack||!1})})})},E1=()=>{Wh()};E1();we.addListener(Wh);var Zi=e=>{if(Qs(`configForCategory: searching for config for ${e}`),fn.has(e))return Qs(`configForCategory: ${e} exists in config, returning it`),fn.get(e);let t;return e.indexOf(".")>0?(Qs(`configForCategory: ${e} has hierarchy, cloning from parents`),t={...Zi(e.slice(0,e.lastIndexOf(".")))}):(fn.has("default")||Wh({categories:{default:{appenders:["out"],level:"OFF"}}}),Qs("configForCategory: cloning default category"),t={...fn.get("default")}),fn.set(e,t),t},UL=e=>Zi(e).appenders,HL=e=>Zi(e).level,VL=(e,t)=>{Zi(e).level=t},GL=e=>Zi(e).enableCallStack===!0,KL=(e,t)=>{Zi(e).enableCallStack=t};rc.exports=fn;rc.exports=Object.assign(rc.exports,{appendersForCategory:UL,getLevelForCategory:HL,setLevelForCategory:VL,getEnableCallStackForCategory:GL,setEnableCallStackForCategory:KL,init:E1})});var C1=v((oG,A1)=>{var k1=qe()("log4js:logger"),JL=oh(),br=ri(),QL=jl(),nc=Uh(),_1=ei(),YL=/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/;function ZL(e,t=4){try{let r=e.stack.split(`
`).slice(t),n=YL.exec(r[0]);if(n&&n.length===6)return{functionName:n[1],fileName:n[2],lineNumber:parseInt(n[3],10),columnNumber:parseInt(n[4],10),callStack:r.join(`
`)};console.error("log4js.logger - defaultParseCallStack error")}catch(r){console.error("log4js.logger - defaultParseCallStack error",r)}return null}var Ys=class{constructor(t){if(!t)throw new Error("No category provided.");this.category=t,this.context={},this.parseCallStack=ZL,k1(`Logger created (${this.category}, ${this.level})`)}get level(){return br.getLevel(nc.getLevelForCategory(this.category),br.OFF)}set level(t){nc.setLevelForCategory(this.category,br.getLevel(t,this.level))}get useCallStack(){return nc.getEnableCallStackForCategory(this.category)}set useCallStack(t){nc.setEnableCallStackForCategory(this.category,t===!0)}log(t,...r){let n=br.getLevel(t);n?this.isLevelEnabled(n)&&this._log(n,r):_1.validIdentifier(t)&&r.length>0?(this.log(br.WARN,"log4js:logger.log: valid log-level not found as first parameter given:",t),this.log(br.INFO,`[${t}]`,...r)):this.log(br.INFO,t,...r)}isLevelEnabled(t){return this.level.isLessThanOrEqualTo(t)}_log(t,r){k1(`sending log data (${t}) to appenders`);let n=new JL(this.category,t,r,this.context,this.useCallStack&&this.parseCallStack(new Error));QL.send(n)}addContext(t,r){this.context[t]=r}removeContext(t){delete this.context[t]}clearContext(){this.context={}}setParseCallStackFunction(t){this.parseCallStack=t}};function S1(e){let t=br.getLevel(e),n=t.toString().toLowerCase().replace(/_([a-z])/g,o=>o[1].toUpperCase()),i=n[0].toUpperCase()+n.slice(1);Ys.prototype[`is${i}Enabled`]=function(){return this.isLevelEnabled(t)},Ys.prototype[n]=function(...o){this.log(t,...o)}}br.levels.forEach(S1);_1.addListener(()=>{br.levels.forEach(S1)});A1.exports=Ys});var I1=v((sG,O1)=>{var Xi=ri(),XL=':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"';function eR(e){return e.originalUrl||e.url}function tR(e,t,r){let n=o=>{let s=o.concat();for(let a=0;a<s.length;++a)for(let u=a+1;u<s.length;++u)s[a].token==s[u].token&&s.splice(u--,1);return s},i=[];return i.push({token:":url",replacement:eR(e)}),i.push({token:":protocol",replacement:e.protocol}),i.push({token:":hostname",replacement:e.hostname}),i.push({token:":method",replacement:e.method}),i.push({token:":status",replacement:t.__statusCode||t.statusCode}),i.push({token:":response-time",replacement:t.responseTime}),i.push({token:":date",replacement:new Date().toUTCString()}),i.push({token:":referrer",replacement:e.headers.referer||e.headers.referrer||""}),i.push({token:":http-version",replacement:`${e.httpVersionMajor}.${e.httpVersionMinor}`}),i.push({token:":remote-addr",replacement:e.headers["x-forwarded-for"]||e.ip||e._remoteAddress||e.socket&&(e.socket.remoteAddress||e.socket.socket&&e.socket.socket.remoteAddress)}),i.push({token:":user-agent",replacement:e.headers["user-agent"]}),i.push({token:":content-length",replacement:t.getHeader("content-length")||t.__headers&&t.__headers["Content-Length"]||"-"}),i.push({token:/:req\[([^\]]+)]/g,replacement(o,s){return e.headers[s.toLowerCase()]}}),i.push({token:/:res\[([^\]]+)]/g,replacement(o,s){return t.getHeader(s.toLowerCase())||t.__headers&&t.__headers[s]}}),n(r.concat(i))}function T1(e,t){for(let r=0;r<t.length;r++)e=e.replace(t[r].token,t[r].replacement);return e}function rR(e){let t=null;if(e instanceof RegExp&&(t=e),typeof e=="string"&&(t=new RegExp(e)),Array.isArray(e)){let r=e.map(n=>n.source?n.source:n);t=new RegExp(r.join("|"))}return t}function nR(e,t,r){let n=t;if(r){let i=r.find(o=>{let s=!1;return o.from&&o.to?s=e>=o.from&&e<=o.to:s=o.codes.indexOf(e)!==-1,s});i&&(n=Xi.getLevel(i.level,n))}return n}O1.exports=function(t,r){typeof r=="string"||typeof r=="function"?r={format:r}:r=r||{};let n=t,i=Xi.getLevel(r.level,Xi.INFO),o=r.format||XL;return(s,a,u)=>{if(s._logging!==void 0)return u();if(typeof r.nolog!="function"){let l=rR(r.nolog);if(l&&l.test(s.originalUrl))return u()}if(n.isLevelEnabled(i)||r.level==="auto"){let l=new Date,{writeHead:c}=a;s._logging=!0,a.writeHead=(d,m)=>{a.writeHead=c,a.writeHead(d,m),a.__statusCode=d,a.__headers=m||{}};let f=!1,p=()=>{if(f)return;if(f=!0,typeof r.nolog=="function"&&r.nolog(s,a)===!0){s._logging=!1;return}a.responseTime=new Date-l,a.statusCode&&r.level==="auto"&&(i=Xi.INFO,a.statusCode>=300&&(i=Xi.WARN),a.statusCode>=400&&(i=Xi.ERROR)),i=nR(a.statusCode,i,r.statusRules);let d=tR(s,a,r.tokens||[]);if(r.context&&n.addContext("res",a),typeof o=="function"){let m=o(s,a,b=>T1(b,d));m&&n.log(i,m)}else n.log(i,T1(o,d));r.context&&n.removeContext("res")};a.on("end",p),a.on("finish",p),a.on("error",p),a.on("close",p)}return u()}}});var M1=v((aG,P1)=>{var F1=qe()("log4js:recording"),ic=[];function iR(){return function(e){F1(`received logEvent, number of events now ${ic.length+1}`),F1("log event was ",e),ic.push(e)}}function N1(){return ic.slice()}function D1(){ic.length=0}P1.exports={configure:iR,replay:N1,playback:N1,reset:D1,erase:D1}});var Hh=v((uG,$1)=>{var pn=qe()("log4js:main"),oR=require("fs"),sR=Tv()({proto:!0}),aR=ei(),uR=ih(),lR=ri(),j1=$h(),L1=Uh(),cR=C1(),fR=jl(),pR=I1(),dR=M1(),Zs=!1;function hR(e){if(!Zs)return;pn("Received log event ",e),L1.appendersForCategory(e.categoryName).forEach(r=>{r(e)})}function mR(e){pn(`Loading configuration from ${e}`);try{return JSON.parse(oR.readFileSync(e,"utf8"))}catch(t){throw new Error(`Problem reading config from file "${e}". Error was ${t.message}`,t)}}function R1(e){Zs&&q1();let t=e;return typeof t=="string"&&(t=mR(e)),pn(`Configuration is ${t}`),aR.configure(sR(t)),fR.onMessage(hR),Zs=!0,B1}function gR(){return dR}function q1(e){pn("Shutdown called. Disabling all log writing."),Zs=!1;let t=Array.from(j1.values());j1.init(),L1.init();let r=t.reduceRight((s,a)=>a.shutdown?s+1:s,0);if(r===0)return pn("No appenders with shutdown functions found."),e!==void 0&&e();let n=0,i;pn(`Found ${r} appenders with shutdown functions.`);function o(s){i=i||s,n+=1,pn(`Appender shutdowns complete: ${n} / ${r}`),n>=r&&(pn("All shutdown functions completed."),e&&e(i))}return t.filter(s=>s.shutdown).forEach(s=>s.shutdown(o)),null}function yR(e){return Zs||R1(process.env.LOG4JS_CONFIG||{appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"OFF"}}}),new cR(e||"default")}var B1={getLogger:yR,configure:R1,shutdown:q1,connectLogger:pR,levels:lR,addLayout:uR.addLayout,recording:gR};$1.exports=B1});var Gh=v((exports,module)=>{(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define("workerpool",[],r):typeof exports=="object"?exports.workerpool=r():t.workerpool=r()})(typeof self<"u"?self:exports,function(){return function(){var __webpack_modules__={162:function(e,t,r){"use strict";r.r(t),r.d(t,{IFrameWorker:function(){return i}});function n(){let o=document.createElement("iframe");return o.width=o.height=o.frameBorder="0",o.classList.add("iframe-worker"),o.style.display="contents",o}class i{constructor(s,a){if(this.scriptText=s,this.onerror=null,this.onmessage=null,this.onmessageerror=null,this.handleMessage=l=>{l.source===this.worker&&(l.stopImmediatePropagation(),this.dispatchEvent(new MessageEvent("message",{data:l.data})),this.onmessage&&this.onmessage(l))},this.handleError=(l,c,f,p,d)=>{if(c===this.scriptText.toString()){let m=new ErrorEvent("error",{message:l,filename:c,lineno:f,colno:p,error:d});this.dispatchEvent(m),this.onerror&&this.onerror(m)}},typeof a<"u")throw new TypeError("Options are not supported for iframe workers");let u=new EventTarget;this.addEventListener=u.addEventListener.bind(u),this.removeEventListener=u.removeEventListener.bind(u),this.dispatchEvent=u.dispatchEvent.bind(u),document.body.appendChild(this.iframe=n()),this.worker.document.open(),this.worker.document.write(`<html><body><script>window.postMessage=
(message, origin) => {
  parent.postMessage(message, origin || "*")
};window.importScripts=
(...urls) => urls.reduce((promise, url) => (
  promise.then(() => new Promise(resolve => {
    const script = document.createElement("script")
    script.src = url
    script.addEventListener("load", () => resolve())
    document.body.appendChild(script)
  }))
), Promise.resolve());addEventListener("error",ev=>{parent.dispatchEvent(new ErrorEvent("error",{filename:"${s.substring(0,50)}",error:ev.error}))})<\/script><script type="module">${s}<\/script></body></html>`),this.worker.document.close(),window.addEventListener("message",this.handleMessage),window.onerror=this.handleError,this.ready=new Promise((l,c)=>{this.worker.onload=l,this.worker.onerror=c})}terminate(){document.body.removeChild(this.iframe),window.removeEventListener("message",this.handleMessage),window.onerror=null}postMessage(s){(async()=>{try{await this.ready}catch{}finally{this.worker.dispatchEvent(new MessageEvent("message",{data:s}))}})()}get worker(){return this.iframe.contentWindow}}},799:function(e,t,r){var n=r(446),i=r(518),o=r(722),s=r(393),a=new s;function u(d,m){typeof d=="string"?this.script=d||null:(this.script=null,m=d),this.workers=[],this.tasks=[],m=m||{},this.name=m.name,this.forkArgs=Object.freeze(m.forkArgs||[]),this.forkOpts=Object.freeze(m.forkOpts||{}),this.debugPortStart=m.debugPortStart||43210,this.nodeWorker=m.nodeWorker,this.workerType=m.workerType||m.nodeWorker||"auto",this.maxQueueSize=m.maxQueueSize||1/0,this.onCreateWorker=m.onCreateWorker||function(){return null},this.onTerminateWorker=m.onTerminateWorker||function(){return null},m&&"maxWorkers"in m?(l(m.maxWorkers),this.maxWorkers=m.maxWorkers):this.maxWorkers=Math.max((o.cpus||4)-1,1),m&&"minWorkers"in m&&(m.minWorkers==="max"?this.minWorkers=this.maxWorkers:(c(m.minWorkers),this.minWorkers=m.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&i.ensureWorkerThreads()}u.prototype.exec=function(d,m,b){if(m&&!Array.isArray(m))throw new TypeError('Array expected as argument "params"');if(typeof d=="string"){var h=n.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var g=this.tasks,y={method:d,params:m,resolver:h,timeout:null,options:b};g.push(y);var x=h.promise.timeout;return h.promise.timeout=function(j){return g.indexOf(y)!==-1?(y.timeout=j,h.promise):x.call(h.promise,j)},this._next(),h.promise}else{if(typeof d=="function")return this.exec("run",[String(d),m]);throw new TypeError('Function or string expected as argument "method"')}},u.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var d=this;return this.exec("methods").then(function(m){var b={};return m.forEach(function(h){b[h]=function(){return d.exec(h,Array.prototype.slice.call(arguments))}}),b})},u.prototype._next=function(){if(this.tasks.length>0){var d=this._getWorker();if(d){var m=this,b=this.tasks.shift();if(b.resolver.promise.pending){var h=d.exec(b.method,b.params,b.resolver,b.options).then(m._boundNext).catch(function(){if(d.terminated)return m._removeWorker(d)}).then(function(){m._next()});typeof b.timeout=="number"&&h.timeout(b.timeout)}else m._next()}}},u.prototype._getWorker=function(){for(var d=this.workers,m=0;m<d.length;m++){var b=d[m];if(b.busy()===!1)return b}return d.length<this.maxWorkers?(b=this._createWorkerHandler(),d.push(b),b):null},u.prototype._removeWorker=function(d){var m=this;return a.releasePort(d.debugPort),this._removeWorkerFromList(d),this._ensureMinWorkers(),new n(function(b,h){d.terminate(!1,function(g){m.onTerminateWorker({forkArgs:d.forkArgs,forkOpts:d.forkOpts,script:d.script}),g?h(g):b(d)})})},u.prototype._removeWorkerFromList=function(d){var m=this.workers.indexOf(d);m!==-1&&this.workers.splice(m,1)},u.prototype.terminate=function(d,m){var b=this;this.tasks.forEach(function(k){k.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var h=function(j){this._removeWorkerFromList(j)},g=h.bind(this),y=[],x=this.workers.slice();return x.forEach(function(k){var j=k.terminateAndNotify(d,m).then(g).always(function(){b.onTerminateWorker({forkArgs:k.forkArgs,forkOpts:k.forkOpts,script:k.script})});y.push(j)}),n.all(y)},u.prototype.stats=function(){var d=this.workers.length,m=this.workers.filter(function(b){return b.busy()}).length;return{totalWorkers:d,busyWorkers:m,idleWorkers:d-m,pendingTasks:this.tasks.length,activeTasks:m}},u.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var d=this.workers.length;d<this.minWorkers;d++)this.workers.push(this._createWorkerHandler())},u.prototype._createWorkerHandler=function(){var d=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,script:this.script})||{};return new i(d.script||this.script,{forkArgs:d.forkArgs||this.forkArgs,forkOpts:d.forkOpts||this.forkOpts,debugPort:a.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,name:this.name})};function l(d){if(!f(d)||!p(d)||d<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function c(d){if(!f(d)||!p(d)||d<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function f(d){return typeof d=="number"}function p(d){return Math.round(d)==d}e.exports=u},446:function(e){"use strict";function t(o,s){var a=this;if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(typeof o!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var u=[],l=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var c=function(m,b){u.push(m),l.push(b)};this.then=function(d,m){return new t(function(b,h){var g=d?r(d,b,h):b,y=m?r(m,b,h):h;c(g,y)},a)};var f=function(m){return a.resolved=!0,a.rejected=!1,a.pending=!1,u.forEach(function(b){b(m)}),c=function(h,g){h(m)},f=p=function(){},a},p=function(m){return a.resolved=!1,a.rejected=!0,a.pending=!1,l.forEach(function(b){b(m)}),c=function(h,g){g(m)},f=p=function(){},a};this.cancel=function(){return s?s.cancel():p(new n),a},this.timeout=function(d){if(s)s.timeout(d);else{var m=setTimeout(function(){p(new i("Promise timed out after "+d+" ms"))},d);a.always(function(){clearTimeout(m)})}return a},o(function(d){f(d)},function(d){p(d)})}function r(o,s,a){return function(u){try{var l=o(u);l&&typeof l.then=="function"&&typeof l.catch=="function"?l.then(s,a):s(l)}catch(c){a(c)}}}t.prototype.catch=function(o){return this.then(null,o)},t.prototype.always=function(o){return this.then(o,o)},t.all=function(o){return new t(function(s,a){var u=o.length,l=[];u?o.forEach(function(c,f){c.then(function(p){l[f]=p,u--,u==0&&s(l)},function(p){u=0,a(p)})}):s(l)})},t.defer=function(){var o={};return o.promise=new t(function(s,a){o.resolve=s,o.reject=a}),o};function n(o){this.message=o||"promise cancelled",this.stack=new Error().stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="CancellationError",t.CancellationError=n;function i(o){this.message=o||"timeout exceeded",this.stack=new Error().stack}i.prototype=new Error,i.prototype.constructor=Error,i.prototype.name="TimeoutError",t.TimeoutError=i,e.exports=t},518:function(e,t,r){"use strict";function n(w,C){var E=typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(!E){if(Array.isArray(w)||(E=i(w))||C&&w&&typeof w.length=="number"){E&&(w=E);var O=0,T=function(){};return{s:T,n:function(){return O>=w.length?{done:!0}:{done:!1,value:w[O++]}},e:function(Q){throw Q},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J=!0,B=!1,$;return{s:function(){E=E.call(w)},n:function(){var Q=E.next();return J=Q.done,Q},e:function(Q){B=!0,$=Q},f:function(){try{!J&&E.return!=null&&E.return()}finally{if(B)throw $}}}}function i(w,C){if(!!w){if(typeof w=="string")return o(w,C);var E=Object.prototype.toString.call(w).slice(8,-1);if(E==="Object"&&w.constructor&&(E=w.constructor.name),E==="Map"||E==="Set")return Array.from(w);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return o(w,C)}}function o(w,C){(C==null||C>w.length)&&(C=w.length);for(var E=0,O=new Array(C);E<C;E++)O[E]=w[E];return O}function s(w){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},s(w)}var a=r(446),u=r(722),l=r(781),c=r(162),f=c.IFrameWorker,p="__workerpool-terminate__",d=1e3;function m(){var w=h();if(!w)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return w}function b(){if(typeof Worker!="function"&&((typeof Worker>"u"?"undefined":s(Worker))!=="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function h(){try{return l("worker_threads")}catch(w){if(s(w)==="object"&&w!==null&&w.code==="MODULE_NOT_FOUND")return null;throw w}}function g(){if(u.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var w=new Blob([r(710)],{type:"text/javascript"});return window.URL.createObjectURL(w)}else return __dirname+"/worker.js"}function y(w,C){if(C.workerType==="iframe")return x(w,f,C);if(C.workerType==="web")return b(),x(w,Worker,C);if(C.workerType==="thread")return E=m(),k(w,E);if(C.workerType==="process"||!C.workerType)return j(w,F(C),l("child_process"));if(u.platform==="browser")return b(),x(w,Worker);var E=h();return E?k(w,E):j(w,F(C),l("child_process"))}function x(w,C,E){var O=new C(w,E!=null&&E.name?{name:"".concat(E.name,"-").concat(Date.now())}:void 0);return O.isBrowserWorker=!0,O.on=function(T,J){this.addEventListener(T,function(B){J(B.data)})},O.send=function(T){this.postMessage(T)},O}function k(w,C){var E=new C.Worker(w,{stdout:!1,stderr:!1});return E.isWorkerThread=!0,E.send=function(O){this.postMessage(O)},E.kill=function(){return this.terminate(),!0},E.disconnect=function(){this.terminate()},E}function j(w,C,E){var O=E.fork(w,C.forkArgs,C.forkOpts);return O.isChildProcess=!0,O}function F(w){w=w||{};var C=process.execArgv.join(" "),E=C.indexOf("--inspect")!==-1,O=C.indexOf("--debug-brk")!==-1,T=[];return E&&(T.push("--inspect="+w.debugPort),O&&T.push("--debug-brk")),process.execArgv.forEach(function(J){J.indexOf("--max-old-space-size")>-1&&T.push(J)}),Object.assign({},w,{forkArgs:w.forkArgs,forkOpts:Object.assign({},w.forkOpts,{execArgv:(w.forkOpts&&w.forkOpts.execArgv||[]).concat(T)})})}function W(w){for(var C=new Error(""),E=Object.keys(w),O=0;O<E.length;O++)C[E[O]]=w[E[O]];return C}function q(w,C){var E=this,O=C||{};this.script=w||g(),this.worker=y(this.script,O),this.debugPort=O.debugPort,this.forkOpts=O.forkOpts,this.forkArgs=O.forkArgs,w||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",function($){if(!E.terminated)if(typeof $=="string"&&$==="ready")E.worker.ready=!0,J();else{var G=$.id,Q=E.processing[G];Q!==void 0&&($.isEvent?Q.options&&typeof Q.options.on=="function"&&Q.options.on($.payload):(delete E.processing[G],E.terminating===!0&&E.terminate(),$.error?Q.resolver.reject(W($.error)):Q.resolver.resolve($.result)))}});function T($){E.terminated=!0;for(var G in E.processing)E.processing[G]!==void 0&&E.processing[G].resolver.reject($);E.processing=Object.create(null)}function J(){var $=n(E.requestQueue.splice(0)),G;try{for($.s();!(G=$.n()).done;){var Q=G.value;E.worker.send(Q)}}catch(ie){$.e(ie)}finally{$.f()}}var B=this.worker;this.worker.on("error",T),this.worker.on("exit",function($,G){var Q=`Workerpool Worker terminated Unexpectedly
`;Q+="    exitCode: `"+$+"`\n",Q+="    signalCode: `"+G+"`\n",Q+="    workerpool.script: `"+E.script+"`\n",Q+="    spawnArgs: `"+B.spawnargs+"`\n",Q+="    spawnfile: `"+B.spawnfile+"`\n",Q+="    stdout: `"+B.stdout+"`\n",Q+="    stderr: `"+B.stderr+"`\n",T(new Error(Q))}),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.terminationHandler=null,this.lastId=0}q.prototype.methods=function(){return this.exec("methods")},q.prototype.exec=function(w,C,E,O){E||(E=a.defer());var T=++this.lastId;this.processing[T]={id:T,resolver:E,options:O};var J={id:T,method:w,params:C};this.terminated?E.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(J):this.requestQueue.push(J);var B=this;return E.promise.catch(function($){if($ instanceof a.CancellationError||$ instanceof a.TimeoutError)return delete B.processing[T],B.terminateAndNotify(!0).then(function(){throw $},function(G){throw G});throw $})},q.prototype.busy=function(){return Object.keys(this.processing).length>0},q.prototype.terminate=function(w,C){var E=this;if(w){for(var O in this.processing)this.processing[O]!==void 0&&this.processing[O].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if(typeof C=="function"&&(this.terminationHandler=C),this.busy())this.terminating=!0;else{var T=function($){if(E.terminated=!0,E.worker!=null&&E.worker.removeAllListeners&&E.worker.removeAllListeners("message"),E.worker=null,E.terminating=!1,E.terminationHandler)E.terminationHandler($,E);else if($)throw $};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){T(new Error("worker already killed!"));return}if(this.worker.isChildProcess){var J=setTimeout(function(){E.worker&&E.worker.kill()},d);this.worker.once("exit",function(){clearTimeout(J),E.worker&&(E.worker.killed=!0),T()}),this.worker.ready?this.worker.send(p):this.requestQueue.push(p)}else this.worker.kill(),this.worker.killed=!0,T();return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");T()}},q.prototype.terminateAndNotify=function(w,C){var E=a.defer();return C&&(E.promise.timeout=C),this.terminate(w,function(O,T){O?E.reject(O):E.resolve(T)}),E.promise},e.exports=q,e.exports._tryRequireWorkerThreads=h,e.exports._setupProcessWorker=j,e.exports._setupBrowserWorker=x,e.exports._setupWorkerThreadWorker=k,e.exports.ensureWorkerThreads=m},393:function(e){"use strict";var t=65535;e.exports=r;function r(){this.ports=Object.create(null),this.length=0}r.prototype.nextAvailableStartingAt=function(n){for(;this.ports[n]===!0;)n++;if(n>=t)throw new Error("WorkerPool debug port limit reached: "+n+">= "+t);return this.ports[n]=!0,this.length++,n},r.prototype.releasePort=function(n){delete this.ports[n],this.length--}},722:function(e,t,r){var n=r(781),i=function(u){return typeof u<"u"&&u.versions!=null&&u.versions.node!=null};e.exports.isNode=i,e.exports.platform=typeof process<"u"&&i(process)?"node":"browser";var o=s("worker_threads");e.exports.isMainThread=e.exports.platform==="node"?(!o||o.isMainThread)&&!process.connected:typeof Window<"u",e.exports.cpus=e.exports.platform==="browser"?self.navigator.hardwareConcurrency:n("os").cpus().length;function s(a){try{return n(a)}catch{return null}}},710:function(e){e.exports=`!function(){var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var requireFoolWebpack=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \\" + module + \\" not found.') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(r,e){addEventListener(r,function(r){e(r.data)})},worker.send=function(r){postMessage(r)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(r,e){return Object.defineProperty(r,e,{value:o[e],enumerable:!0})},{})}function isPromise(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch}worker.methods={},worker.methods.run=function(r,e){r=new Function("return ("+r+").apply(null, arguments);");return r.apply(r,e)},worker.methods.methods=function(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var r=worker.methods[e.method];if(!r)throw new Error('Unknown method "'+e.method+'"');currentRequestId=e.id;var o=r.apply(r,e.params);isPromise(o)?o.then(function(r){worker.send({id:e.id,result:r,error:null}),currentRequestId=null}).catch(function(r){worker.send({id:e.id,result:null,error:convertError(r)}),currentRequestId=null}):(worker.send({id:e.id,result:o,error:null}),currentRequestId=null)}catch(r){worker.send({id:e.id,result:null,error:convertError(r)})}}),worker.register=function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(worker.methods[e]=r[e]);worker.send("ready")},worker.emit=function(r){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:r})},__webpack_unused_export__=worker.register,worker.emit}()}();`},781:function(module){var requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`);module.exports=requireFoolWebpack},52:function(__unused_webpack_module,exports){function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function e(){}};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")worker.on=function(e,t){addEventListener(e,function(r){t(r.data)})},worker.send=function(e){postMessage(e)};else if(typeof process<"u"){var WorkerThreads;try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(e){if(!(_typeof(e)==="object"&&e!==null&&e.code==="MODULE_NOT_FOUND"))throw e}if(WorkerThreads&&WorkerThreads.parentPort!==null){var parentPort=WorkerThreads.parentPort;worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)}else worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process)}else throw new Error("Script must be executed as a worker");function convertError(e){return Object.getOwnPropertyNames(e).reduce(function(t,r){return Object.defineProperty(t,r,{value:e[r],enumerable:!0})},{})}function isPromise(e){return e&&typeof e.then=="function"&&typeof e.catch=="function"}worker.methods={},worker.methods.run=function e(t,r){var n=new Function("return ("+t+").apply(null, arguments);");return n.apply(n,r)},worker.methods.methods=function e(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var t=worker.methods[e.method];if(t){currentRequestId=e.id;var r=t.apply(t,e.params);isPromise(r)?r.then(function(n){worker.send({id:e.id,result:n,error:null}),currentRequestId=null}).catch(function(n){worker.send({id:e.id,result:null,error:convertError(n)}),currentRequestId=null}):(worker.send({id:e.id,result:r,error:null}),currentRequestId=null)}else throw new Error('Unknown method "'+e.method+'"')}catch(n){worker.send({id:e.id,result:null,error:convertError(n)})}}),worker.register=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(worker.methods[t]=e[t]);worker.send("ready")},worker.emit=function(e){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:e})},exports.add=worker.register,exports.emit=worker.emit}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}(function(){__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var __webpack_exports__={};return function(){var e=__webpack_exports__,t=__webpack_require__(722);e.pool=function(n,i){var o=__webpack_require__(799);return new o(n,i)},e.worker=function(n){var i=__webpack_require__(52);i.add(n)},e.workerEmit=function(n){var i=__webpack_require__(52);i.emit(n)},e.Promise=__webpack_require__(446),e.platform=t.platform,e.isMainThread=t.isMainThread,e.cpus=t.cpus}(),__webpack_exports__}()})});var V1=v(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0})});var Kh=v(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.CreatorFieldMode=vt.AttachmentType=vt.TagType=vt.AnnotationType=void 0;var bR;(function(e){e[e.highlight=1]="highlight",e[e.note=2]="note",e[e.image=3]="image",e[e.ink=4]="ink"})(bR=vt.AnnotationType||(vt.AnnotationType={}));var wR;(function(e){e[e.manual=0]="manual",e[e.auto=1]="auto"})(wR=vt.TagType||(vt.TagType={}));var xR;(function(e){e[e.importedFile=0]="importedFile",e[e.importedUrl=1]="importedUrl",e[e.linkedFile=2]="linkedFile",e[e.linkedUrl=3]="linkedUrl",e[e.embeddedImage=4]="embeddedImage"})(xR=vt.AttachmentType||(vt.AttachmentType={}));var ER;(function(e){e[e.fullName=0]="fullName",e[e.nameOnly=1]="nameOnly"})(ER=vt.CreatorFieldMode||(vt.CreatorFieldMode={}))});var Jh=v(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.nonRegularItemTypes=bt.requiredKeys=bt.isCreatorNameOnly=bt.isCreatorFullName=bt.getCreatorName=void 0;var kR=nr(),G1=Kh(),_R=e=>(0,bt.isCreatorFullName)(e)?[e.firstName,e.lastName].join(" "):(0,bt.isCreatorNameOnly)(e)?e.lastName:null;bt.getCreatorName=_R;var SR=e=>{let t=e;return t.fieldMode===G1.CreatorFieldMode.fullName&&t.firstName!==null&&t.lastName!==null};bt.isCreatorFullName=SR;var AR=e=>{let t=e;return t.fieldMode===G1.CreatorFieldMode.nameOnly&&t.lastName!==null};bt.isCreatorNameOnly=AR;bt.requiredKeys=new Set((0,kR.enumerate)()("creators","itemID","itemType","key","libraryID"));bt.nonRegularItemTypes=["attachment","note","annotation"]});var J1=v(K1=>{"use strict";Object.defineProperty(K1,"__esModule",{value:!0})});var Y1=v(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0})});var e2=v((gG,X1)=>{var Xs=class{log(){}isLevelEnabled(){return!1}addContext(){}removeContext(){}clearContext(){}};["Trace","Debug","Info","Warn","Error","Fatal","Mark"].forEach(e=>{Xs.prototype[e.toLowerCase()]=()=>{},Xs.prototype[`is${e}Enabled`]=()=>!1});var CR=()=>{try{return Hh()}catch{return null}},Z1=CR(),TR=Z1?Z1.getLogger:()=>new Xs;X1.exports={getLogger:TR}});var t2=v(Qh=>{"use strict";Object.defineProperty(Qh,"__esModule",{value:!0});var OR=e2();Qh.default=(0,OR.getLogger)("zotero-type")});var n2=v(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.getBacklink=wr.isAnnotationItem=wr.isGeneralItem=void 0;var IR=nr(),FR=Jh(),NR=t2(),DR=e=>!FR.nonRegularItemTypes.includes(e.itemType)&&typeof e.key=="string";wr.isGeneralItem=DR;var PR=e=>e.itemType==="annotation"&&!!e.parentItem;wr.isAnnotationItem=PR;var r2=e=>typeof e.groupID=="number"?`groups/${e.groupID}`:"library",MR=e=>{let t;if((0,wr.isGeneralItem)(e))t=new URL(`zotero://select/${r2(e)}/items/${e.key}`);else if((0,wr.isAnnotationItem)(e)){t=new URL(`zotero://open-pdf/${r2(e)}/items/${e.parentItem}`);let r;try{r=(0,IR.toPage)(e.position.pageIndex,!0)}catch(n){NR.default.warn(n),r=null}typeof r=="number"&&t.searchParams.append("page",r.toString()),e.key&&t.searchParams.append("annotation",e.key)}else return"";return t.toString()};wr.getBacklink=MR});var o2=v(i2=>{"use strict";Object.defineProperty(i2,"__esModule",{value:!0})});var Wt=v(wt=>{"use strict";var jR=wt&&wt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),eo=wt&&wt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jR(t,e,r)};Object.defineProperty(wt,"__esModule",{value:!0});wt.DB=void 0;wt.DB=V1();eo(Kh(),wt);eo(Jh(),wt);eo(J1(),wt);eo(Y1(),wt);eo(n2(),wt);eo(o2(),wt)});var ac=v((_G,c2)=>{"use strict";var l2=Object.getOwnPropertySymbols,LR=Object.prototype.hasOwnProperty,RR=Object.prototype.propertyIsEnumerable;function qR(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function BR(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}c2.exports=BR()?Object.assign:function(e,t){for(var r,n=qR(e),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)LR.call(r,s)&&(n[s]=r[s]);if(l2){i=l2(r);for(var a=0;a<i.length;a++)RR.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var A2=v(ne=>{"use strict";var Xh=ac(),to=60103,d2=60106;ne.Fragment=60107;ne.StrictMode=60108;ne.Profiler=60114;var h2=60109,m2=60110,g2=60112;ne.Suspense=60113;var y2=60115,v2=60116;typeof Symbol=="function"&&Symbol.for&&(Ut=Symbol.for,to=Ut("react.element"),d2=Ut("react.portal"),ne.Fragment=Ut("react.fragment"),ne.StrictMode=Ut("react.strict_mode"),ne.Profiler=Ut("react.profiler"),h2=Ut("react.provider"),m2=Ut("react.context"),g2=Ut("react.forward_ref"),ne.Suspense=Ut("react.suspense"),y2=Ut("react.memo"),v2=Ut("react.lazy"));var Ut,f2=typeof Symbol=="function"&&Symbol.iterator;function $R(e){return e===null||typeof e!="object"?null:(e=f2&&e[f2]||e["@@iterator"],typeof e=="function"?e:null)}function ea(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w2={};function ro(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||b2}ro.prototype.isReactComponent={};ro.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(ea(85));this.updater.enqueueSetState(this,e,t,"setState")};ro.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x2(){}x2.prototype=ro.prototype;function em(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||b2}var tm=em.prototype=new x2;tm.constructor=em;Xh(tm,ro.prototype);tm.isPureReactComponent=!0;var rm={current:null},E2=Object.prototype.hasOwnProperty,k2={key:!0,ref:!0,__self:!0,__source:!0};function _2(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)E2.call(t,n)&&!k2.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];i.children=u}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:to,type:e,key:o,ref:s,props:i,_owner:rm.current}}function zR(e,t){return{$$typeof:to,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nm(e){return typeof e=="object"&&e!==null&&e.$$typeof===to}function WR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var p2=/\/+/g;function Zh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?WR(""+e.key):t.toString(36)}function lc(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case to:case d2:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Zh(s,0):n,Array.isArray(i)?(r="",e!=null&&(r=e.replace(p2,"$&/")+"/"),lc(i,t,r,"",function(l){return l})):i!=null&&(nm(i)&&(i=zR(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(p2,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(e))for(var a=0;a<e.length;a++){o=e[a];var u=n+Zh(o,a);s+=lc(o,t,r,u,i)}else if(u=$R(e),typeof u=="function")for(e=u.call(e),a=0;!(o=e.next()).done;)o=o.value,u=n+Zh(o,a++),s+=lc(o,t,r,u,i);else if(o==="object")throw t=""+e,Error(ea(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function uc(e,t,r){if(e==null)return e;var n=[],i=0;return lc(e,n,"","",function(o){return t.call(r,o,i++)}),n}function UR(e){if(e._status===-1){var t=e._result;t=t(),e._status=0,e._result=t,t.then(function(r){e._status===0&&(r=r.default,e._status=1,e._result=r)},function(r){e._status===0&&(e._status=2,e._result=r)})}if(e._status===1)return e._result;throw e._result}var S2={current:null};function jr(){var e=S2.current;if(e===null)throw Error(ea(321));return e}var HR={ReactCurrentDispatcher:S2,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:rm,IsSomeRendererActing:{current:!1},assign:Xh};ne.Children={map:uc,forEach:function(e,t,r){uc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return uc(e,function(){t++}),t},toArray:function(e){return uc(e,function(t){return t})||[]},only:function(e){if(!nm(e))throw Error(ea(143));return e}};ne.Component=ro;ne.PureComponent=em;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HR;ne.cloneElement=function(e,t,r){if(e==null)throw Error(ea(267,e));var n=Xh({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=rm.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)E2.call(t,u)&&!k2.hasOwnProperty(u)&&(n[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var l=0;l<u;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:to,type:e.type,key:i,ref:o,props:n,_owner:s}};ne.createContext=function(e,t){return t===void 0&&(t=null),e={$$typeof:m2,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider={$$typeof:h2,_context:e},e.Consumer=e};ne.createElement=_2;ne.createFactory=function(e){var t=_2.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:g2,render:e}};ne.isValidElement=nm;ne.lazy=function(e){return{$$typeof:v2,_payload:{_status:-1,_result:e},_init:UR}};ne.memo=function(e,t){return{$$typeof:y2,type:e,compare:t===void 0?null:t}};ne.useCallback=function(e,t){return jr().useCallback(e,t)};ne.useContext=function(e,t){return jr().useContext(e,t)};ne.useDebugValue=function(){};ne.useEffect=function(e,t){return jr().useEffect(e,t)};ne.useImperativeHandle=function(e,t,r){return jr().useImperativeHandle(e,t,r)};ne.useLayoutEffect=function(e,t){return jr().useLayoutEffect(e,t)};ne.useMemo=function(e,t){return jr().useMemo(e,t)};ne.useReducer=function(e,t,r){return jr().useReducer(e,t,r)};ne.useRef=function(e){return jr().useRef(e)};ne.useState=function(e){return jr().useState(e)};ne.version="17.0.2"});var le=v((AG,C2)=>{"use strict";C2.exports=A2()});var ua=v((jG,B2)=>{var A5=Object.prototype.toString;B2.exports=function(t){if(t===void 0)return"undefined";if(t===null)return"null";var r=typeof t;if(r==="boolean")return"boolean";if(r==="string")return"string";if(r==="number")return"number";if(r==="symbol")return"symbol";if(r==="function")return F5(t)?"generatorfunction":"function";if(C5(t))return"array";if(P5(t))return"buffer";if(D5(t))return"arguments";if(O5(t))return"date";if(T5(t))return"error";if(I5(t))return"regexp";switch(q2(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(N5(t))return"generator";switch(r=A5.call(t),r){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")};function q2(e){return typeof e.constructor=="function"?e.constructor.name:null}function C5(e){return Array.isArray?Array.isArray(e):e instanceof Array}function T5(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function O5(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function I5(e){return e instanceof RegExp?!0:typeof e.flags=="string"&&typeof e.ignoreCase=="boolean"&&typeof e.multiline=="boolean"&&typeof e.global=="boolean"}function F5(e,t){return q2(e)==="GeneratorFunction"}function N5(e){return typeof e.throw=="function"&&typeof e.return=="function"&&typeof e.next=="function"}function D5(e){try{if(typeof e.length=="number"&&typeof e.callee=="function")return!0}catch(t){if(t.message.indexOf("callee")!==-1)return!0}return!1}function P5(e){return e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}});var z2=v((LG,$2)=>{"use strict";$2.exports=function(t){return typeof t<"u"&&t!==null&&(typeof t=="object"||typeof t=="function")}});var H2=v((RG,U2)=>{"use strict";var W2=z2();U2.exports=function(t){W2(t)||(t={});for(var r=arguments.length,n=1;n<r;n++){var i=arguments[n];W2(i)&&M5(t,i)}return t};function M5(e,t){for(var r in t)j5(t,r)&&(e[r]=t[r])}function j5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var K2=v((qG,G2)=>{"use strict";var L5=ua(),R5=H2();G2.exports=function(e,t){typeof t=="function"&&(t={parse:t});var r=B5(e),n={section_delimiter:"---",parse:z5},i=R5({},n,t),o=i.section_delimiter,s=r.content.split(/\r?\n/),a=null,u=V2(),l=[],c=[];function f(g){r.content=g,a=[],l=[]}function p(g){c.length&&(u.key=$5(c[0],o),u.content=g,i.parse(u,a),a.push(u),u=V2(),l=[],c=[])}for(var d=0;d<s.length;d++){var m=s[d],b=c.length,h=m.trim();if(q5(h,o)){if(h.length===3&&d!==0){if(b===0||b===2){l.push(m);continue}c.push(h),u.data=l.join(`
`),l=[];continue}a===null&&f(l.join(`
`)),b===2&&p(l.join(`
`)),c.push(h);continue}l.push(m)}return a===null?f(l.join(`
`)):p(l.join(`
`)),r.sections=a,r};function q5(e,t){return!(e.slice(0,t.length)!==t||e.charAt(t.length+1)===t.slice(-1))}function B5(e){if(L5(e)!=="object"&&(e={content:e}),typeof e.content!="string"&&!W5(e.content))throw new TypeError("expected a buffer or string");return e.content=e.content.toString(),e.sections=[],e}function $5(e,t){return e?e.slice(t.length).trim():""}function V2(){return{key:"",data:"",content:""}}function z5(e){return e}function W5(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}});var ci=v((BG,li)=>{"use strict";function J2(e){return typeof e>"u"||e===null}function U5(e){return typeof e=="object"&&e!==null}function H5(e){return Array.isArray(e)?e:J2(e)?[]:[e]}function V5(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function G5(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function K5(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}li.exports.isNothing=J2;li.exports.isObject=U5;li.exports.toArray=H5;li.exports.repeat=G5;li.exports.isNegativeZero=K5;li.exports.extend=V5});var ao=v(($G,Q2)=>{"use strict";function la(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}la.prototype=Object.create(Error.prototype);la.prototype.constructor=la;la.prototype.toString=function(t){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!t&&this.mark&&(r+=" "+this.mark.toString()),r};Q2.exports=la});var X2=v((zG,Z2)=>{"use strict";var Y2=ci();function pm(e,t,r,n,i){this.name=e,this.buffer=t,this.position=r,this.line=n,this.column=i}pm.prototype.getSnippet=function(t,r){var n,i,o,s,a;if(!this.buffer)return null;for(t=t||4,r=r||75,n="",i=this.position;i>0&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(i-1))===-1;)if(i-=1,this.position-i>r/2-1){n=" ... ",i+=5;break}for(o="",s=this.position;s<this.buffer.length&&`\0\r
\x85\u2028\u2029`.indexOf(this.buffer.charAt(s))===-1;)if(s+=1,s-this.position>r/2-1){o=" ... ",s-=5;break}return a=this.buffer.slice(i,s),Y2.repeat(" ",t)+n+a+o+`
`+Y2.repeat(" ",t+this.position-i+n.length)+"^"};pm.prototype.toString=function(t){var r,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(r=this.getSnippet(),r&&(n+=`:
`+r)),n};Z2.exports=pm});var De=v((WG,tE)=>{"use strict";var eE=ao(),J5=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],Q5=["scalar","sequence","mapping"];function Y5(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function Z5(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(J5.indexOf(r)===-1)throw new eE('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.defaultStyle=t.defaultStyle||null,this.styleAliases=Y5(t.styleAliases||null),Q5.indexOf(this.kind)===-1)throw new eE('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}tE.exports=Z5});var fi=v((UG,nE)=>{"use strict";var rE=ci(),bc=ao(),X5=De();function dm(e,t,r){var n=[];return e.include.forEach(function(i){r=dm(i,t,r)}),e[t].forEach(function(i){r.forEach(function(o,s){o.tag===i.tag&&o.kind===i.kind&&n.push(s)}),r.push(i)}),r.filter(function(i,o){return n.indexOf(o)===-1})}function eq(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},t,r;function n(i){e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function uo(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&t.loadKind!=="scalar")throw new bc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=dm(this,"implicit",[]),this.compiledExplicit=dm(this,"explicit",[]),this.compiledTypeMap=eq(this.compiledImplicit,this.compiledExplicit)}uo.DEFAULT=null;uo.create=function(){var t,r;switch(arguments.length){case 1:t=uo.DEFAULT,r=arguments[0];break;case 2:t=arguments[0],r=arguments[1];break;default:throw new bc("Wrong number of arguments for Schema.create function")}if(t=rE.toArray(t),r=rE.toArray(r),!t.every(function(n){return n instanceof uo}))throw new bc("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(n){return n instanceof X5}))throw new bc("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new uo({include:t,explicit:r})};nE.exports=uo});var oE=v((HG,iE)=>{"use strict";var tq=De();iE.exports=new tq("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var aE=v((VG,sE)=>{"use strict";var rq=De();sE.exports=new rq("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var lE=v((GG,uE)=>{"use strict";var nq=De();uE.exports=new nq("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var wc=v((KG,cE)=>{"use strict";var iq=fi();cE.exports=new iq({explicit:[oE(),aE(),lE()]})});var pE=v((JG,fE)=>{"use strict";var oq=De();function sq(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function aq(){return null}function uq(e){return e===null}fE.exports=new oq("tag:yaml.org,2002:null",{kind:"scalar",resolve:sq,construct:aq,predicate:uq,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})});var hE=v((QG,dE)=>{"use strict";var lq=De();function cq(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function fq(e){return e==="true"||e==="True"||e==="TRUE"}function pq(e){return Object.prototype.toString.call(e)==="[object Boolean]"}dE.exports=new lq("tag:yaml.org,2002:bool",{kind:"scalar",resolve:cq,construct:fq,predicate:pq,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var gE=v((YG,mE)=>{"use strict";var dq=ci(),hq=De();function mq(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function gq(e){return 48<=e&&e<=55}function yq(e){return 48<=e&&e<=57}function vq(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!mq(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}for(;r<t;r++)if(i=e[r],i!=="_"){if(!gq(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(i===":")break;if(!yq(e.charCodeAt(r)))return!1;n=!0}return!n||i==="_"?!1:i!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(r))}function bq(e){var t=e,r=1,n,i,o=[];return t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0"?0:n==="0"?t[1]==="b"?r*parseInt(t.slice(2),2):t[1]==="x"?r*parseInt(t,16):r*parseInt(t,8):t.indexOf(":")!==-1?(t.split(":").forEach(function(s){o.unshift(parseInt(s,10))}),t=0,i=1,o.forEach(function(s){t+=s*i,i*=60}),r*t):r*parseInt(t,10)}function wq(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!dq.isNegativeZero(e)}mE.exports=new hq("tag:yaml.org,2002:int",{kind:"scalar",resolve:vq,construct:bq,predicate:wq,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var bE=v((ZG,vE)=>{"use strict";var yE=ci(),xq=De(),Eq=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function kq(e){return!(e===null||!Eq.test(e)||e[e.length-1]==="_")}function _q(e){var t,r,n,i;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,i=[],"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:t.indexOf(":")>=0?(t.split(":").forEach(function(o){i.unshift(parseFloat(o,10))}),t=0,n=1,i.forEach(function(o){t+=o*n,n*=60}),r*t):r*parseFloat(t,10)}var Sq=/^[-+]?[0-9]+e/;function Aq(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yE.isNegativeZero(e))return"-0.0";return r=e.toString(10),Sq.test(r)?r.replace("e",".e"):r}function Cq(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||yE.isNegativeZero(e))}vE.exports=new xq("tag:yaml.org,2002:float",{kind:"scalar",resolve:kq,construct:_q,predicate:Cq,represent:Aq,defaultStyle:"lowercase"})});var hm=v((XG,wE)=>{"use strict";var Tq=fi();wE.exports=new Tq({include:[wc()],implicit:[pE(),hE(),gE(),bE()]})});var mm=v((eK,xE)=>{"use strict";var Oq=fi();xE.exports=new Oq({include:[hm()]})});var SE=v((tK,_E)=>{"use strict";var Iq=De(),EE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),kE=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Fq(e){return e===null?!1:EE.exec(e)!==null||kE.exec(e)!==null}function Nq(e){var t,r,n,i,o,s,a,u=0,l=null,c,f,p;if(t=EE.exec(e),t===null&&(t=kE.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(c=+t[10],f=+(t[11]||0),l=(c*60+f)*6e4,t[9]==="-"&&(l=-l)),p=new Date(Date.UTC(r,n,i,o,s,a,u)),l&&p.setTime(p.getTime()-l),p}function Dq(e){return e.toISOString()}_E.exports=new Iq("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Fq,construct:Nq,instanceOf:Date,represent:Dq})});var CE=v((rK,AE)=>{"use strict";var Pq=De();function Mq(e){return e==="<<"||e===null}AE.exports=new Pq("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Mq})});var IE=v((nK,OE)=>{"use strict";var pi;try{TE=require,pi=TE("buffer").Buffer}catch{}var TE,jq=De(),gm=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Lq(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=gm;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Rq(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=gm,s=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),pi?pi.from?pi.from(a):new pi(a):a}function qq(e){var t="",r=0,n,i,o=e.length,s=gm;for(n=0;n<o;n++)n%3===0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function Bq(e){return pi&&pi.isBuffer(e)}OE.exports=new jq("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Lq,construct:Rq,predicate:Bq,represent:qq})});var NE=v((iK,FE)=>{"use strict";var $q=De(),zq=Object.prototype.hasOwnProperty,Wq=Object.prototype.toString;function Uq(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,Wq.call(i)!=="[object Object]")return!1;for(o in i)if(zq.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Hq(e){return e!==null?e:[]}FE.exports=new $q("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Uq,construct:Hq})});var PE=v((oK,DE)=>{"use strict";var Vq=De(),Gq=Object.prototype.toString;function Kq(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],Gq.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function Jq(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}DE.exports=new Vq("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Kq,construct:Jq})});var jE=v((sK,ME)=>{"use strict";var Qq=De(),Yq=Object.prototype.hasOwnProperty;function Zq(e){if(e===null)return!0;var t,r=e;for(t in r)if(Yq.call(r,t)&&r[t]!==null)return!1;return!0}function Xq(e){return e!==null?e:{}}ME.exports=new Qq("tag:yaml.org,2002:set",{kind:"mapping",resolve:Zq,construct:Xq})});var lo=v((aK,LE)=>{"use strict";var eB=fi();LE.exports=new eB({include:[mm()],implicit:[SE(),CE()],explicit:[IE(),NE(),PE(),jE()]})});var qE=v((uK,RE)=>{"use strict";var tB=De();function rB(){return!0}function nB(){}function iB(){return""}function oB(e){return typeof e>"u"}RE.exports=new tB("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:rB,construct:nB,predicate:oB,represent:iB})});var $E=v((lK,BE)=>{"use strict";var sB=De();function aB(e){if(e===null||e.length===0)return!1;var t=e,r=/\/([gim]*)$/.exec(e),n="";return!(t[0]==="/"&&(r&&(n=r[1]),n.length>3||t[t.length-n.length-1]!=="/"))}function uB(e){var t=e,r=/\/([gim]*)$/.exec(e),n="";return t[0]==="/"&&(r&&(n=r[1]),t=t.slice(1,t.length-n.length-1)),new RegExp(t,n)}function lB(e){var t="/"+e.source+"/";return e.global&&(t+="g"),e.multiline&&(t+="m"),e.ignoreCase&&(t+="i"),t}function cB(e){return Object.prototype.toString.call(e)==="[object RegExp]"}BE.exports=new sB("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:aB,construct:uB,predicate:cB,represent:lB})});var UE=v((cK,WE)=>{"use strict";var xc;try{zE=require,xc=zE("esprima")}catch{typeof window<"u"&&(xc=window.esprima)}var zE,fB=De();function pB(e){if(e===null)return!1;try{var t="("+e+")",r=xc.parse(t,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function dB(e){var t="("+e+")",r=xc.parse(t,{range:!0}),n=[],i;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(o){n.push(o.name)}),i=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(n,t.slice(i[0]+1,i[1]-1)):new Function(n,"return "+t.slice(i[0],i[1]))}function hB(e){return e.toString()}function mB(e){return Object.prototype.toString.call(e)==="[object Function]"}WE.exports=new fB("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:pB,construct:dB,predicate:mB,represent:hB})});var ca=v((fK,VE)=>{"use strict";var HE=fi();VE.exports=HE.DEFAULT=new HE({include:[lo()],explicit:[qE(),$E(),UE()]})});var fk=v((pK,fa)=>{"use strict";var qr=ci(),XE=ao(),gB=X2(),ek=lo(),yB=ca(),mn=Object.prototype.hasOwnProperty,Ec=1,tk=2,rk=3,kc=4,ym=1,vB=2,GE=3,bB=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,wB=/[\x85\u2028\u2029]/,xB=/[,\[\]\{\}]/,nk=/^(?:!|!!|![a-z\-]+!)$/i,ik=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function KE(e){return Object.prototype.toString.call(e)}function Er(e){return e===10||e===13}function hi(e){return e===9||e===32}function xt(e){return e===9||e===32||e===10||e===13}function co(e){return e===44||e===91||e===93||e===123||e===125}function EB(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function kB(e){return e===120?2:e===117?4:e===85?8:0}function _B(e){return 48<=e&&e<=57?e-48:-1}function JE(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function SB(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var ok=new Array(256),sk=new Array(256);for(di=0;di<256;di++)ok[di]=JE(di)?1:0,sk[di]=JE(di);var di;function AB(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||yB,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function ak(e,t){return new XE(t,new gB(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function K(e,t){throw ak(e,t)}function _c(e,t){e.onWarning&&e.onWarning.call(null,ak(e,t))}var QE={YAML:function(t,r,n){var i,o,s;t.version!==null&&K(t,"duplication of %YAML directive"),n.length!==1&&K(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&K(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&K(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&_c(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&K(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],nk.test(i)||K(t,"ill-formed tag handle (first argument) of the TAG directive"),mn.call(t.tagMap,i)&&K(t,'there is a previously declared suffix for "'+i+'" tag handle'),ik.test(o)||K(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[i]=o}};function hn(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||K(e,"expected valid JSON character");else bB.test(a)&&K(e,"the stream contains non-printable characters");e.result+=a}}function YE(e,t,r,n){var i,o,s,a;for(qr.isObject(r)||K(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],mn.call(t,o)||(t[o]=r[o],n[o]=!0)}function fo(e,t,r,n,i,o,s,a){var u,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,l=i.length;u<l;u+=1)Array.isArray(i[u])&&K(e,"nested arrays are not supported inside keys"),typeof i=="object"&&KE(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&KE(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,l=o.length;u<l;u+=1)YE(e,t,o[u],r);else YE(e,t,o,r);else!e.json&&!mn.call(r,i)&&mn.call(t,i)&&(e.line=s||e.line,e.position=a||e.position,K(e,"duplicated mapping key")),t[i]=o,delete r[i];return t}function vm(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):K(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function Fe(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;hi(i);)i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Er(i))for(vm(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&_c(e,"deficient indentation"),n}function Sc(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||xt(r)))}function bm(e,t){t===1?e.result+=" ":t>1&&(e.result+=qr.repeat(`
`,t-1))}function CB(e,t,r){var n,i,o,s,a,u,l,c,f=e.kind,p=e.result,d;if(d=e.input.charCodeAt(e.position),xt(d)||co(d)||d===35||d===38||d===42||d===33||d===124||d===62||d===39||d===34||d===37||d===64||d===96||(d===63||d===45)&&(i=e.input.charCodeAt(e.position+1),xt(i)||r&&co(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;d!==0;){if(d===58){if(i=e.input.charCodeAt(e.position+1),xt(i)||r&&co(i))break}else if(d===35){if(n=e.input.charCodeAt(e.position-1),xt(n))break}else{if(e.position===e.lineStart&&Sc(e)||r&&co(d))break;if(Er(d))if(u=e.line,l=e.lineStart,c=e.lineIndent,Fe(e,!1,-1),e.lineIndent>=t){a=!0,d=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=u,e.lineStart=l,e.lineIndent=c;break}}a&&(hn(e,o,s,!1),bm(e,e.line-u),o=s=e.position,a=!1),hi(d)||(s=e.position+1),d=e.input.charCodeAt(++e.position)}return hn(e,o,s,!1),e.result?!0:(e.kind=f,e.result=p,!1)}function TB(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(hn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Er(r)?(hn(e,n,i,!0),bm(e,Fe(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Sc(e)?K(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);K(e,"unexpected end of the stream within a single quoted scalar")}function OB(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return hn(e,r,e.position,!0),e.position++,!0;if(a===92){if(hn(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Er(a))Fe(e,!1,t);else if(a<256&&ok[a])e.result+=sk[a],e.position++;else if((s=kB(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=EB(a))>=0?o=(o<<4)+s:K(e,"expected hexadecimal character");e.result+=SB(o),e.position++}else K(e,"unknown escape sequence");r=n=e.position}else Er(a)?(hn(e,r,n,!0),bm(e,Fe(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Sc(e)?K(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}K(e,"unexpected end of the stream within a double quoted scalar")}function IB(e,t){var r=!0,n,i=e.tag,o,s=e.anchor,a,u,l,c,f,p={},d,m,b,h;if(h=e.input.charCodeAt(e.position),h===91)u=93,f=!1,o=[];else if(h===123)u=125,f=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),h=e.input.charCodeAt(++e.position);h!==0;){if(Fe(e,!0,t),h=e.input.charCodeAt(e.position),h===u)return e.position++,e.tag=i,e.anchor=s,e.kind=f?"mapping":"sequence",e.result=o,!0;r||K(e,"missed comma between flow collection entries"),m=d=b=null,l=c=!1,h===63&&(a=e.input.charCodeAt(e.position+1),xt(a)&&(l=c=!0,e.position++,Fe(e,!0,t))),n=e.line,po(e,t,Ec,!1,!0),m=e.tag,d=e.result,Fe(e,!0,t),h=e.input.charCodeAt(e.position),(c||e.line===n)&&h===58&&(l=!0,h=e.input.charCodeAt(++e.position),Fe(e,!0,t),po(e,t,Ec,!1,!0),b=e.result),f?fo(e,o,p,m,d,b):l?o.push(fo(e,null,p,m,d,b)):o.push(d),Fe(e,!0,t),h=e.input.charCodeAt(e.position),h===44?(r=!0,h=e.input.charCodeAt(++e.position)):r=!1}K(e,"unexpected end of the stream within a flow collection")}function FB(e,t){var r,n,i=ym,o=!1,s=!1,a=t,u=0,l=!1,c,f;if(f=e.input.charCodeAt(e.position),f===124)n=!1;else if(f===62)n=!0;else return!1;for(e.kind="scalar",e.result="";f!==0;)if(f=e.input.charCodeAt(++e.position),f===43||f===45)ym===i?i=f===43?GE:vB:K(e,"repeat of a chomping mode identifier");else if((c=_B(f))>=0)c===0?K(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?K(e,"repeat of an indentation width identifier"):(a=t+c-1,s=!0);else break;if(hi(f)){do f=e.input.charCodeAt(++e.position);while(hi(f));if(f===35)do f=e.input.charCodeAt(++e.position);while(!Er(f)&&f!==0)}for(;f!==0;){for(vm(e),e.lineIndent=0,f=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&f===32;)e.lineIndent++,f=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),Er(f)){u++;continue}if(e.lineIndent<a){i===GE?e.result+=qr.repeat(`
`,o?1+u:u):i===ym&&o&&(e.result+=`
`);break}for(n?hi(f)?(l=!0,e.result+=qr.repeat(`
`,o?1+u:u)):l?(l=!1,e.result+=qr.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=qr.repeat(`
`,u):e.result+=qr.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,r=e.position;!Er(f)&&f!==0;)f=e.input.charCodeAt(++e.position);hn(e,r,e.position,!1)}return!0}function ZE(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,u;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&!(u!==45||(s=e.input.charCodeAt(e.position+1),!xt(s)));){if(a=!0,e.position++,Fe(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,po(e,t,rk,!1,!0),o.push(e.result),Fe(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)K(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function NB(e,t,r){var n,i,o,s,a=e.tag,u=e.anchor,l={},c={},f=null,p=null,d=null,m=!1,b=!1,h;for(e.anchor!==null&&(e.anchorMap[e.anchor]=l),h=e.input.charCodeAt(e.position);h!==0;){if(n=e.input.charCodeAt(e.position+1),o=e.line,s=e.position,(h===63||h===58)&&xt(n))h===63?(m&&(fo(e,l,c,f,p,null),f=p=d=null),b=!0,m=!0,i=!0):m?(m=!1,i=!0):K(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,h=n;else if(po(e,r,tk,!1,!0))if(e.line===o){for(h=e.input.charCodeAt(e.position);hi(h);)h=e.input.charCodeAt(++e.position);if(h===58)h=e.input.charCodeAt(++e.position),xt(h)||K(e,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(fo(e,l,c,f,p,null),f=p=d=null),b=!0,m=!1,i=!1,f=e.tag,p=e.result;else if(b)K(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=a,e.anchor=u,!0}else if(b)K(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=a,e.anchor=u,!0;else break;if((e.line===o||e.lineIndent>t)&&(po(e,t,kc,!0,i)&&(m?p=e.result:d=e.result),m||(fo(e,l,c,f,p,d,o,s),f=p=d=null),Fe(e,!0,-1),h=e.input.charCodeAt(e.position)),e.lineIndent>t&&h!==0)K(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return m&&fo(e,l,c,f,p,null),b&&(e.tag=a,e.anchor=u,e.kind="mapping",e.result=l),b}function DB(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&K(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):K(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!xt(s);)s===33&&(n?K(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),nk.test(i)||K(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),xB.test(o)&&K(e,"tag suffix cannot contain flow indicator characters")}return o&&!ik.test(o)&&K(e,"tag name cannot contain such characters: "+o),r?e.tag=o:mn.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:K(e,'undeclared tag handle "'+i+'"'),!0}function PB(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&K(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!xt(r)&&!co(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&K(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function MB(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!xt(n)&&!co(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&K(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),mn.call(e.anchorMap,r)||K(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Fe(e,!0,-1),!0}function po(e,t,r,n,i){var o,s,a,u=1,l=!1,c=!1,f,p,d,m,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=kc===r||rk===r,n&&Fe(e,!0,-1)&&(l=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;DB(e)||PB(e);)Fe(e,!0,-1)?(l=!0,a=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):a=!1;if(a&&(a=l||i),(u===1||kc===r)&&(Ec===r||tk===r?m=t:m=t+1,b=e.position-e.lineStart,u===1?a&&(ZE(e,b)||NB(e,b,m))||IB(e,m)?c=!0:(s&&FB(e,m)||TB(e,m)||OB(e,m)?c=!0:MB(e)?(c=!0,(e.tag!==null||e.anchor!==null)&&K(e,"alias node should not have any properties")):CB(e,m,Ec===r)&&(c=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(c=a&&ZE(e,b))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&K(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),f=0,p=e.implicitTypes.length;f<p;f+=1)if(d=e.implicitTypes[f],d.resolve(e.result)){e.result=d.construct(e.result),e.tag=d.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else mn.call(e.typeMap[e.kind||"fallback"],e.tag)?(d=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&d.kind!==e.kind&&K(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+d.kind+'", not "'+e.kind+'"'),d.resolve(e.result)?(e.result=d.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):K(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):K(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||c}function jB(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(s=e.input.charCodeAt(e.position))!==0&&(Fe(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!xt(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&K(e,"directive name must not be less than one character in length");s!==0;){for(;hi(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Er(s));break}if(Er(s))break;for(r=e.position;s!==0&&!xt(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&vm(e),mn.call(QE,n)?QE[n](e,n,i):_c(e,'unknown document directive "'+n+'"')}if(Fe(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Fe(e,!0,-1)):o&&K(e,"directives end mark is expected"),po(e,e.lineIndent-1,kc,!1,!0),Fe(e,!0,-1),e.checkLineBreaks&&wB.test(e.input.slice(t,e.position))&&_c(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Sc(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Fe(e,!0,-1));return}if(e.position<e.length-1)K(e,"end of the stream or a document separator is expected");else return}function uk(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new AB(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,K(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)jB(r);return r.documents}function lk(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=uk(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function ck(e,t){var r=uk(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new XE("expected a single document in the stream, but found more")}}function LB(e,t,r){return typeof t=="object"&&t!==null&&typeof r>"u"&&(r=t,t=null),lk(e,t,qr.extend({schema:ek},r))}function RB(e,t){return ck(e,qr.extend({schema:ek},t))}fa.exports.loadAll=lk;fa.exports.load=ck;fa.exports.safeLoadAll=LB;fa.exports.safeLoad=RB});var Pk=v((dK,km)=>{"use strict";var da=ci(),ha=ao(),qB=ca(),BB=lo(),bk=Object.prototype.toString,wk=Object.prototype.hasOwnProperty,$B=9,pa=10,zB=13,WB=32,UB=33,HB=34,xk=35,VB=37,GB=38,KB=39,JB=42,Ek=44,QB=45,kk=58,YB=61,ZB=62,XB=63,e4=64,_k=91,Sk=93,t4=96,Ak=123,r4=124,Ck=125,Ye={};Ye[0]="\\0";Ye[7]="\\a";Ye[8]="\\b";Ye[9]="\\t";Ye[10]="\\n";Ye[11]="\\v";Ye[12]="\\f";Ye[13]="\\r";Ye[27]="\\e";Ye[34]='\\"';Ye[92]="\\\\";Ye[133]="\\N";Ye[160]="\\_";Ye[8232]="\\L";Ye[8233]="\\P";var n4=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function i4(e,t){var r,n,i,o,s,a,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=e.compiledTypeMap.fallback[s],u&&wk.call(u.styleAliases,a)&&(a=u.styleAliases[a]),r[s]=a;return r}function pk(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ha("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+da.repeat("0",n-t.length)+t}function o4(e){this.schema=e.schema||qB,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=da.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=i4(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function dk(e,t){for(var r=da.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function wm(e,t){return`
`+da.repeat(" ",e.indent*t)}function s4(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Em(e){return e===WB||e===$B}function ho(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function a4(e){return ho(e)&&!Em(e)&&e!==65279&&e!==zB&&e!==pa}function hk(e,t){return ho(e)&&e!==65279&&e!==Ek&&e!==_k&&e!==Sk&&e!==Ak&&e!==Ck&&e!==kk&&(e!==xk||t&&a4(t))}function u4(e){return ho(e)&&e!==65279&&!Em(e)&&e!==QB&&e!==XB&&e!==kk&&e!==Ek&&e!==_k&&e!==Sk&&e!==Ak&&e!==Ck&&e!==xk&&e!==GB&&e!==JB&&e!==UB&&e!==r4&&e!==YB&&e!==ZB&&e!==KB&&e!==HB&&e!==VB&&e!==e4&&e!==t4}function Tk(e){var t=/^\n* /;return t.test(e)}var Ok=1,Ik=2,Fk=3,Nk=4,Ac=5;function l4(e,t,r,n,i){var o,s,a,u=!1,l=!1,c=n!==-1,f=-1,p=u4(e.charCodeAt(0))&&!Em(e.charCodeAt(e.length-1));if(t)for(o=0;o<e.length;o++){if(s=e.charCodeAt(o),!ho(s))return Ac;a=o>0?e.charCodeAt(o-1):null,p=p&&hk(s,a)}else{for(o=0;o<e.length;o++){if(s=e.charCodeAt(o),s===pa)u=!0,c&&(l=l||o-f-1>n&&e[f+1]!==" ",f=o);else if(!ho(s))return Ac;a=o>0?e.charCodeAt(o-1):null,p=p&&hk(s,a)}l=l||c&&o-f-1>n&&e[f+1]!==" "}return!u&&!l?p&&!i(e)?Ok:Ik:r>9&&Tk(e)?Ac:l?Nk:Fk}function c4(e,t,r,n){e.dump=function(){if(t.length===0)return"''";if(!e.noCompatMode&&n4.indexOf(t)!==-1)return"'"+t+"'";var i=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),s=n||e.flowLevel>-1&&r>=e.flowLevel;function a(u){return s4(e,u)}switch(l4(t,s,e.indent,o,a)){case Ok:return t;case Ik:return"'"+t.replace(/'/g,"''")+"'";case Fk:return"|"+mk(t,e.indent)+gk(dk(t,i));case Nk:return">"+mk(t,e.indent)+gk(dk(f4(t,o),i));case Ac:return'"'+p4(t,o)+'"';default:throw new ha("impossible error: invalid scalar style")}}()}function mk(e,t){var r=Tk(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function gk(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function f4(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var l=e.indexOf(`
`);return l=l!==-1?l:e.length,r.lastIndex=l,yk(e.slice(0,l),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],u=s[2];o=u[0]===" ",n+=a+(!i&&!o&&u!==""?`
`:"")+yk(u,t),i=o}return n}function yk(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,u="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,u+=`
`+e.slice(i,o),i=o+1),s=a;return u+=`
`,e.length-i>t&&s>i?u+=e.slice(i,s)+`
`+e.slice(s+1):u+=e.slice(i),u.slice(1)}function p4(e){for(var t="",r,n,i,o=0;o<e.length;o++){if(r=e.charCodeAt(o),r>=55296&&r<=56319&&(n=e.charCodeAt(o+1),n>=56320&&n<=57343)){t+=pk((r-55296)*1024+n-56320+65536),o++;continue}i=Ye[r],t+=!i&&ho(r)?e[o]:i||pk(r)}return t}function d4(e,t,r){var n="",i=e.tag,o,s;for(o=0,s=r.length;o<s;o+=1)mi(e,t,r[o],!1,!1)&&(o!==0&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function h4(e,t,r,n){var i="",o=e.tag,s,a;for(s=0,a=r.length;s<a;s+=1)mi(e,t+1,r[s],!0,!0)&&((!n||s!==0)&&(i+=wm(e,t)),e.dump&&pa===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function m4(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,u,l,c;for(s=0,a=o.length;s<a;s+=1)c="",s!==0&&(c+=", "),e.condenseFlow&&(c+='"'),u=o[s],l=r[u],mi(e,t,u,!1,!1)&&(e.dump.length>1024&&(c+="? "),c+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),mi(e,t,l,!1,!1)&&(c+=e.dump,n+=c));e.tag=i,e.dump="{"+n+"}"}function g4(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,u,l,c,f,p;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new ha("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)p="",(!n||a!==0)&&(p+=wm(e,t)),l=s[a],c=r[l],mi(e,t+1,l,!0,!0,!0)&&(f=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,f&&(e.dump&&pa===e.dump.charCodeAt(0)?p+="?":p+="? "),p+=e.dump,f&&(p+=wm(e,t)),mi(e,t+1,c,!0,f)&&(e.dump&&pa===e.dump.charCodeAt(0)?p+=":":p+=": ",p+=e.dump,i+=p));e.tag=o,e.dump=i||"{}"}function vk(e,t,r){var n,i,o,s,a,u;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(e.tag=r?a.tag:"?",a.represent){if(u=e.styleMap[a.tag]||a.defaultStyle,bk.call(a.represent)==="[object Function]")n=a.represent(t,u);else if(wk.call(a.represent,u))n=a.represent[u](t,u);else throw new ha("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function mi(e,t,r,n,i,o){e.tag=null,e.dump=r,vk(e,r,!1)||vk(e,r,!0);var s=bk.call(e.dump);n&&(n=e.flowLevel<0||e.flowLevel>t);var a=s==="[object Object]"||s==="[object Array]",u,l;if(a&&(u=e.duplicates.indexOf(r),l=u!==-1),(e.tag!==null&&e.tag!=="?"||l||e.indent!==2&&t>0)&&(i=!1),l&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(a&&l&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),s==="[object Object]")n&&Object.keys(e.dump).length!==0?(g4(e,t,e.dump,i),l&&(e.dump="&ref_"+u+e.dump)):(m4(e,t,e.dump),l&&(e.dump="&ref_"+u+" "+e.dump));else if(s==="[object Array]"){var c=e.noArrayIndent&&t>0?t-1:t;n&&e.dump.length!==0?(h4(e,c,e.dump,i),l&&(e.dump="&ref_"+u+e.dump)):(d4(e,c,e.dump),l&&(e.dump="&ref_"+u+" "+e.dump))}else if(s==="[object String]")e.tag!=="?"&&c4(e,e.dump,t,o);else{if(e.skipInvalid)return!1;throw new ha("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function y4(e,t){var r=[],n=[],i,o;for(xm(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function xm(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)xm(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)xm(e[n[i]],t,r)}function Dk(e,t){t=t||{};var r=new o4(t);return r.noRefs||y4(e,r),mi(r,0,e,!0,!0)?r.dump+`
`:""}function v4(e,t){return Dk(e,da.extend({schema:BB},t))}km.exports.dump=Dk;km.exports.safeDump=v4});var jk=v((hK,xe)=>{"use strict";var Cc=fk(),Mk=Pk();function Tc(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}xe.exports.Type=De();xe.exports.Schema=fi();xe.exports.FAILSAFE_SCHEMA=wc();xe.exports.JSON_SCHEMA=hm();xe.exports.CORE_SCHEMA=mm();xe.exports.DEFAULT_SAFE_SCHEMA=lo();xe.exports.DEFAULT_FULL_SCHEMA=ca();xe.exports.load=Cc.load;xe.exports.loadAll=Cc.loadAll;xe.exports.safeLoad=Cc.safeLoad;xe.exports.safeLoadAll=Cc.safeLoadAll;xe.exports.dump=Mk.dump;xe.exports.safeDump=Mk.safeDump;xe.exports.YAMLException=ao();xe.exports.MINIMAL_SCHEMA=wc();xe.exports.SAFE_SCHEMA=lo();xe.exports.DEFAULT_SCHEMA=ca();xe.exports.scan=Tc("scan");xe.exports.parse=Tc("parse");xe.exports.compose=Tc("compose");xe.exports.addConstructor=Tc("addConstructor")});var Rk=v((mK,Lk)=>{"use strict";var b4=jk();Lk.exports=b4});var _m=v((exports,module)=>{"use strict";var yaml=Rk(),engines=exports=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)};engines.json={parse:JSON.parse.bind(JSON),stringify:function(e,t){let r=Object.assign({replacer:null,space:2},t);return JSON.stringify(e,r.replacer,r.space)}};engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(e){if(wrap!==!1&&/(unexpected|identifier)/i.test(e.message))return parse(str,options,!1);throw new SyntaxError(e)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}});var Bk=v((gK,qk)=>{"use strict";qk.exports=function(e){return typeof e=="string"&&e.charAt(0)==="\uFEFF"?e.slice(1):e}});var Oc=v(Br=>{"use strict";var $k=Bk(),zk=ua();Br.define=function(e,t,r){Reflect.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})};Br.isBuffer=function(e){return zk(e)==="buffer"};Br.isObject=function(e){return zk(e)==="object"};Br.toBuffer=function(e){return typeof e=="string"?Buffer.from(e):e};Br.toString=function(e){if(Br.isBuffer(e))return $k(String(e));if(typeof e!="string")throw new TypeError("expected input to be a string or buffer");return $k(e)};Br.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]};Br.startsWith=function(e,t,r){return typeof r!="number"&&(r=t.length),e.slice(0,r)===t}});var ma=v((vK,Wk)=>{"use strict";var w4=_m(),x4=Oc();Wk.exports=function(e){let t=Object.assign({},e);return t.delimiters=x4.arrayify(t.delims||t.delimiters||"---"),t.delimiters.length===1&&t.delimiters.push(t.delimiters[0]),t.language=(t.language||t.lang||"yaml").toLowerCase(),t.engines=Object.assign({},w4,t.parsers,t.engines),t}});var Sm=v((bK,Uk)=>{"use strict";Uk.exports=function(e,t){let r=t.engines[e]||t.engines[E4(e)];if(typeof r>"u")throw new Error('gray-matter engine "'+e+'" is not registered');return typeof r=="function"&&(r={parse:r}),r};function E4(e){switch(e.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return e}}});var Am=v((wK,Hk)=>{"use strict";var k4=ua(),_4=Sm(),S4=ma();Hk.exports=function(e,t,r){if(t==null&&r==null)switch(k4(e)){case"object":t=e.data,r={};break;case"string":return e;default:throw new TypeError("expected file to be a string or object")}let n=e.content,i=S4(r);if(t==null){if(!i.data)return e;t=i.data}let o=e.language||i.language,s=_4(o,i);if(typeof s.stringify!="function")throw new TypeError('expected "'+o+'.stringify" to be a function');t=Object.assign({},e.data,t);let a=i.delimiters[0],u=i.delimiters[1],l=s.stringify(t,r).trim(),c="";return l!=="{}"&&(c=mo(a)+mo(l)+mo(u)),typeof e.excerpt=="string"&&e.excerpt!==""&&n.indexOf(e.excerpt.trim())===-1&&(c+=mo(e.excerpt)+mo(u)),c+mo(n)};function mo(e){return e.slice(-1)!==`
`?e+`
`:e}});var Gk=v((xK,Vk)=>{"use strict";var A4=ma();Vk.exports=function(e,t){let r=A4(t);if(e.data==null&&(e.data={}),typeof r.excerpt=="function")return r.excerpt(e,r);let n=e.data.excerpt_separator||r.excerpt_separator;if(n==null&&(r.excerpt===!1||r.excerpt==null))return e;let i=typeof r.excerpt=="string"?r.excerpt:n||r.delimiters[0],o=e.content.indexOf(i);return o!==-1&&(e.excerpt=e.content.slice(0,o)),e}});var Qk=v((EK,Jk)=>{"use strict";var Kk=ua(),C4=Am(),go=Oc();Jk.exports=function(e){return Kk(e)!=="object"&&(e={content:e}),Kk(e.data)!=="object"&&(e.data={}),e.contents&&e.content==null&&(e.content=e.contents),go.define(e,"orig",go.toBuffer(e.content)),go.define(e,"language",e.language||""),go.define(e,"matter",e.matter||""),go.define(e,"stringify",function(t,r){return r&&r.language&&(e.language=r.language),C4(e,t,r)}),e.content=go.toString(e.content),e.isEmpty=!1,e.excerpt="",e}});var Zk=v((kK,Yk)=>{"use strict";var T4=Sm(),O4=ma();Yk.exports=function(e,t,r){let n=O4(r),i=T4(e,n);if(typeof i.parse!="function")throw new TypeError('expected "'+e+'.parse" to be a function');return i.parse(t,n)}});var r_=v((_K,t_)=>{"use strict";var I4=require("fs"),F4=K2(),Cm=ma(),N4=Am(),Xk=Gk(),D4=_m(),P4=Qk(),M4=Zk(),e_=Oc();function ct(e,t){if(e==="")return{data:{},content:e,excerpt:"",orig:e};let r=P4(e),n=ct.cache[r.content];if(!t){if(n)return r=Object.assign({},n),r.orig=n.orig,r;ct.cache[r.content]=r}return j4(r,t)}function j4(e,t){let r=Cm(t),n=r.delimiters[0],i=`
`+r.delimiters[1],o=e.content;r.language&&(e.language=r.language);let s=n.length;if(!e_.startsWith(o,n,s))return Xk(e,r),e;if(o.charAt(s)===n.slice(-1))return e;o=o.slice(s);let a=o.length,u=ct.language(o,r);u.name&&(e.language=u.name,o=o.slice(u.raw.length));let l=o.indexOf(i);return l===-1&&(l=a),e.matter=o.slice(0,l),e.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(e.isEmpty=!0,e.empty=e.content,e.data={}):e.data=M4(e.language,e.matter,r),l===a?e.content="":(e.content=o.slice(l+i.length),e.content[0]==="\r"&&(e.content=e.content.slice(1)),e.content[0]===`
`&&(e.content=e.content.slice(1))),Xk(e,r),(r.sections===!0||typeof r.section=="function")&&F4(e,r.section),e}ct.engines=D4;ct.stringify=function(e,t,r){return typeof e=="string"&&(e=ct(e,r)),N4(e,t,r)};ct.read=function(e,t){let r=I4.readFileSync(e,"utf8"),n=ct(r,t);return n.path=e,n};ct.test=function(e,t){return e_.startsWith(e,Cm(t).delimiters[0])};ct.language=function(e,t){let n=Cm(t).delimiters[0];ct.test(e)&&(e=e.slice(n.length));let i=e.slice(0,e.search(/\r?\n/));return{raw:i,name:i?i.trim():""}};ct.cache={};ct.clearCache=function(){ct.cache={}};t_.exports=ct});var bo=v((OK,f_)=>{"use strict";var Tm=Object.defineProperty,W4=Object.getOwnPropertyDescriptor,U4=Object.getOwnPropertyNames,H4=Object.prototype.hasOwnProperty,V4=(e,t)=>{for(var r in t)Tm(e,r,{get:t[r],enumerable:!0})},G4=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of U4(t))!H4.call(e,i)&&i!==r&&Tm(e,i,{get:()=>t[i],enumerable:!(n=W4(t,i))||n.enumerable});return e},K4=e=>G4(Tm({},"__esModule",{value:!0}),e),c_={};V4(c_,{default:()=>Y4,getCacheImagePath:()=>Z4,sortBySortIndex:()=>X4});f_.exports=K4(c_);var J4=require("path"),Q4='"use strict";var wA=Object.create;var dn=Object.defineProperty,bA=Object.defineProperties,_A=Object.getOwnPropertyDescriptor,xA=Object.getOwnPropertyDescriptors,vA=Object.getOwnPropertyNames,Ai=Object.getOwnPropertySymbols,EA=Object.getPrototypeOf,Do=Object.prototype.hasOwnProperty,th=Object.prototype.propertyIsEnumerable;var eh=(t,e,r)=>e in t?dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,$=(t,e)=>{for(var r in e||(e={}))Do.call(e,r)&&eh(t,r,e[r]);if(Ai)for(var r of Ai(e))th.call(e,r)&&eh(t,r,e[r]);return t},me=(t,e)=>bA(t,xA(e));var Er=(t,e)=>{var r={};for(var n in t)Do.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Ai)for(var n of Ai(t))e.indexOf(n)<0&&th.call(t,n)&&(r[n]=t[n]);return r};var qA=(t,e)=>()=>(t&&(e=t(t=0)),e);var c=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),SA=(t,e)=>{for(var r in e)dn(t,r,{get:e[r],enumerable:!0})},rh=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vA(e))!Do.call(t,i)&&i!==r&&dn(t,i,{get:()=>e[i],enumerable:!(n=_A(e,i))||n.enumerable});return t};var Et=(t,e,r)=>(r=t!=null?wA(EA(t)):{},rh(e||!t||!t.__esModule?dn(r,"default",{value:t,enumerable:!0}):r,t)),TA=t=>rh(dn({},"__esModule",{value:!0}),t);var nh=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var ae=(t,e,r)=>(nh(t,e,"read from private field"),r?r.call(t):e.get(t)),Bo=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},ki=(t,e,r,n)=>(nh(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var ih=c((exports,module)=>{(function(e,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define("workerpool",[],r):typeof exports=="object"?exports.workerpool=r():e.workerpool=r()})(typeof self!="undefined"?self:exports,function(){return function(){var __webpack_modules__={162:function(t,e,r){"use strict";r.r(e),r.d(e,{IFrameWorker:function(){return i}});function n(){let s=document.createElement("iframe");return s.width=s.height=s.frameBorder="0",s.classList.add("iframe-worker"),s.style.display="contents",s}class i{constructor(o,a){if(this.scriptText=o,this.onerror=null,this.onmessage=null,this.onmessageerror=null,this.handleMessage=l=>{l.source===this.worker&&(l.stopImmediatePropagation(),this.dispatchEvent(new MessageEvent("message",{data:l.data})),this.onmessage&&this.onmessage(l))},this.handleError=(l,h,f,d,p)=>{if(h===this.scriptText.toString()){let m=new ErrorEvent("error",{message:l,filename:h,lineno:f,colno:d,error:p});this.dispatchEvent(m),this.onerror&&this.onerror(m)}},typeof a!="undefined")throw new TypeError("Options are not supported for iframe workers");let u=new EventTarget;this.addEventListener=u.addEventListener.bind(u),this.removeEventListener=u.removeEventListener.bind(u),this.dispatchEvent=u.dispatchEvent.bind(u),document.body.appendChild(this.iframe=n()),this.worker.document.open(),this.worker.document.write(`<html><body><script>window.postMessage=\n(message, origin) => {\n  parent.postMessage(message, origin || "*")\n};window.importScripts=\n(...urls) => urls.reduce((promise, url) => (\n  promise.then(() => new Promise(resolve => {\n    const script = document.createElement("script")\n    script.src = url\n    script.addEventListener("load", () => resolve())\n    document.body.appendChild(script)\n  }))\n), Promise.resolve());addEventListener("error",ev=>{parent.dispatchEvent(new ErrorEvent("error",{filename:"${o.substring(0,50)}",error:ev.error}))})<\\/script><script type="module">${o}<\\/script></body></html>`),this.worker.document.close(),window.addEventListener("message",this.handleMessage),window.onerror=this.handleError,this.ready=new Promise((l,h)=>{this.worker.onload=l,this.worker.onerror=h})}terminate(){document.body.removeChild(this.iframe),window.removeEventListener("message",this.handleMessage),window.onerror=null}postMessage(o){(async()=>{try{await this.ready}catch(a){}finally{this.worker.dispatchEvent(new MessageEvent("message",{data:o}))}})()}get worker(){return this.iframe.contentWindow}}},799:function(t,e,r){var n=r(446),i=r(518),s=r(722),o=r(393),a=new o;function u(p,m){typeof p=="string"?this.script=p||null:(this.script=null,m=p),this.workers=[],this.tasks=[],m=m||{},this.name=m.name,this.forkArgs=Object.freeze(m.forkArgs||[]),this.forkOpts=Object.freeze(m.forkOpts||{}),this.debugPortStart=m.debugPortStart||43210,this.nodeWorker=m.nodeWorker,this.workerType=m.workerType||m.nodeWorker||"auto",this.maxQueueSize=m.maxQueueSize||1/0,this.onCreateWorker=m.onCreateWorker||function(){return null},this.onTerminateWorker=m.onTerminateWorker||function(){return null},m&&"maxWorkers"in m?(l(m.maxWorkers),this.maxWorkers=m.maxWorkers):this.maxWorkers=Math.max((s.cpus||4)-1,1),m&&"minWorkers"in m&&(m.minWorkers==="max"?this.minWorkers=this.maxWorkers:(h(m.minWorkers),this.minWorkers=m.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&i.ensureWorkerThreads()}u.prototype.exec=function(p,m,y){if(m&&!Array.isArray(m))throw new TypeError(\'Array expected as argument "params"\');if(typeof p=="string"){var _=n.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var q=this.tasks,A={method:p,params:m,resolver:_,timeout:null,options:y};q.push(A);var j=_.promise.timeout;return _.promise.timeout=function(W){return q.indexOf(A)!==-1?(A.timeout=W,_.promise):j.call(_.promise,W)},this._next(),_.promise}else{if(typeof p=="function")return this.exec("run",[String(p),m]);throw new TypeError(\'Function or string expected as argument "method"\')}},u.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var p=this;return this.exec("methods").then(function(m){var y={};return m.forEach(function(_){y[_]=function(){return p.exec(_,Array.prototype.slice.call(arguments))}}),y})},u.prototype._next=function(){if(this.tasks.length>0){var p=this._getWorker();if(p){var m=this,y=this.tasks.shift();if(y.resolver.promise.pending){var _=p.exec(y.method,y.params,y.resolver,y.options).then(m._boundNext).catch(function(){if(p.terminated)return m._removeWorker(p)}).then(function(){m._next()});typeof y.timeout=="number"&&_.timeout(y.timeout)}else m._next()}}},u.prototype._getWorker=function(){for(var p=this.workers,m=0;m<p.length;m++){var y=p[m];if(y.busy()===!1)return y}return p.length<this.maxWorkers?(y=this._createWorkerHandler(),p.push(y),y):null},u.prototype._removeWorker=function(p){var m=this;return a.releasePort(p.debugPort),this._removeWorkerFromList(p),this._ensureMinWorkers(),new n(function(y,_){p.terminate(!1,function(q){m.onTerminateWorker({forkArgs:p.forkArgs,forkOpts:p.forkOpts,script:p.script}),q?_(q):y(p)})})},u.prototype._removeWorkerFromList=function(p){var m=this.workers.indexOf(p);m!==-1&&this.workers.splice(m,1)},u.prototype.terminate=function(p,m){var y=this;this.tasks.forEach(function(L){L.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var _=function(W){this._removeWorkerFromList(W)},q=_.bind(this),A=[],j=this.workers.slice();return j.forEach(function(L){var W=L.terminateAndNotify(p,m).then(q).always(function(){y.onTerminateWorker({forkArgs:L.forkArgs,forkOpts:L.forkOpts,script:L.script})});A.push(W)}),n.all(A)},u.prototype.stats=function(){var p=this.workers.length,m=this.workers.filter(function(y){return y.busy()}).length;return{totalWorkers:p,busyWorkers:m,idleWorkers:p-m,pendingTasks:this.tasks.length,activeTasks:m}},u.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var p=this.workers.length;p<this.minWorkers;p++)this.workers.push(this._createWorkerHandler())},u.prototype._createWorkerHandler=function(){var p=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,script:this.script})||{};return new i(p.script||this.script,{forkArgs:p.forkArgs||this.forkArgs,forkOpts:p.forkOpts||this.forkOpts,debugPort:a.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,name:this.name})};function l(p){if(!f(p)||!d(p)||p<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function h(p){if(!f(p)||!d(p)||p<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function f(p){return typeof p=="number"}function d(p){return Math.round(p)==p}t.exports=u},446:function(t){"use strict";function e(s,o){var a=this;if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(typeof s!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var u=[],l=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var h=function(m,y){u.push(m),l.push(y)};this.then=function(p,m){return new e(function(y,_){var q=p?r(p,y,_):y,A=m?r(m,y,_):_;h(q,A)},a)};var f=function(m){return a.resolved=!0,a.rejected=!1,a.pending=!1,u.forEach(function(y){y(m)}),h=function(_,q){_(m)},f=d=function(){},a},d=function(m){return a.resolved=!1,a.rejected=!0,a.pending=!1,l.forEach(function(y){y(m)}),h=function(_,q){q(m)},f=d=function(){},a};this.cancel=function(){return o?o.cancel():d(new n),a},this.timeout=function(p){if(o)o.timeout(p);else{var m=setTimeout(function(){d(new i("Promise timed out after "+p+" ms"))},p);a.always(function(){clearTimeout(m)})}return a},s(function(p){f(p)},function(p){d(p)})}function r(s,o,a){return function(u){try{var l=s(u);l&&typeof l.then=="function"&&typeof l.catch=="function"?l.then(o,a):o(l)}catch(h){a(h)}}}e.prototype.catch=function(s){return this.then(null,s)},e.prototype.always=function(s){return this.then(s,s)},e.all=function(s){return new e(function(o,a){var u=s.length,l=[];u?s.forEach(function(h,f){h.then(function(d){l[f]=d,u--,u==0&&o(l)},function(d){u=0,a(d)})}):o(l)})},e.defer=function(){var s={};return s.promise=new e(function(o,a){s.resolve=o,s.reject=a}),s};function n(s){this.message=s||"promise cancelled",this.stack=new Error().stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="CancellationError",e.CancellationError=n;function i(s){this.message=s||"timeout exceeded",this.stack=new Error().stack}i.prototype=new Error,i.prototype.constructor=Error,i.prototype.name="TimeoutError",e.TimeoutError=i,t.exports=e},518:function(t,e,r){"use strict";function n(b,E){var g=typeof Symbol!="undefined"&&b[Symbol.iterator]||b["@@iterator"];if(!g){if(Array.isArray(b)||(g=i(b))||E&&b&&typeof b.length=="number"){g&&(b=g);var x=0,v=function(){};return{s:v,n:function(){return x>=b.length?{done:!0}:{done:!1,value:b[x++]}},e:function(R){throw R},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I=!0,T=!1,C;return{s:function(){g=g.call(b)},n:function(){var R=g.next();return I=R.done,R},e:function(R){T=!0,C=R},f:function(){try{!I&&g.return!=null&&g.return()}finally{if(T)throw C}}}}function i(b,E){if(!!b){if(typeof b=="string")return s(b,E);var g=Object.prototype.toString.call(b).slice(8,-1);if(g==="Object"&&b.constructor&&(g=b.constructor.name),g==="Map"||g==="Set")return Array.from(b);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return s(b,E)}}function s(b,E){(E==null||E>b.length)&&(E=b.length);for(var g=0,x=new Array(E);g<E;g++)x[g]=b[g];return x}function o(b){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},o(b)}var a=r(446),u=r(722),l=r(781),h=r(162),f=h.IFrameWorker,d="__workerpool-terminate__",p=1e3;function m(){var b=_();if(!b)throw new Error("WorkerPool: workerType = \'thread\' is not supported, Node >= 11.7.0 required");return b}function y(){if(typeof Worker!="function"&&((typeof Worker=="undefined"?"undefined":o(Worker))!=="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function _(){try{return l("worker_threads")}catch(b){if(o(b)==="object"&&b!==null&&b.code==="MODULE_NOT_FOUND")return null;throw b}}function q(){if(u.platform==="browser"){if(typeof Blob=="undefined")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var b=new Blob([r(710)],{type:"text/javascript"});return window.URL.createObjectURL(b)}else return __dirname+"/worker.js"}function A(b,E){if(E.workerType==="iframe")return j(b,f,E);if(E.workerType==="web")return y(),j(b,Worker,E);if(E.workerType==="thread")return g=m(),L(b,g);if(E.workerType==="process"||!E.workerType)return W(b,pe(E),l("child_process"));if(u.platform==="browser")return y(),j(b,Worker);var g=_();return g?L(b,g):W(b,pe(E),l("child_process"))}function j(b,E,g){var x=new E(b,g!=null&&g.name?{name:"".concat(g.name,"-").concat(Date.now())}:void 0);return x.isBrowserWorker=!0,x.on=function(v,I){this.addEventListener(v,function(T){I(T.data)})},x.send=function(v){this.postMessage(v)},x}function L(b,E){var g=new E.Worker(b,{stdout:!1,stderr:!1});return g.isWorkerThread=!0,g.send=function(x){this.postMessage(x)},g.kill=function(){return this.terminate(),!0},g.disconnect=function(){this.terminate()},g}function W(b,E,g){var x=g.fork(b,E.forkArgs,E.forkOpts);return x.isChildProcess=!0,x}function pe(b){b=b||{};var E=process.execArgv.join(" "),g=E.indexOf("--inspect")!==-1,x=E.indexOf("--debug-brk")!==-1,v=[];return g&&(v.push("--inspect="+b.debugPort),x&&v.push("--debug-brk")),process.execArgv.forEach(function(I){I.indexOf("--max-old-space-size")>-1&&v.push(I)}),Object.assign({},b,{forkArgs:b.forkArgs,forkOpts:Object.assign({},b.forkOpts,{execArgv:(b.forkOpts&&b.forkOpts.execArgv||[]).concat(v)})})}function ne(b){for(var E=new Error(""),g=Object.keys(b),x=0;x<g.length;x++)E[g[x]]=b[g[x]];return E}function z(b,E){var g=this,x=E||{};this.script=b||q(),this.worker=A(this.script,x),this.debugPort=x.debugPort,this.forkOpts=x.forkOpts,this.forkArgs=x.forkArgs,b||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",function(C){if(!g.terminated)if(typeof C=="string"&&C==="ready")g.worker.ready=!0,I();else{var k=C.id,R=g.processing[k];R!==void 0&&(C.isEvent?R.options&&typeof R.options.on=="function"&&R.options.on(C.payload):(delete g.processing[k],g.terminating===!0&&g.terminate(),C.error?R.resolver.reject(ne(C.error)):R.resolver.resolve(C.result)))}});function v(C){g.terminated=!0;for(var k in g.processing)g.processing[k]!==void 0&&g.processing[k].resolver.reject(C);g.processing=Object.create(null)}function I(){var C=n(g.requestQueue.splice(0)),k;try{for(C.s();!(k=C.n()).done;){var R=k.value;g.worker.send(R)}}catch(B){C.e(B)}finally{C.f()}}var T=this.worker;this.worker.on("error",v),this.worker.on("exit",function(C,k){var R=`Workerpool Worker terminated Unexpectedly\n`;R+="    exitCode: `"+C+"`\\n",R+="    signalCode: `"+k+"`\\n",R+="    workerpool.script: `"+g.script+"`\\n",R+="    spawnArgs: `"+T.spawnargs+"`\\n",R+="    spawnfile: `"+T.spawnfile+"`\\n",R+="    stdout: `"+T.stdout+"`\\n",R+="    stderr: `"+T.stderr+"`\\n",v(new Error(R))}),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.terminationHandler=null,this.lastId=0}z.prototype.methods=function(){return this.exec("methods")},z.prototype.exec=function(b,E,g,x){g||(g=a.defer());var v=++this.lastId;this.processing[v]={id:v,resolver:g,options:x};var I={id:v,method:b,params:E};this.terminated?g.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(I):this.requestQueue.push(I);var T=this;return g.promise.catch(function(C){if(C instanceof a.CancellationError||C instanceof a.TimeoutError)return delete T.processing[v],T.terminateAndNotify(!0).then(function(){throw C},function(k){throw k});throw C})},z.prototype.busy=function(){return Object.keys(this.processing).length>0},z.prototype.terminate=function(b,E){var g=this;if(b){for(var x in this.processing)this.processing[x]!==void 0&&this.processing[x].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if(typeof E=="function"&&(this.terminationHandler=E),this.busy())this.terminating=!0;else{var v=function(C){if(g.terminated=!0,g.worker!=null&&g.worker.removeAllListeners&&g.worker.removeAllListeners("message"),g.worker=null,g.terminating=!1,g.terminationHandler)g.terminationHandler(C,g);else if(C)throw C};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){v(new Error("worker already killed!"));return}if(this.worker.isChildProcess){var I=setTimeout(function(){g.worker&&g.worker.kill()},p);this.worker.once("exit",function(){clearTimeout(I),g.worker&&(g.worker.killed=!0),v()}),this.worker.ready?this.worker.send(d):this.requestQueue.push(d)}else this.worker.kill(),this.worker.killed=!0,v();return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");v()}},z.prototype.terminateAndNotify=function(b,E){var g=a.defer();return E&&(g.promise.timeout=E),this.terminate(b,function(x,v){x?g.reject(x):g.resolve(v)}),g.promise},t.exports=z,t.exports._tryRequireWorkerThreads=_,t.exports._setupProcessWorker=W,t.exports._setupBrowserWorker=j,t.exports._setupWorkerThreadWorker=L,t.exports.ensureWorkerThreads=m},393:function(t){"use strict";var e=65535;t.exports=r;function r(){this.ports=Object.create(null),this.length=0}r.prototype.nextAvailableStartingAt=function(n){for(;this.ports[n]===!0;)n++;if(n>=e)throw new Error("WorkerPool debug port limit reached: "+n+">= "+e);return this.ports[n]=!0,this.length++,n},r.prototype.releasePort=function(n){delete this.ports[n],this.length--}},722:function(t,e,r){var n=r(781),i=function(u){return typeof u!="undefined"&&u.versions!=null&&u.versions.node!=null};t.exports.isNode=i,t.exports.platform=typeof process!="undefined"&&i(process)?"node":"browser";var s=o("worker_threads");t.exports.isMainThread=t.exports.platform==="node"?(!s||s.isMainThread)&&!process.connected:typeof Window!="undefined",t.exports.cpus=t.exports.platform==="browser"?self.navigator.hardwareConcurrency:n("os").cpus().length;function o(a){try{return n(a)}catch(u){return null}}},710:function(t){t.exports=`!function(){var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var requireFoolWebpack=eval("typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module \\\\" + module + \\\\" not found.\') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(r,e){addEventListener(r,function(r){e(r.data)})},worker.send=function(r){postMessage(r)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(r,e){return Object.defineProperty(r,e,{value:o[e],enumerable:!0})},{})}function isPromise(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch}worker.methods={},worker.methods.run=function(r,e){r=new Function("return ("+r+").apply(null, arguments);");return r.apply(r,e)},worker.methods.methods=function(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var r=worker.methods[e.method];if(!r)throw new Error(\'Unknown method "\'+e.method+\'"\');currentRequestId=e.id;var o=r.apply(r,e.params);isPromise(o)?o.then(function(r){worker.send({id:e.id,result:r,error:null}),currentRequestId=null}).catch(function(r){worker.send({id:e.id,result:null,error:convertError(r)}),currentRequestId=null}):(worker.send({id:e.id,result:o,error:null}),currentRequestId=null)}catch(r){worker.send({id:e.id,result:null,error:convertError(r)})}}),worker.register=function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(worker.methods[e]=r[e]);worker.send("ready")},worker.emit=function(r){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:r})},__webpack_unused_export__=worker.register,worker.emit}()}();`},781:function(module){var requireFoolWebpack=eval(`typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module " + module + " not found.\') }`);module.exports=requireFoolWebpack},52:function(__unused_webpack_module,exports){function _typeof(t){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}var requireFoolWebpack=eval(`typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module " + module + " not found.\') }`),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function t(){}};if(typeof self!="undefined"&&typeof postMessage=="function"&&typeof addEventListener=="function")worker.on=function(t,e){addEventListener(t,function(r){e(r.data)})},worker.send=function(t){postMessage(t)};else if(typeof process!="undefined"){var WorkerThreads;try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(t){if(!(_typeof(t)==="object"&&t!==null&&t.code==="MODULE_NOT_FOUND"))throw t}if(WorkerThreads&&WorkerThreads.parentPort!==null){var parentPort=WorkerThreads.parentPort;worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)}else worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process)}else throw new Error("Script must be executed as a worker");function convertError(t){return Object.getOwnPropertyNames(t).reduce(function(e,r){return Object.defineProperty(e,r,{value:t[r],enumerable:!0})},{})}function isPromise(t){return t&&typeof t.then=="function"&&typeof t.catch=="function"}worker.methods={},worker.methods.run=function t(e,r){var n=new Function("return ("+e+").apply(null, arguments);");return n.apply(n,r)},worker.methods.methods=function t(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(t){if(t===TERMINATE_METHOD_ID)return worker.exit(0);try{var e=worker.methods[t.method];if(e){currentRequestId=t.id;var r=e.apply(e,t.params);isPromise(r)?r.then(function(n){worker.send({id:t.id,result:n,error:null}),currentRequestId=null}).catch(function(n){worker.send({id:t.id,result:null,error:convertError(n)}),currentRequestId=null}):(worker.send({id:t.id,result:r,error:null}),currentRequestId=null)}else throw new Error(\'Unknown method "\'+t.method+\'"\')}catch(n){worker.send({id:t.id,result:null,error:convertError(n)})}}),worker.register=function(t){if(t)for(var e in t)t.hasOwnProperty(e)&&(worker.methods[e]=t[e]);worker.send("ready")},worker.emit=function(t){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:t})},exports.add=worker.register,exports.emit=worker.emit}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(e!==void 0)return e.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](r,r.exports,__webpack_require__),r.exports}(function(){__webpack_require__.d=function(t,e){for(var r in e)__webpack_require__.o(e,r)&&!__webpack_require__.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}})(),function(){__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){__webpack_require__.r=function(t){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}();var __webpack_exports__={};return function(){var t=__webpack_exports__,e=__webpack_require__(722);t.pool=function(n,i){var s=__webpack_require__(799);return new s(n,i)},t.worker=function(n){var i=__webpack_require__(52);i.add(n)},t.workerEmit=function(n){var i=__webpack_require__(52);i.emit(n)},t.Promise=__webpack_require__(446),t.platform=e.platform,t.isMainThread=e.isMainThread,t.cpus=e.cpus}(),__webpack_exports__}()})});var Wo=c(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.loggerCategory=void 0;var CA=t=>`obsidian-zotero:${t}`;Ni.loggerCategory=CA});var ah=c(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.toPage=Pe.multipleAnnotKeyPagePattern=Pe.annotKeyPagePattern=Pe.itemKeyGroupIdPattern=Pe.getItemKeyGroupID=void 0;var OA=({key:t,groupID:e,parentItem:r},n=!1)=>{let i=[t];return!n&&r&&i.push(`a${r}`),typeof e=="number"&&i.push(`g${e}`),i.join("")};Pe.getItemKeyGroupID=OA;var oh=(t,e,r=!0)=>(n,...i)=>{let s="";for(let o=0;o<n.length;o++)o>0&&(s+=t(i[o-1])),s+=(r?n.raw:n)[o];return e(s)},Uo=(t=!0,e)=>oh(r=>r,r=>new RegExp(t?"^"+r+"$":r,e),!0),Ho=String.raw`[23456789ABCDEFGHIJKLMNPQRSTUVWXYZ]{8}`,Qo=String.raw`\\d+`,sh=t=>{let e={annotKey:Ho,parentKey:Ho,groupID:Qo,page:Qo};if(t)for(let r in e)e[r]=`(${e[r]})`;return oh(r=>e[r],r=>r)`${"annotKey"}a${"parentKey"}(?:g${"groupID"})?(?:p${"page"})?`};Pe.itemKeyGroupIdPattern=Uo()`${Ho}(?:g${Qo})?`,Pe.annotKeyPagePattern=Uo()`${sh(!0)}`,Pe.multipleAnnotKeyPagePattern=Uo()`(?:${sh(!1)}n?)+`;var IA=(t,e)=>{if(t===null)return null;let r;return typeof t=="number"?r=t:r=parseInt(t,10),Number.isInteger(r)?e?r+1:r:null};Pe.toPage=IA});var uh=c(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.multipartToStr=Ve.multipartToSQL=Ve.isMultipart=void 0;var AA=/^[0-9]{4}\\-(0[0-9]|10|11|12)\\-(0[0-9]|[1-2][0-9]|30|31) /,kA=/^\\-?[0-9]{4}\\-(0[1-9]|10|11|12)\\-(0[1-9]|[1-2][0-9]|30|31) ([0-1][0-9]|[2][0-3]):([0-5][0-9]):([0-5][0-9])$/,NA=/^\\-?[0-9]{4}\\-(0[1-9]|10|11|12)\\-(0[1-9]|[1-2][0-9]|30|31) ([0-1][0-9]|[2][0-3]):([0-5][0-9])$/,PA=t=>MA(t)||LA(t)?!1:AA.test(t);Ve.isMultipart=PA;var RA=t=>t?(0,Ve.isMultipart)(t)?t.substring(0,10):"0000-00-00":"";Ve.multipartToSQL=RA;var jA=t=>t?(0,Ve.isMultipart)(t)?t.substring(11):t:"";Ve.multipartToStr=jA;var MA=t=>kA.test(t),LA=t=>NA.test(t)});var ch=c(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.logLevels=qr.initLogger=void 0;var $A=Wo(),FA=(t,e,{getLogger:r,configure:n})=>{let i=(0,$A.loggerCategory)(t);return n({appenders:{out:{type:"console"}},categories:{default:{appenders:["out"],level:e},[i]:{appenders:["out"],level:e}}}),r(i)};qr.initLogger=FA;qr.logLevels={ALL:"ALL",TRACE:"TRACE",DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",FATAL:"FATAL",MARK:"MARK",OFF:"OFF"}});var lh=c(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.enumerate=void 0;var DA=()=>(...t)=>t;Pi.enumerate=DA});var hh={};SA(hh,{after:()=>zo,around:()=>BA,dedupe:()=>UA,serialize:()=>HA});function BA(t,e){let r=Object.keys(e).map(n=>WA(t,n,e[n]));return r.length===1?r[0]:function(){r.forEach(n=>n())}}function WA(t,e,r){let n=t[e],i=t.hasOwnProperty(e),s=r(n);return n&&Object.setPrototypeOf(s,n),Object.setPrototypeOf(o,s),t[e]=o,a;function o(...u){return s===n&&t[e]===o&&a(),s.apply(this,u)}function a(){t[e]===o&&(i?t[e]=n:delete t[e]),s!==n&&(s=n,Object.setPrototypeOf(o,n||Function))}}function UA(t,e,r){return n[t]=t,n;function n(...i){return(e[t]===t?e:r).apply(this,i)}}function zo(t,e){return t.then(e,e)}function HA(t){let e=Promise.resolve();function r(...n){return e=new Promise((i,s)=>{zo(e,()=>{t.apply(this,n).then(i,s)})})}return r.after=function(){return e=new Promise((n,i)=>{zo(e,n)})},r}var fh=qA(()=>{});var dh=c(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.logError=void 0;var QA=(fh(),TA(hh)),zA=t=>{let e=r=>async(...n)=>{try{return await r(...n)}catch(i){throw console.error(i),i}};return(0,QA.around)(t,Object.fromEntries(Object.keys(t).map(r=>[r,e]))),t};Ri.logError=zA});var Sr=c(ge=>{"use strict";var GA=ge&&ge.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pn=ge&&ge.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&GA(e,t,r)};Object.defineProperty(ge,"__esModule",{value:!0});ge.betterSqlite3=ge.constants=void 0;ge.constants=Wo();pn(ah(),ge);pn(uh(),ge);pn(ch(),ge);pn(lh(),ge);pn(dh(),ge);var KA=t=>`better-sqlite3-${t}.node`;ge.betterSqlite3=KA});var Jo=c(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});var Go=class extends Error{};Ko.TimeoutError=Go});var ph=c(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});var Vo=class{constructor(e){this._value=e.value,this._error=e.error}value(){return this._value}reason(){return this._error}isRejected(){return!!this._error}isFulfilled(){return!!this._value}};Yo.PromiseInspection=Vo});var ji=c(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});var mh=ph();function JA(){let t=null,e=null;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}Ye.defer=JA;function VA(){return Date.now()}Ye.now=VA;function YA(t,e){return Math.abs(e-t)}Ye.duration=YA;function XA(t){return typeof t=="undefined"?!0:gh(t)}Ye.checkOptionalTime=XA;function gh(t){return typeof t=="number"&&t===Math.round(t)&&t>0}Ye.checkRequiredTime=gh;function ZA(t){return new Promise(e=>setTimeout(e,t))}Ye.delay=ZA;function e0(t){return t.then(e=>new mh.PromiseInspection({value:e})).catch(e=>new mh.PromiseInspection({error:e}))}Ye.reflect=e0;function t0(t){try{let e=t();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}Ye.tryPromise=t0});var yh=c(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});var Mi=Jo(),r0=ji(),Xo=class{constructor(e){this.timeoutMillis=e,this.deferred=r0.defer(),this.possibleTimeoutCause=null,this.isRejected=!1,this.promise=n0(this.deferred.promise,e).catch(r=>(r instanceof Mi.TimeoutError&&(this.possibleTimeoutCause?r=new Mi.TimeoutError(this.possibleTimeoutCause.message):r=new Mi.TimeoutError("operation timed out for an unknown reason")),this.isRejected=!0,Promise.reject(r)))}abort(){this.reject(new Error("aborted"))}reject(e){this.deferred.reject(e)}resolve(e){this.deferred.resolve(e)}};Zo.PendingOperation=Xo;function n0(t,e){return new Promise((r,n)=>{let i=setTimeout(()=>n(new Mi.TimeoutError),e);t.then(s=>{clearTimeout(i),r(s)}).catch(s=>{clearTimeout(i),n(s)})})}});var bh=c(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});var wh=ji(),mn=class{constructor(e){this.resource=e,this.resource=e,this.timestamp=wh.now(),this.deferred=wh.defer()}get promise(){return this.deferred.promise}resolve(){return this.deferred.resolve(void 0),new mn(this.resource)}};ea.Resource=mn});var xh=c(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});var Li=yh(),i0=bh(),ye=ji(),s0=require("events"),_h=require("timers"),ta=class{constructor(e){if(this.destroyed=!1,this.emitter=new s0.EventEmitter,e=e||{},!e.create)throw new Error("Tarn: opt.create function most be provided");if(!e.destroy)throw new Error("Tarn: opt.destroy function most be provided");if(typeof e.min!="number"||e.min<0||e.min!==Math.round(e.min))throw new Error("Tarn: opt.min must be an integer >= 0");if(typeof e.max!="number"||e.max<=0||e.max!==Math.round(e.max))throw new Error("Tarn: opt.max must be an integer > 0");if(e.min>e.max)throw new Error("Tarn: opt.max is smaller than opt.min");if(!ye.checkOptionalTime(e.acquireTimeoutMillis))throw new Error("Tarn: invalid opt.acquireTimeoutMillis "+JSON.stringify(e.acquireTimeoutMillis));if(!ye.checkOptionalTime(e.createTimeoutMillis))throw new Error("Tarn: invalid opt.createTimeoutMillis "+JSON.stringify(e.createTimeoutMillis));if(!ye.checkOptionalTime(e.destroyTimeoutMillis))throw new Error("Tarn: invalid opt.destroyTimeoutMillis "+JSON.stringify(e.destroyTimeoutMillis));if(!ye.checkOptionalTime(e.idleTimeoutMillis))throw new Error("Tarn: invalid opt.idleTimeoutMillis "+JSON.stringify(e.idleTimeoutMillis));if(!ye.checkOptionalTime(e.reapIntervalMillis))throw new Error("Tarn: invalid opt.reapIntervalMillis "+JSON.stringify(e.reapIntervalMillis));if(!ye.checkOptionalTime(e.createRetryIntervalMillis))throw new Error("Tarn: invalid opt.createRetryIntervalMillis "+JSON.stringify(e.createRetryIntervalMillis));let r={create:!0,validate:!0,destroy:!0,log:!0,min:!0,max:!0,acquireTimeoutMillis:!0,createTimeoutMillis:!0,destroyTimeoutMillis:!0,idleTimeoutMillis:!0,reapIntervalMillis:!0,createRetryIntervalMillis:!0,propagateCreateError:!0};for(let n of Object.keys(e))if(!r[n])throw new Error(`Tarn: unsupported option opt.${n}`);this.creator=e.create,this.destroyer=e.destroy,this.validate=typeof e.validate=="function"?e.validate:()=>!0,this.log=e.log||(()=>{}),this.acquireTimeoutMillis=e.acquireTimeoutMillis||3e4,this.createTimeoutMillis=e.createTimeoutMillis||3e4,this.destroyTimeoutMillis=e.destroyTimeoutMillis||5e3,this.idleTimeoutMillis=e.idleTimeoutMillis||3e4,this.reapIntervalMillis=e.reapIntervalMillis||1e3,this.createRetryIntervalMillis=e.createRetryIntervalMillis||200,this.propagateCreateError=!!e.propagateCreateError,this.min=e.min,this.max=e.max,this.used=[],this.free=[],this.pendingCreates=[],this.pendingAcquires=[],this.pendingDestroys=[],this.pendingValidations=[],this.destroyed=!1,this.interval=null,this.eventId=1}numUsed(){return this.used.length}numFree(){return this.free.length}numPendingAcquires(){return this.pendingAcquires.length}numPendingValidations(){return this.pendingValidations.length}numPendingCreates(){return this.pendingCreates.length}acquire(){let e=this.eventId++;this._executeEventHandlers("acquireRequest",e);let r=new Li.PendingOperation(this.acquireTimeoutMillis);return this.pendingAcquires.push(r),r.promise=r.promise.then(n=>(this._executeEventHandlers("acquireSuccess",e,n),n)).catch(n=>(this._executeEventHandlers("acquireFail",e,n),Tr(this.pendingAcquires,r),Promise.reject(n))),this._tryAcquireOrCreate(),r}release(e){this._executeEventHandlers("release",e);for(let r=0,n=this.used.length;r<n;++r){let i=this.used[r];if(i.resource===e)return this.used.splice(r,1),this.free.push(i.resolve()),this._tryAcquireOrCreate(),!0}return!1}isEmpty(){return[this.numFree(),this.numUsed(),this.numPendingAcquires(),this.numPendingValidations(),this.numPendingCreates()].reduce((e,r)=>e+r)===0}check(){let e=ye.now(),r=[],n=this.min-this.used.length,i=this.free.length-n,s=0;this.free.forEach(o=>{ye.duration(e,o.timestamp)>=this.idleTimeoutMillis&&s<i?(s++,this._destroy(o.resource)):r.push(o)}),this.free=r,this.isEmpty()&&this._stopReaping()}destroy(){let e=this.eventId++;return this._executeEventHandlers("poolDestroyRequest",e),this._stopReaping(),this.destroyed=!0,ye.reflect(Promise.all(this.pendingCreates.map(r=>ye.reflect(r.promise))).then(()=>new Promise((r,n)=>{if(this.numPendingValidations()===0){r();return}let i=setInterval(()=>{this.numPendingValidations()===0&&(_h.clearInterval(i),r())},100)})).then(()=>Promise.all(this.used.map(r=>ye.reflect(r.promise)))).then(()=>Promise.all(this.pendingAcquires.map(r=>(r.abort(),ye.reflect(r.promise))))).then(()=>Promise.all(this.free.map(r=>ye.reflect(this._destroy(r.resource))))).then(()=>Promise.all(this.pendingDestroys.map(r=>r.promise))).then(()=>{this.free=[],this.pendingAcquires=[]})).then(r=>(this._executeEventHandlers("poolDestroySuccess",e),this.emitter.removeAllListeners(),r))}on(e,r){this.emitter.on(e,r)}removeListener(e,r){this.emitter.removeListener(e,r)}removeAllListeners(e){this.emitter.removeAllListeners(e)}_tryAcquireOrCreate(){this.destroyed||(this._hasFreeResources()?this._doAcquire():this._shouldCreateMoreResources()&&this._doCreate())}_hasFreeResources(){return this.free.length>0}_doAcquire(){for(;this._canAcquire();){let e=this.pendingAcquires.shift(),r=this.free.pop();if(r===void 0||e===void 0){let i="this.free was empty while trying to acquire resource";throw this.log(`Tarn: ${i}`,"warn"),new Error(`Internal error, should never happen. ${i}`)}this.pendingValidations.push(e),this.used.push(r);let n=new Li.PendingOperation(this.acquireTimeoutMillis);e.promise.catch(i=>{n.abort()}),n.promise.catch(i=>(this.log("Tarn: resource validator threw an exception "+i.stack,"warn"),!1)).then(i=>{try{i&&!e.isRejected?(this._startReaping(),e.resolve(r.resource)):(Tr(this.used,r),i?this.free.push(r):(this._destroy(r.resource),setTimeout(()=>{this._tryAcquireOrCreate()},0)),e.isRejected||this.pendingAcquires.unshift(e))}finally{Tr(this.pendingValidations,e)}}),this._validateResource(r.resource).then(i=>{n.resolve(i)}).catch(i=>{n.reject(i)})}}_canAcquire(){return this.free.length>0&&this.pendingAcquires.length>0}_validateResource(e){try{return Promise.resolve(this.validate(e))}catch(r){return Promise.reject(r)}}_shouldCreateMoreResources(){return this.used.length+this.pendingCreates.length<this.max&&this.pendingCreates.length<this.pendingAcquires.length}_doCreate(){let e=this.pendingAcquires.slice();this._create().promise.then(()=>(this._tryAcquireOrCreate(),null)).catch(n=>{this.propagateCreateError&&this.pendingAcquires.length!==0&&this.pendingAcquires[0].reject(n),e.forEach(i=>{i.possibleTimeoutCause=n}),ye.delay(this.createRetryIntervalMillis).then(()=>this._tryAcquireOrCreate())})}_create(){let e=this.eventId++;this._executeEventHandlers("createRequest",e);let r=new Li.PendingOperation(this.createTimeoutMillis);return r.promise=r.promise.catch(n=>{throw Tr(this.pendingCreates,r)&&this._executeEventHandlers("createFail",e,n),n}),this.pendingCreates.push(r),o0(this.creator).then(n=>r.isRejected?(this.destroyer(n),null):(Tr(this.pendingCreates,r),this.free.push(new i0.Resource(n)),r.resolve(n),this._executeEventHandlers("createSuccess",e,n),null)).catch(n=>(r.isRejected||(Tr(this.pendingCreates,r)&&this._executeEventHandlers("createFail",e,n),r.reject(n)),null)),r}_destroy(e){let r=this.eventId++;this._executeEventHandlers("destroyRequest",r,e);let n=new Li.PendingOperation(this.destroyTimeoutMillis);return Promise.resolve().then(()=>this.destroyer(e)).then(()=>{n.resolve(e)}).catch(s=>{n.reject(s)}),this.pendingDestroys.push(n),n.promise.then(s=>(this._executeEventHandlers("destroySuccess",r,e),s)).catch(s=>this._logDestroyerError(r,e,s)).then(s=>{let o=this.pendingDestroys.findIndex(a=>a===n);return this.pendingDestroys.splice(o,1),s})}_logDestroyerError(e,r,n){this._executeEventHandlers("destroyFail",e,r,n),this.log("Tarn: resource destroyer threw an exception "+n.stack,"warn")}_startReaping(){this.interval||(this._executeEventHandlers("startReaping"),this.interval=setInterval(()=>this.check(),this.reapIntervalMillis))}_stopReaping(){this.interval!==null&&(this._executeEventHandlers("stopReaping"),_h.clearInterval(this.interval)),this.interval=null}_executeEventHandlers(e,...r){this.emitter.listeners(e).forEach(i=>{try{i(...r)}catch(s){this.log(`Tarn: event handler "${e}" threw an exception ${s.stack}`,"warn")}})}};ra.Pool=ta;function Tr(t,e){let r=t.indexOf(e);return r===-1?!1:(t.splice(r,1),!0)}function o0(t){return new Promise((e,r)=>{let n=(i,s)=>{i?r(i):e(s)};ye.tryPromise(()=>t(n)).then(i=>{i&&e(i)}).catch(i=>{r(i)})})}});var Sh=c(($i,qh)=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});var vh=xh();$i.Pool=vh.Pool;var Eh=Jo();$i.TimeoutError=Eh.TimeoutError;qh.exports={Pool:vh.Pool,TimeoutError:Eh.TimeoutError}});var kh=c((ZZ,Ah)=>{var Fi=/[\\0\\b\\t\\n\\r\\x1a"\'\\\\]/g,Th={"\\0":"\\\\0","\\b":"\\\\b","	":"\\\\t","\\n":"\\\\n","\\r":"\\\\r","":"\\\\Z",\'"\':\'\\\\"\',"\'":"\\\\\'","\\\\":"\\\\\\\\"};function a0(t){return function e(r,n={}){return t(r,e,n)}}function u0(t={}){let e=t.escapeDate||Ih,r=t.escapeArray||na,n=t.escapeBuffer||Oh,i=t.escapeString||ia,s=t.escapeObject||Ch,o=t.wrap||a0;function a(u,l,h){if(u==null)return"NULL";switch(typeof u){case"boolean":return u?"true":"false";case"number":return u+"";case"object":if(u instanceof Date)u=e(u,l,h);else return Array.isArray(u)?r(u,l,h):Buffer.isBuffer(u)?n(u,l,h):s(u,l,h)}return i(u,l,h)}return o?o(a):a}function Ch(t,e,r){return t&&typeof t.toSQL=="function"?t.toSQL(r):JSON.stringify(t)}function na(t,e,r){let n="";for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?n+=(i===0?"":", ")+"("+na(s,e,r)+")":n+=(i===0?"":", ")+e(s,r)}return n}function Oh(t){return"X"+ia(t.toString("hex"))}function ia(t,e,r){let n=Fi.lastIndex=0,i="",s;for(;s=Fi.exec(t);)i+=t.slice(n,s.index)+Th[s[0]],n=Fi.lastIndex;return n===0?"\'"+t+"\'":n<t.length?"\'"+i+t.slice(n)+"\'":"\'"+i+"\'"}function Ih(t,e,r={}){let n=r.timeZone||"local",i=new Date(t),s,o,a,u,l,h,f;if(n==="local")s=i.getFullYear(),o=i.getMonth()+1,a=i.getDate(),u=i.getHours(),l=i.getMinutes(),h=i.getSeconds(),f=i.getMilliseconds();else{let d=c0(n);d!==!1&&d!==0&&i.setTime(i.getTime()+d*6e4),s=i.getUTCFullYear(),o=i.getUTCMonth()+1,a=i.getUTCDate(),u=i.getUTCHours(),l=i.getUTCMinutes(),h=i.getUTCSeconds(),f=i.getUTCMilliseconds()}return Ut(s,4)+"-"+Ut(o,2)+"-"+Ut(a,2)+" "+Ut(u,2)+":"+Ut(l,2)+":"+Ut(h,2)+"."+Ut(f,3)}function Ut(t,e){for(t=t.toString();t.length<e;)t="0"+t;return t}function c0(t){if(t==="Z")return 0;let e=t.match(/([+\\-\\s])(\\d\\d):?(\\d\\d)?/);return e?(e[1]=="-"?-1:1)*(parseInt(e[2],10)+(e[3]?parseInt(e[3],10):0)/60)*60:!1}Ah.exports={arrayToList:na,bufferToString:Oh,dateToString:Ih,escapeString:ia,charsRegex:Fi,charsMap:Th,escapeObject:Ch,makeEscape:u0}});var Ph=c((eee,Nh)=>{function l0(){this.__data__=[],this.size=0}Nh.exports=l0});var qt=c((tee,Rh)=>{function h0(t,e){return t===e||t!==t&&e!==e}Rh.exports=h0});var gn=c((ree,jh)=>{var f0=qt();function d0(t,e){for(var r=t.length;r--;)if(f0(t[r][0],e))return r;return-1}jh.exports=d0});var Lh=c((nee,Mh)=>{var p0=gn(),m0=Array.prototype,g0=m0.splice;function y0(t){var e=this.__data__,r=p0(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():g0.call(e,r,1),--this.size,!0}Mh.exports=y0});var Fh=c((iee,$h)=>{var w0=gn();function b0(t){var e=this.__data__,r=w0(e,t);return r<0?void 0:e[r][1]}$h.exports=b0});var Bh=c((see,Dh)=>{var _0=gn();function x0(t){return _0(this.__data__,t)>-1}Dh.exports=x0});var Uh=c((oee,Wh)=>{var v0=gn();function E0(t,e){var r=this.__data__,n=v0(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}Wh.exports=E0});var yn=c((aee,Hh)=>{var q0=Ph(),S0=Lh(),T0=Fh(),C0=Bh(),O0=Uh();function Cr(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Cr.prototype.clear=q0;Cr.prototype.delete=S0;Cr.prototype.get=T0;Cr.prototype.has=C0;Cr.prototype.set=O0;Hh.exports=Cr});var zh=c((uee,Qh)=>{var I0=yn();function A0(){this.__data__=new I0,this.size=0}Qh.exports=A0});var Kh=c((cee,Gh)=>{function k0(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}Gh.exports=k0});var Vh=c((lee,Jh)=>{function N0(t){return this.__data__.get(t)}Jh.exports=N0});var Xh=c((hee,Yh)=>{function P0(t){return this.__data__.has(t)}Yh.exports=P0});var sa=c((fee,Zh)=>{var R0=typeof global=="object"&&global&&global.Object===Object&&global;Zh.exports=R0});var Ue=c((dee,ef)=>{var j0=sa(),M0=typeof self=="object"&&self&&self.Object===Object&&self,L0=j0||M0||Function("return this")();ef.exports=L0});var St=c((pee,tf)=>{var $0=Ue(),F0=$0.Symbol;tf.exports=F0});var of=c((mee,sf)=>{var rf=St(),nf=Object.prototype,D0=nf.hasOwnProperty,B0=nf.toString,wn=rf?rf.toStringTag:void 0;function W0(t){var e=D0.call(t,wn),r=t[wn];try{t[wn]=void 0;var n=!0}catch(s){}var i=B0.call(t);return n&&(e?t[wn]=r:delete t[wn]),i}sf.exports=W0});var uf=c((gee,af)=>{var U0=Object.prototype,H0=U0.toString;function Q0(t){return H0.call(t)}af.exports=Q0});var lt=c((yee,hf)=>{var cf=St(),z0=of(),G0=uf(),K0="[object Null]",J0="[object Undefined]",lf=cf?cf.toStringTag:void 0;function V0(t){return t==null?t===void 0?J0:K0:lf&&lf in Object(t)?z0(t):G0(t)}hf.exports=V0});var Se=c((wee,ff)=>{function Y0(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}ff.exports=Y0});var bn=c((bee,df)=>{var X0=lt(),Z0=Se(),ek="[object AsyncFunction]",tk="[object Function]",rk="[object GeneratorFunction]",nk="[object Proxy]";function ik(t){if(!Z0(t))return!1;var e=X0(t);return e==tk||e==rk||e==ek||e==nk}df.exports=ik});var mf=c((_ee,pf)=>{var sk=Ue(),ok=sk["__core-js_shared__"];pf.exports=ok});var wf=c((xee,yf)=>{var oa=mf(),gf=function(){var t=/[^.]+$/.exec(oa&&oa.keys&&oa.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ak(t){return!!gf&&gf in t}yf.exports=ak});var aa=c((vee,bf)=>{var uk=Function.prototype,ck=uk.toString;function lk(t){if(t!=null){try{return ck.call(t)}catch(e){}try{return t+""}catch(e){}}return""}bf.exports=lk});var xf=c((Eee,_f)=>{var hk=bn(),fk=wf(),dk=Se(),pk=aa(),mk=/[\\\\^$.*+?()[\\]{}|]/g,gk=/^\\[object .+?Constructor\\]$/,yk=Function.prototype,wk=Object.prototype,bk=yk.toString,_k=wk.hasOwnProperty,xk=RegExp("^"+bk.call(_k).replace(mk,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");function vk(t){if(!dk(t)||fk(t))return!1;var e=hk(t)?xk:gk;return e.test(pk(t))}_f.exports=vk});var Ef=c((qee,vf)=>{function Ek(t,e){return t==null?void 0:t[e]}vf.exports=Ek});var Tt=c((See,qf)=>{var qk=xf(),Sk=Ef();function Tk(t,e){var r=Sk(t,e);return qk(r)?r:void 0}qf.exports=Tk});var Di=c((Tee,Sf)=>{var Ck=Tt(),Ok=Ue(),Ik=Ck(Ok,"Map");Sf.exports=Ik});var _n=c((Cee,Tf)=>{var Ak=Tt(),kk=Ak(Object,"create");Tf.exports=kk});var If=c((Oee,Of)=>{var Cf=_n();function Nk(){this.__data__=Cf?Cf(null):{},this.size=0}Of.exports=Nk});var kf=c((Iee,Af)=>{function Pk(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}Af.exports=Pk});var Pf=c((Aee,Nf)=>{var Rk=_n(),jk="__lodash_hash_undefined__",Mk=Object.prototype,Lk=Mk.hasOwnProperty;function $k(t){var e=this.__data__;if(Rk){var r=e[t];return r===jk?void 0:r}return Lk.call(e,t)?e[t]:void 0}Nf.exports=$k});var jf=c((kee,Rf)=>{var Fk=_n(),Dk=Object.prototype,Bk=Dk.hasOwnProperty;function Wk(t){var e=this.__data__;return Fk?e[t]!==void 0:Bk.call(e,t)}Rf.exports=Wk});var Lf=c((Nee,Mf)=>{var Uk=_n(),Hk="__lodash_hash_undefined__";function Qk(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Uk&&e===void 0?Hk:e,this}Mf.exports=Qk});var Ff=c((Pee,$f)=>{var zk=If(),Gk=kf(),Kk=Pf(),Jk=jf(),Vk=Lf();function Or(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Or.prototype.clear=zk;Or.prototype.delete=Gk;Or.prototype.get=Kk;Or.prototype.has=Jk;Or.prototype.set=Vk;$f.exports=Or});var Wf=c((Ree,Bf)=>{var Df=Ff(),Yk=yn(),Xk=Di();function Zk(){this.size=0,this.__data__={hash:new Df,map:new(Xk||Yk),string:new Df}}Bf.exports=Zk});var Hf=c((jee,Uf)=>{function eN(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}Uf.exports=eN});var xn=c((Mee,Qf)=>{var tN=Hf();function rN(t,e){var r=t.__data__;return tN(e)?r[typeof e=="string"?"string":"hash"]:r.map}Qf.exports=rN});var Gf=c((Lee,zf)=>{var nN=xn();function iN(t){var e=nN(this,t).delete(t);return this.size-=e?1:0,e}zf.exports=iN});var Jf=c(($ee,Kf)=>{var sN=xn();function oN(t){return sN(this,t).get(t)}Kf.exports=oN});var Yf=c((Fee,Vf)=>{var aN=xn();function uN(t){return aN(this,t).has(t)}Vf.exports=uN});var Zf=c((Dee,Xf)=>{var cN=xn();function lN(t,e){var r=cN(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}Xf.exports=lN});var Bi=c((Bee,ed)=>{var hN=Wf(),fN=Gf(),dN=Jf(),pN=Yf(),mN=Zf();function Ir(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ir.prototype.clear=hN;Ir.prototype.delete=fN;Ir.prototype.get=dN;Ir.prototype.has=pN;Ir.prototype.set=mN;ed.exports=Ir});var rd=c((Wee,td)=>{var gN=yn(),yN=Di(),wN=Bi(),bN=200;function _N(t,e){var r=this.__data__;if(r instanceof gN){var n=r.__data__;if(!yN||n.length<bN-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new wN(n)}return r.set(t,e),this.size=r.size,this}td.exports=_N});var vn=c((Uee,nd)=>{var xN=yn(),vN=zh(),EN=Kh(),qN=Vh(),SN=Xh(),TN=rd();function Ar(t){var e=this.__data__=new xN(t);this.size=e.size}Ar.prototype.clear=vN;Ar.prototype.delete=EN;Ar.prototype.get=qN;Ar.prototype.has=SN;Ar.prototype.set=TN;nd.exports=Ar});var Wi=c((Hee,id)=>{function CN(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}id.exports=CN});var ua=c((Qee,sd)=>{var ON=Tt(),IN=function(){try{var t=ON(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();sd.exports=IN});var En=c((zee,ad)=>{var od=ua();function AN(t,e,r){e=="__proto__"&&od?od(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}ad.exports=AN});var qn=c((Gee,ud)=>{var kN=En(),NN=qt(),PN=Object.prototype,RN=PN.hasOwnProperty;function jN(t,e,r){var n=t[e];(!(RN.call(t,e)&&NN(n,r))||r===void 0&&!(e in t))&&kN(t,e,r)}ud.exports=jN});var ht=c((Kee,cd)=>{var MN=qn(),LN=En();function $N(t,e,r,n){var i=!r;r||(r={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=n?n(r[a],t[a],a,r,t):void 0;u===void 0&&(u=t[a]),i?LN(r,a,u):MN(r,a,u)}return r}cd.exports=$N});var hd=c((Jee,ld)=>{function FN(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}ld.exports=FN});var Re=c((Vee,fd)=>{function DN(t){return t!=null&&typeof t=="object"}fd.exports=DN});var pd=c((Yee,dd)=>{var BN=lt(),WN=Re(),UN="[object Arguments]";function HN(t){return WN(t)&&BN(t)==UN}dd.exports=HN});var kr=c((Xee,yd)=>{var md=pd(),QN=Re(),gd=Object.prototype,zN=gd.hasOwnProperty,GN=gd.propertyIsEnumerable,KN=md(function(){return arguments}())?md:function(t){return QN(t)&&zN.call(t,"callee")&&!GN.call(t,"callee")};yd.exports=KN});var V=c((Zee,wd)=>{var JN=Array.isArray;wd.exports=JN});var _d=c((ete,bd)=>{function VN(){return!1}bd.exports=VN});var Ht=c((Sn,Nr)=>{var YN=Ue(),XN=_d(),Ed=typeof Sn=="object"&&Sn&&!Sn.nodeType&&Sn,xd=Ed&&typeof Nr=="object"&&Nr&&!Nr.nodeType&&Nr,ZN=xd&&xd.exports===Ed,vd=ZN?YN.Buffer:void 0,eP=vd?vd.isBuffer:void 0,tP=eP||XN;Nr.exports=tP});var Tn=c((tte,qd)=>{var rP=9007199254740991,nP=/^(?:0|[1-9]\\d*)$/;function iP(t,e){var r=typeof t;return e=e==null?rP:e,!!e&&(r=="number"||r!="symbol"&&nP.test(t))&&t>-1&&t%1==0&&t<e}qd.exports=iP});var Ui=c((rte,Sd)=>{var sP=9007199254740991;function oP(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sP}Sd.exports=oP});var Cd=c((nte,Td)=>{var aP=lt(),uP=Ui(),cP=Re(),lP="[object Arguments]",hP="[object Array]",fP="[object Boolean]",dP="[object Date]",pP="[object Error]",mP="[object Function]",gP="[object Map]",yP="[object Number]",wP="[object Object]",bP="[object RegExp]",_P="[object Set]",xP="[object String]",vP="[object WeakMap]",EP="[object ArrayBuffer]",qP="[object DataView]",SP="[object Float32Array]",TP="[object Float64Array]",CP="[object Int8Array]",OP="[object Int16Array]",IP="[object Int32Array]",AP="[object Uint8Array]",kP="[object Uint8ClampedArray]",NP="[object Uint16Array]",PP="[object Uint32Array]",Q={};Q[SP]=Q[TP]=Q[CP]=Q[OP]=Q[IP]=Q[AP]=Q[kP]=Q[NP]=Q[PP]=!0;Q[lP]=Q[hP]=Q[EP]=Q[fP]=Q[qP]=Q[dP]=Q[pP]=Q[mP]=Q[gP]=Q[yP]=Q[wP]=Q[bP]=Q[_P]=Q[xP]=Q[vP]=!1;function RP(t){return cP(t)&&uP(t.length)&&!!Q[aP(t)]}Td.exports=RP});var Pr=c((ite,Od)=>{function jP(t){return function(e){return t(e)}}Od.exports=jP});var Hi=c((Cn,Rr)=>{var MP=sa(),Id=typeof Cn=="object"&&Cn&&!Cn.nodeType&&Cn,On=Id&&typeof Rr=="object"&&Rr&&!Rr.nodeType&&Rr,LP=On&&On.exports===Id,ca=LP&&MP.process,$P=function(){try{var t=On&&On.require&&On.require("util").types;return t||ca&&ca.binding&&ca.binding("util")}catch(e){}}();Rr.exports=$P});var Qt=c((ste,Nd)=>{var FP=Cd(),DP=Pr(),Ad=Hi(),kd=Ad&&Ad.isTypedArray,BP=kd?DP(kd):FP;Nd.exports=BP});var la=c((ote,Pd)=>{var WP=hd(),UP=kr(),HP=V(),QP=Ht(),zP=Tn(),GP=Qt(),KP=Object.prototype,JP=KP.hasOwnProperty;function VP(t,e){var r=HP(t),n=!r&&UP(t),i=!r&&!n&&QP(t),s=!r&&!n&&!i&&GP(t),o=r||n||i||s,a=o?WP(t.length,String):[],u=a.length;for(var l in t)(e||JP.call(t,l))&&!(o&&(l=="length"||i&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||zP(l,u)))&&a.push(l);return a}Pd.exports=VP});var jr=c((ate,Rd)=>{var YP=Object.prototype;function XP(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||YP;return t===r}Rd.exports=XP});var ha=c((ute,jd)=>{function ZP(t,e){return function(r){return t(e(r))}}jd.exports=ZP});var Ld=c((cte,Md)=>{var eR=ha(),tR=eR(Object.keys,Object);Md.exports=tR});var fa=c((lte,$d)=>{var rR=jr(),nR=Ld(),iR=Object.prototype,sR=iR.hasOwnProperty;function oR(t){if(!rR(t))return nR(t);var e=[];for(var r in Object(t))sR.call(t,r)&&r!="constructor"&&e.push(r);return e}$d.exports=oR});var He=c((hte,Fd)=>{var aR=bn(),uR=Ui();function cR(t){return t!=null&&uR(t.length)&&!aR(t)}Fd.exports=cR});var ft=c((fte,Dd)=>{var lR=la(),hR=fa(),fR=He();function dR(t){return fR(t)?lR(t):hR(t)}Dd.exports=dR});var Wd=c((dte,Bd)=>{var pR=ht(),mR=ft();function gR(t,e){return t&&pR(e,mR(e),t)}Bd.exports=gR});var Hd=c((pte,Ud)=>{function yR(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}Ud.exports=yR});var zd=c((mte,Qd)=>{var wR=Se(),bR=jr(),_R=Hd(),xR=Object.prototype,vR=xR.hasOwnProperty;function ER(t){if(!wR(t))return _R(t);var e=bR(t),r=[];for(var n in t)n=="constructor"&&(e||!vR.call(t,n))||r.push(n);return r}Qd.exports=ER});var dt=c((gte,Gd)=>{var qR=la(),SR=zd(),TR=He();function CR(t){return TR(t)?qR(t,!0):SR(t)}Gd.exports=CR});var Jd=c((yte,Kd)=>{var OR=ht(),IR=dt();function AR(t,e){return t&&OR(e,IR(e),t)}Kd.exports=AR});var da=c((In,Mr)=>{var kR=Ue(),Zd=typeof In=="object"&&In&&!In.nodeType&&In,Vd=Zd&&typeof Mr=="object"&&Mr&&!Mr.nodeType&&Mr,NR=Vd&&Vd.exports===Zd,Yd=NR?kR.Buffer:void 0,Xd=Yd?Yd.allocUnsafe:void 0;function PR(t,e){if(e)return t.slice();var r=t.length,n=Xd?Xd(r):new t.constructor(r);return t.copy(n),n}Mr.exports=PR});var Qi=c((wte,ep)=>{function RR(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}ep.exports=RR});var zi=c((bte,tp)=>{function jR(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}tp.exports=jR});var pa=c((_te,rp)=>{function MR(){return[]}rp.exports=MR});var Gi=c((xte,ip)=>{var LR=zi(),$R=pa(),FR=Object.prototype,DR=FR.propertyIsEnumerable,np=Object.getOwnPropertySymbols,BR=np?function(t){return t==null?[]:(t=Object(t),LR(np(t),function(e){return DR.call(t,e)}))}:$R;ip.exports=BR});var op=c((vte,sp)=>{var WR=ht(),UR=Gi();function HR(t,e){return WR(t,UR(t),e)}sp.exports=HR});var Ki=c((Ete,ap)=>{function QR(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}ap.exports=QR});var An=c((qte,up)=>{var zR=ha(),GR=zR(Object.getPrototypeOf,Object);up.exports=GR});var ma=c((Ste,cp)=>{var KR=Ki(),JR=An(),VR=Gi(),YR=pa(),XR=Object.getOwnPropertySymbols,ZR=XR?function(t){for(var e=[];t;)KR(e,VR(t)),t=JR(t);return e}:YR;cp.exports=ZR});var hp=c((Tte,lp)=>{var ej=ht(),tj=ma();function rj(t,e){return ej(t,tj(t),e)}lp.exports=rj});var ga=c((Cte,fp)=>{var nj=Ki(),ij=V();function sj(t,e,r){var n=e(t);return ij(t)?n:nj(n,r(t))}fp.exports=sj});var ya=c((Ote,dp)=>{var oj=ga(),aj=Gi(),uj=ft();function cj(t){return oj(t,uj,aj)}dp.exports=cj});var wa=c((Ite,pp)=>{var lj=ga(),hj=ma(),fj=dt();function dj(t){return lj(t,fj,hj)}pp.exports=dj});var gp=c((Ate,mp)=>{var pj=Tt(),mj=Ue(),gj=pj(mj,"DataView");mp.exports=gj});var wp=c((kte,yp)=>{var yj=Tt(),wj=Ue(),bj=yj(wj,"Promise");yp.exports=bj});var _p=c((Nte,bp)=>{var _j=Tt(),xj=Ue(),vj=_j(xj,"Set");bp.exports=vj});var vp=c((Pte,xp)=>{var Ej=Tt(),qj=Ue(),Sj=Ej(qj,"WeakMap");xp.exports=Sj});var Gt=c((Rte,Ip)=>{var ba=gp(),_a=Di(),xa=wp(),va=_p(),Ea=vp(),Op=lt(),Lr=aa(),Ep="[object Map]",Tj="[object Object]",qp="[object Promise]",Sp="[object Set]",Tp="[object WeakMap]",Cp="[object DataView]",Cj=Lr(ba),Oj=Lr(_a),Ij=Lr(xa),Aj=Lr(va),kj=Lr(Ea),zt=Op;(ba&&zt(new ba(new ArrayBuffer(1)))!=Cp||_a&&zt(new _a)!=Ep||xa&&zt(xa.resolve())!=qp||va&&zt(new va)!=Sp||Ea&&zt(new Ea)!=Tp)&&(zt=function(t){var e=Op(t),r=e==Tj?t.constructor:void 0,n=r?Lr(r):"";if(n)switch(n){case Cj:return Cp;case Oj:return Ep;case Ij:return qp;case Aj:return Sp;case kj:return Tp}return e});Ip.exports=zt});var kp=c((jte,Ap)=>{var Nj=Object.prototype,Pj=Nj.hasOwnProperty;function Rj(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Pj.call(t,"index")&&(r.index=t.index,r.input=t.input),r}Ap.exports=Rj});var qa=c((Mte,Np)=>{var jj=Ue(),Mj=jj.Uint8Array;Np.exports=Mj});var Ji=c((Lte,Rp)=>{var Pp=qa();function Lj(t){var e=new t.constructor(t.byteLength);return new Pp(e).set(new Pp(t)),e}Rp.exports=Lj});var Mp=c(($te,jp)=>{var $j=Ji();function Fj(t,e){var r=e?$j(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}jp.exports=Fj});var $p=c((Fte,Lp)=>{var Dj=/\\w*$/;function Bj(t){var e=new t.constructor(t.source,Dj.exec(t));return e.lastIndex=t.lastIndex,e}Lp.exports=Bj});var Up=c((Dte,Wp)=>{var Fp=St(),Dp=Fp?Fp.prototype:void 0,Bp=Dp?Dp.valueOf:void 0;function Wj(t){return Bp?Object(Bp.call(t)):{}}Wp.exports=Wj});var Sa=c((Bte,Hp)=>{var Uj=Ji();function Hj(t,e){var r=e?Uj(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}Hp.exports=Hj});var zp=c((Wte,Qp)=>{var Qj=Ji(),zj=Mp(),Gj=$p(),Kj=Up(),Jj=Sa(),Vj="[object Boolean]",Yj="[object Date]",Xj="[object Map]",Zj="[object Number]",eM="[object RegExp]",tM="[object Set]",rM="[object String]",nM="[object Symbol]",iM="[object ArrayBuffer]",sM="[object DataView]",oM="[object Float32Array]",aM="[object Float64Array]",uM="[object Int8Array]",cM="[object Int16Array]",lM="[object Int32Array]",hM="[object Uint8Array]",fM="[object Uint8ClampedArray]",dM="[object Uint16Array]",pM="[object Uint32Array]";function mM(t,e,r){var n=t.constructor;switch(e){case iM:return Qj(t);case Vj:case Yj:return new n(+t);case sM:return zj(t,r);case oM:case aM:case uM:case cM:case lM:case hM:case fM:case dM:case pM:return Jj(t,r);case Xj:return new n;case Zj:case rM:return new n(t);case eM:return Gj(t);case tM:return new n;case nM:return Kj(t)}}Qp.exports=mM});var Ta=c((Ute,Kp)=>{var gM=Se(),Gp=Object.create,yM=function(){function t(){}return function(e){if(!gM(e))return{};if(Gp)return Gp(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();Kp.exports=yM});var Ca=c((Hte,Jp)=>{var wM=Ta(),bM=An(),_M=jr();function xM(t){return typeof t.constructor=="function"&&!_M(t)?wM(bM(t)):{}}Jp.exports=xM});var Yp=c((Qte,Vp)=>{var vM=Gt(),EM=Re(),qM="[object Map]";function SM(t){return EM(t)&&vM(t)==qM}Vp.exports=SM});var tm=c((zte,em)=>{var TM=Yp(),CM=Pr(),Xp=Hi(),Zp=Xp&&Xp.isMap,OM=Zp?CM(Zp):TM;em.exports=OM});var nm=c((Gte,rm)=>{var IM=Gt(),AM=Re(),kM="[object Set]";function NM(t){return AM(t)&&IM(t)==kM}rm.exports=NM});var am=c((Kte,om)=>{var PM=nm(),RM=Pr(),im=Hi(),sm=im&&im.isSet,jM=sm?RM(sm):PM;om.exports=jM});var Oa=c((Jte,hm)=>{var MM=vn(),LM=Wi(),$M=qn(),FM=Wd(),DM=Jd(),BM=da(),WM=Qi(),UM=op(),HM=hp(),QM=ya(),zM=wa(),GM=Gt(),KM=kp(),JM=zp(),VM=Ca(),YM=V(),XM=Ht(),ZM=tm(),eL=Se(),tL=am(),rL=ft(),nL=dt(),iL=1,sL=2,oL=4,um="[object Arguments]",aL="[object Array]",uL="[object Boolean]",cL="[object Date]",lL="[object Error]",cm="[object Function]",hL="[object GeneratorFunction]",fL="[object Map]",dL="[object Number]",lm="[object Object]",pL="[object RegExp]",mL="[object Set]",gL="[object String]",yL="[object Symbol]",wL="[object WeakMap]",bL="[object ArrayBuffer]",_L="[object DataView]",xL="[object Float32Array]",vL="[object Float64Array]",EL="[object Int8Array]",qL="[object Int16Array]",SL="[object Int32Array]",TL="[object Uint8Array]",CL="[object Uint8ClampedArray]",OL="[object Uint16Array]",IL="[object Uint32Array]",U={};U[um]=U[aL]=U[bL]=U[_L]=U[uL]=U[cL]=U[xL]=U[vL]=U[EL]=U[qL]=U[SL]=U[fL]=U[dL]=U[lm]=U[pL]=U[mL]=U[gL]=U[yL]=U[TL]=U[CL]=U[OL]=U[IL]=!0;U[lL]=U[cm]=U[wL]=!1;function Vi(t,e,r,n,i,s){var o,a=e&iL,u=e&sL,l=e&oL;if(r&&(o=i?r(t,n,i,s):r(t)),o!==void 0)return o;if(!eL(t))return t;var h=YM(t);if(h){if(o=KM(t),!a)return WM(t,o)}else{var f=GM(t),d=f==cm||f==hL;if(XM(t))return BM(t,a);if(f==lm||f==um||d&&!i){if(o=u||d?{}:VM(t),!a)return u?HM(t,DM(o,t)):UM(t,FM(o,t))}else{if(!U[f])return i?t:{};o=JM(t,f,a)}}s||(s=new MM);var p=s.get(t);if(p)return p;s.set(t,o),tL(t)?t.forEach(function(_){o.add(Vi(_,e,r,_,t,s))}):ZM(t)&&t.forEach(function(_,q){o.set(q,Vi(_,e,r,q,t,s))});var m=l?u?zM:QM:u?nL:rL,y=h?void 0:m(t);return LM(y||t,function(_,q){y&&(q=_,_=t[q]),$M(o,q,Vi(_,e,r,q,t,s))}),o}hm.exports=Vi});var dm=c((Vte,fm)=>{var AL=Oa(),kL=1,NL=4;function PL(t){return AL(t,kL|NL)}fm.exports=PL});var Xe=c((Yte,pm)=>{function RL(t){return t}pm.exports=RL});var Ia=c((Xte,mm)=>{function jL(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}mm.exports=jL});var wm=c((Zte,ym)=>{var ML=Ia(),gm=Math.max;function LL(t,e,r){return e=gm(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=gm(n.length-e,0),o=Array(s);++i<s;)o[i]=n[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=n[i];return a[e]=r(o),ML(t,this,a)}}ym.exports=LL});var Aa=c((ere,bm)=>{function $L(t){return function(){return t}}bm.exports=$L});var vm=c((tre,xm)=>{var FL=Aa(),_m=ua(),DL=Xe(),BL=_m?function(t,e){return _m(t,"toString",{configurable:!0,enumerable:!1,value:FL(e),writable:!0})}:DL;xm.exports=BL});var qm=c((rre,Em)=>{var WL=800,UL=16,HL=Date.now;function QL(t){var e=0,r=0;return function(){var n=HL(),i=UL-(n-r);if(r=n,i>0){if(++e>=WL)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}Em.exports=QL});var Tm=c((nre,Sm)=>{var zL=vm(),GL=qm(),KL=GL(zL);Sm.exports=KL});var $r=c((ire,Cm)=>{var JL=Xe(),VL=wm(),YL=Tm();function XL(t,e){return YL(VL(t,e,JL),t+"")}Cm.exports=XL});var Kt=c((sre,Om)=>{var ZL=qt(),e$=He(),t$=Tn(),r$=Se();function n$(t,e,r){if(!r$(r))return!1;var n=typeof e;return(n=="number"?e$(r)&&t$(e,r.length):n=="string"&&e in r)?ZL(r[e],t):!1}Om.exports=n$});var ka=c((ore,Am)=>{var i$=$r(),s$=qt(),o$=Kt(),a$=dt(),Im=Object.prototype,u$=Im.hasOwnProperty,c$=i$(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&o$(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],o=a$(s),a=-1,u=o.length;++a<u;){var l=o[a],h=t[l];(h===void 0||s$(h,Im[l])&&!u$.call(t,l))&&(t[l]=s[l])}return t});Am.exports=c$});var Jt=c((are,km)=>{function l$(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}km.exports=l$});var Vt=c((ure,Nm)=>{var h$=lt(),f$=Re(),d$="[object Symbol]";function p$(t){return typeof t=="symbol"||f$(t)&&h$(t)==d$}Nm.exports=p$});var $m=c((cre,Lm)=>{var Pm=St(),m$=Jt(),g$=V(),y$=Vt(),w$=1/0,Rm=Pm?Pm.prototype:void 0,jm=Rm?Rm.toString:void 0;function Mm(t){if(typeof t=="string")return t;if(g$(t))return m$(t,Mm)+"";if(y$(t))return jm?jm.call(t):"";var e=t+"";return e=="0"&&1/t==-w$?"-0":e}Lm.exports=Mm});var kn=c((lre,Fm)=>{var b$=$m();function _$(t){return t==null?"":b$(t)}Fm.exports=_$});var Na=c((hre,Dm)=>{var x$=kn(),v$=0;function E$(t){var e=++v$;return x$(t)+e}Dm.exports=E$});var Fr=c((fre,Pa)=>{var Yi=class extends Error{constructor(e){super(e),this.name="KnexTimeoutError"}};function q$(t,e){return new Promise(function(r,n){let i=setTimeout(function(){n(new Yi("operation timed out"))},e);function s(a){clearTimeout(i),r(a)}function o(a){clearTimeout(i),n(a)}t.then(s,o)})}Pa.exports.KnexTimeoutError=Yi;Pa.exports.timeout=q$});var Wm=c((dre,Bm)=>{function S$(t){t.client.emit("start",t.builder),t.builder.emit("start",t.builder);let e=t.builder.toSQL();return t.builder._debug&&t.client.logger.debug(e),Array.isArray(e)?t.queryArray(e):t.query(e)}function T$(t,e){try{let r=t.builder.toSQL();if(Array.isArray(r)&&e.hasHandler)throw new Error("The stream may only be used with a single query statement.");return t.client.stream(t.connection,r,e.stream,e.options)}catch(r){throw e.stream.emit("error",r),r}}Bm.exports={ensureConnectionCallback:S$,ensureConnectionStreamCallback:T$}});var Qm=c((pre,Hm)=>{var{KnexTimeoutError:Um}=Fr(),{timeout:C$}=Fr(),{ensureConnectionCallback:O$,ensureConnectionStreamCallback:I$}=Wm(),Ra,Nn=class{constructor(e,r){this.client=e,this.builder=r,this.queries=[],this.connection=void 0}async run(){let e=this;try{let r=await this.ensureConnection(O$);return e.builder.emit("end"),r}catch(r){throw e.builder._events&&e.builder._events.error&&e.builder.emit("error",r),r}}stream(e,r){let n=typeof e=="function"&&arguments.length===1,i=n?{}:e,s=n?e:r,o=typeof s=="function";Ra=Ra||require("stream").Transform;let a=this.builder.queryContext(),u=new Ra({objectMode:!0,transform:(h,f,d)=>{d(null,this.client.postProcessResponse(h,a))}});u.on("close",()=>{this.client.releaseConnection(this.connection)});let l=this.ensureConnection(I$,{options:i,hasHandler:o,stream:u}).catch(h=>{this.connection||u.emit("error",h)});return o?(s(u),l):u}pipe(e,r){return this.stream(r).pipe(e)}async query(e){let{__knexUid:r,__knexTxId:n}=this.connection;this.builder.emit("query",Object.assign({__knexUid:r,__knexTxId:n},e));let i=this,s=this.builder.queryContext();e!==null&&typeof e=="object"&&(e.queryContext=s);let o=this.client.query(this.connection,e);return e.timeout&&(o=C$(o,e.timeout)),o.then(a=>this.client.processResponse(a,i)).then(a=>{let u=this.client.postProcessResponse(a,s);return this.builder.emit("query-response",u,Object.assign({__knexUid:r,__knexTxId:n},e),this.builder),this.client.emit("query-response",u,Object.assign({__knexUid:r,__knexTxId:n},e),this.builder),u}).catch(a=>{if(!(a instanceof Um))return Promise.reject(a);let{timeout:u,sql:l,bindings:h}=e,f;return e.cancelOnTimeout?f=this.client.cancelQuery(this.connection):(this.connection.__knex__disposed=a,f=Promise.resolve()),f.catch(d=>{throw this.connection.__knex__disposed=a,Object.assign(d,{message:`After query timeout of ${u}ms exceeded, cancelling of query failed.`,sql:l,bindings:h,timeout:u})}).then(()=>{throw Object.assign(a,{message:`Defined query timeout of ${u}ms exceeded when running query.`,sql:l,bindings:h,timeout:u})})}).catch(a=>{throw this.builder.emit("query-error",a,Object.assign({__knexUid:r,__knexTxId:n,queryContext:s},e)),a})}async queryArray(e){if(e.length===1){let n=e[0];if(!n.statementsProducer)return this.query(n);let i=await n.statementsProducer(void 0,this.connection),s=i.sql.map(l=>({sql:l,bindings:n.bindings})),o=i.pre.map(l=>({sql:l,bindings:n.bindings})),a=i.post.map(l=>({sql:l,bindings:n.bindings})),u=[];await this.queryArray(o);try{await this.client.transaction(async l=>{let h=new Nn(l.client,this.builder);if(h.connection=this.connection,u=await h.queryArray(s),i.check&&(await l.raw(i.check)).length>0)throw new Error("FOREIGN KEY constraint failed")},{connection:this.connection})}finally{await this.queryArray(a)}return u}let r=[];for(let n of e)r.push(await this.queryArray([n]));return r}async ensureConnection(e,r){if(this.builder._connection&&(this.connection=this.builder._connection),this.connection)return e(this,r);let n;try{n=await this.client.acquireConnection()}catch(i){if(!(i instanceof Um))return Promise.reject(i);throw this.builder&&(i.sql=this.builder.sql,i.bindings=this.builder.bindings),i}try{return this.connection=n,await e(this,r)}finally{await this.client.releaseConnection(n)}}};Hm.exports=Nn});var Gm=c((mre,zm)=>{var Dr=1e3,Br=Dr*60,Wr=Br*60,Yt=Wr*24,A$=Yt*7,k$=Yt*365.25;zm.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return N$(t);if(r==="number"&&isFinite(t))return e.long?R$(t):P$(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function N$(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*k$;case"weeks":case"week":case"w":return r*A$;case"days":case"day":case"d":return r*Yt;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Wr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Br;case"seconds":case"second":case"secs":case"sec":case"s":return r*Dr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function P$(t){var e=Math.abs(t);return e>=Yt?Math.round(t/Yt)+"d":e>=Wr?Math.round(t/Wr)+"h":e>=Br?Math.round(t/Br)+"m":e>=Dr?Math.round(t/Dr)+"s":t+"ms"}function R$(t){var e=Math.abs(t);return e>=Yt?Xi(t,e,Yt,"day"):e>=Wr?Xi(t,e,Wr,"hour"):e>=Br?Xi(t,e,Br,"minute"):e>=Dr?Xi(t,e,Dr,"second"):t+" ms"}function Xi(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var Jm=c((gre,Km)=>{function j$(t){r.debug=r,r.default=r,r.coerce=u,r.disable=s,r.enable=i,r.enabled=o,r.humanize=Gm(),r.destroy=l,Object.keys(t).forEach(h=>{r[h]=t[h]}),r.names=[],r.skips=[],r.formatters={};function e(h){let f=0;for(let d=0;d<h.length;d++)f=(f<<5)-f+h.charCodeAt(d),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(h){let f,d=null,p,m;function y(..._){if(!y.enabled)return;let q=y,A=Number(new Date),j=A-(f||A);q.diff=j,q.prev=f,q.curr=A,f=A,_[0]=r.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let L=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(pe,ne)=>{if(pe==="%%")return"%";L++;let z=r.formatters[ne];if(typeof z=="function"){let b=_[L];pe=z.call(q,b),_.splice(L,1),L--}return pe}),r.formatArgs.call(q,_),(q.log||r.log).apply(q,_)}return y.namespace=h,y.useColors=r.useColors(),y.color=r.selectColor(h),y.extend=n,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(h)),m),set:_=>{d=_}}),typeof r.init=="function"&&r.init(y),y}function n(h,f){let d=r(this.namespace+(typeof f=="undefined"?":":f)+h);return d.log=this.log,d}function i(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let f,d=(typeof h=="string"?h:"").split(/[\\s,]+/),p=d.length;for(f=0;f<p;f++)!d[f]||(h=d[f].replace(/\\*/g,".*?"),h[0]==="-"?r.skips.push(new RegExp("^"+h.slice(1)+"$")):r.names.push(new RegExp("^"+h+"$")))}function s(){let h=[...r.names.map(a),...r.skips.map(a).map(f=>"-"+f)].join(",");return r.enable(""),h}function o(h){if(h[h.length-1]==="*")return!0;let f,d;for(f=0,d=r.skips.length;f<d;f++)if(r.skips[f].test(h))return!1;for(f=0,d=r.names.length;f<d;f++)if(r.names[f].test(h))return!0;return!1}function a(h){return h.toString().substring(2,h.toString().length-2).replace(/\\.\\*\\?$/,"*")}function u(h){return h instanceof Error?h.stack||h.message:h}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}Km.exports=j$});var G=c((Te,Zi)=>{Te.formatArgs=L$;Te.save=$$;Te.load=F$;Te.useColors=M$;Te.storage=D$();Te.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Te.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function M$(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}function L$(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Zi.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}Te.log=console.debug||console.log||(()=>{});function $$(t){try{t?Te.storage.setItem("debug",t):Te.storage.removeItem("debug")}catch(e){}}function F$(){let t;try{t=Te.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function D$(){try{return localStorage}catch(t){}}Zi.exports=Jm()(Te);var{formatters:B$}=Zi.exports;B$.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var Ym=c((yre,Vm)=>{var W$="__lodash_hash_undefined__";function U$(t){return this.__data__.set(t,W$),this}Vm.exports=U$});var Zm=c((wre,Xm)=>{function H$(t){return this.__data__.has(t)}Xm.exports=H$});var ja=c((bre,eg)=>{var Q$=Bi(),z$=Ym(),G$=Zm();function es(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Q$;++e<r;)this.add(t[e])}es.prototype.add=es.prototype.push=z$;es.prototype.has=G$;eg.exports=es});var rg=c((_re,tg)=>{function K$(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}tg.exports=K$});var ig=c((xre,ng)=>{function J$(t){return t!==t}ng.exports=J$});var og=c((vre,sg)=>{function V$(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}sg.exports=V$});var ts=c((Ere,ag)=>{var Y$=rg(),X$=ig(),Z$=og();function eF(t,e,r){return e===e?Z$(t,e,r):Y$(t,X$,r)}ag.exports=eF});var cg=c((qre,ug)=>{var tF=ts();function rF(t,e){var r=t==null?0:t.length;return!!r&&tF(t,e,0)>-1}ug.exports=rF});var hg=c((Sre,lg)=>{function nF(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}lg.exports=nF});var Ma=c((Tre,fg)=>{function iF(t,e){return t.has(e)}fg.exports=iF});var pg=c((Cre,dg)=>{var sF=ja(),oF=cg(),aF=hg(),uF=Jt(),cF=Pr(),lF=Ma(),hF=200;function fF(t,e,r,n){var i=-1,s=oF,o=!0,a=t.length,u=[],l=e.length;if(!a)return u;r&&(e=uF(e,cF(r))),n?(s=aF,o=!1):e.length>=hF&&(s=lF,o=!1,e=new sF(e));e:for(;++i<a;){var h=t[i],f=r==null?h:r(h);if(h=n||h!==0?h:0,o&&f===f){for(var d=l;d--;)if(e[d]===f)continue e;u.push(h)}else s(e,f,n)||u.push(h)}return u}dg.exports=fF});var wg=c((Ore,yg)=>{var mg=St(),dF=kr(),pF=V(),gg=mg?mg.isConcatSpreadable:void 0;function mF(t){return pF(t)||dF(t)||!!(gg&&t&&t[gg])}yg.exports=mF});var rs=c((Ire,_g)=>{var gF=Ki(),yF=wg();function bg(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=yF),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?bg(a,e-1,r,n,i):gF(i,a):n||(i[i.length]=a)}return i}_g.exports=bg});var La=c((Are,xg)=>{var wF=He(),bF=Re();function _F(t){return bF(t)&&wF(t)}xg.exports=_F});var $a=c((kre,vg)=>{function xF(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}vg.exports=xF});var qg=c((Nre,Eg)=>{var vF=pg(),EF=rs(),qF=$r(),Fa=La(),SF=$a(),TF=qF(function(t,e){var r=SF(e);return Fa(r)&&(r=void 0),Fa(t)?vF(t,EF(e,1,Fa,!0),void 0,r):[]});Eg.exports=TF});var ns=c((Pre,Sg)=>{var CF=V(),OF=Vt(),IF=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,AF=/^\\w*$/;function kF(t,e){if(CF(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||OF(t)?!0:AF.test(t)||!IF.test(t)||e!=null&&t in Object(e)}Sg.exports=kF});var Og=c((Rre,Cg)=>{var Tg=Bi(),NF="Expected a function";function Da(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(NF);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Da.Cache||Tg),r}Da.Cache=Tg;Cg.exports=Da});var Ag=c((jre,Ig)=>{var PF=Og(),RF=500;function jF(t){var e=PF(t,function(n){return r.size===RF&&r.clear(),n}),r=e.cache;return e}Ig.exports=jF});var Ng=c((Mre,kg)=>{var MF=Ag(),LF=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,$F=/\\\\(\\\\)?/g,FF=MF(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(LF,function(r,n,i,s){e.push(i?s.replace($F,"$1"):n||r)}),e});kg.exports=FF});var Pn=c((Lre,Pg)=>{var DF=V(),BF=ns(),WF=Ng(),UF=kn();function HF(t,e){return DF(t)?t:BF(t,e)?[t]:WF(UF(t))}Pg.exports=HF});var Ur=c(($re,Rg)=>{var QF=Vt(),zF=1/0;function GF(t){if(typeof t=="string"||QF(t))return t;var e=t+"";return e=="0"&&1/t==-zF?"-0":e}Rg.exports=GF});var Rn=c((Fre,jg)=>{var KF=Pn(),JF=Ur();function VF(t,e){e=KF(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[JF(e[r++])];return r&&r==n?t:void 0}jg.exports=VF});var Ba=c((Dre,Mg)=>{var YF=Rn();function XF(t,e,r){var n=t==null?void 0:YF(t,e);return n===void 0?r:n}Mg.exports=XF});var Xt=c((Bre,Lg)=>{var ZF=fa(),e1=Gt(),t1=kr(),r1=V(),n1=He(),i1=Ht(),s1=jr(),o1=Qt(),a1="[object Map]",u1="[object Set]",c1=Object.prototype,l1=c1.hasOwnProperty;function h1(t){if(t==null)return!0;if(n1(t)&&(r1(t)||typeof t=="string"||typeof t.splice=="function"||i1(t)||o1(t)||t1(t)))return!t.length;var e=e1(t);if(e==a1||e==u1)return!t.size;if(s1(t))return!ZF(t).length;for(var r in t)if(l1.call(t,r))return!1;return!0}Lg.exports=h1});var Fg=c((Wre,$g)=>{var f1=Vt();function d1(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],o=e(s);if(o!=null&&(a===void 0?o===o&&!f1(o):r(o,a)))var a=o,u=s}return u}$g.exports=d1});var Bg=c((Ure,Dg)=>{function p1(t,e){return t>e}Dg.exports=p1});var Ug=c((Hre,Wg)=>{var m1=Fg(),g1=Bg(),y1=Xe();function w1(t){return t&&t.length?m1(t,y1,g1):void 0}Wg.exports=w1});var is=c((Qre,Hg)=>{function b1(t,e){return e?`${e}.${t}`:t}function _1(t,e,r){return r?t(e).withSchema(r):t(e)}function Wa(t){return t+"_lock"}function x1(t,e){return e?e+"."+Wa(t):Wa(t)}Hg.exports={getLockTableName:Wa,getLockTableNameWithSchema:x1,getTable:_1,getTableName:b1}});var Ua=c((zre,Qg)=>{var{getTable:v1,getLockTableName:E1,getLockTableNameWithSchema:q1,getTableName:S1}=is();function T1(t,e,r){let n=E1(t);return jn(r,e).hasTable(t).then(i=>!i&&C1(t,e,r)).then(()=>jn(r,e).hasTable(n)).then(i=>!i&&O1(n,e,r)).then(()=>v1(r,n,e).select("*")).then(i=>!i.length&&I1(t,e,r))}function C1(t,e,r){return jn(r,e).createTable(S1(t),function(n){n.increments(),n.string("name"),n.integer("batch"),n.timestamp("migration_time")})}function O1(t,e,r){return jn(r,e).createTable(t,function(n){n.increments("index").primary(),n.integer("is_locked")})}function I1(t,e,r){let n=q1(t,e);return r.select("*").from(n).then(i=>i.length?null:r.from(n).insert({is_locked:0}))}function jn(t,e){return e?t.schema.withSchema(e):t.schema}Qg.exports={ensureTable:T1,getSchemaBuilder:jn}});var Jg=c((Gre,Kg)=>{var{getTableName:A1}=is(),{ensureTable:k1}=Ua();function zg(t,e){return t.getMigrations(e)}async function Gg(t,e,r){return await k1(t,e,r),await r.from(A1(t,e)).orderBy("id").select("name")}function N1(t,e){return Promise.all([zg(t.migrationSource,t.loadExtensions),Gg(t.tableName,t.schemaName,e)])}Kg.exports={listAll:zg,listAllAndCompleted:N1,listCompleted:Gg}});var Mn=c((Kre,Vg)=>{var P1=$r(),R1=Kt();function j1(t){return P1(function(e,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&R1(r[0],r[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++n<i;){var a=r[n];a&&t(e,a,n,s)}return e})}Vg.exports=j1});var Xg=c((Jre,Yg)=>{var M1=ht(),L1=Mn(),$1=dt(),F1=L1(function(t,e,r,n){M1(e,$1(e),t,n)});Yg.exports=F1});var Zt=c((Vre,ey)=>{var D1=lt(),B1=An(),W1=Re(),U1="[object Object]",H1=Function.prototype,Q1=Object.prototype,Zg=H1.toString,z1=Q1.hasOwnProperty,G1=Zg.call(Object);function K1(t){if(!W1(t)||D1(t)!=U1)return!1;var e=B1(t);if(e===null)return!0;var r=z1.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Zg.call(r)==G1}ey.exports=K1});var Ha=c((Yre,ty)=>{var J1=lt(),V1=Re(),Y1=Zt(),X1="[object DOMException]",Z1="[object Error]";function eD(t){if(!V1(t))return!1;var e=J1(t);return e==Z1||e==X1||typeof t.message=="string"&&typeof t.name=="string"&&!Y1(t)}ty.exports=eD});var ny=c((Xre,ry)=>{var tD=Ia(),rD=$r(),nD=Ha(),iD=rD(function(t,e){try{return tD(t,void 0,e)}catch(r){return nD(r)?r:new Error(r)}});ry.exports=iD});var Qa=c((Zre,iy)=>{var sD=Jt();function oD(t,e){return sD(e,function(r){return t[r]})}iy.exports=oD});var ay=c((ene,oy)=>{var aD=qt(),sy=Object.prototype,uD=sy.hasOwnProperty;function cD(t,e,r,n){return t===void 0||aD(t,sy[r])&&!uD.call(n,r)?e:t}oy.exports=cD});var cy=c((tne,uy)=>{var lD={"\\\\":"\\\\","\'":"\'","\\n":"n","\\r":"r","\\u2028":"u2028","\\u2029":"u2029"};function hD(t){return"\\\\"+lD[t]}uy.exports=hD});var za=c((rne,ly)=>{var fD=/<%=([\\s\\S]+?)%>/g;ly.exports=fD});var fy=c((nne,hy)=>{function dD(t){return function(e){return t==null?void 0:t[e]}}hy.exports=dD});var py=c((ine,dy)=>{var pD=fy(),mD={"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#39;"},gD=pD(mD);dy.exports=gD});var yy=c((sne,gy)=>{var yD=py(),wD=kn(),my=/[&<>"\']/g,bD=RegExp(my.source);function _D(t){return t=wD(t),t&&bD.test(t)?t.replace(my,yD):t}gy.exports=_D});var by=c((one,wy)=>{var xD=/<%-([\\s\\S]+?)%>/g;wy.exports=xD});var xy=c((ane,_y)=>{var vD=/<%([\\s\\S]+?)%>/g;_y.exports=vD});var Ey=c((une,vy)=>{var ED=yy(),qD=by(),SD=xy(),TD=za(),CD={escape:qD,evaluate:SD,interpolate:TD,variable:"",imports:{_:{escape:ED}}};vy.exports=CD});var Iy=c((cne,Oy)=>{var qy=Xg(),OD=ny(),ID=Qa(),Sy=ay(),AD=cy(),kD=Ha(),ND=Kt(),PD=ft(),RD=za(),Ty=Ey(),jD=kn(),MD="Invalid `variable` option passed into `_.template`",LD=/\\b__p \\+= \'\';/g,$D=/\\b(__p \\+=) \'\' \\+/g,FD=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n\'\';/g,DD=/[()=,{}\\[\\]\\/\\s]/,BD=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,ss=/($^)/,WD=/[\'\\n\\r\\u2028\\u2029\\\\]/g,UD=Object.prototype,Cy=UD.hasOwnProperty;function HD(t,e,r){var n=Ty.imports._.templateSettings||Ty;r&&ND(t,e,r)&&(e=void 0),t=jD(t),e=qy({},e,n,Sy);var i=qy({},e.imports,n.imports,Sy),s=PD(i),o=ID(i,s),a,u,l=0,h=e.interpolate||ss,f="__p += \'",d=RegExp((e.escape||ss).source+"|"+h.source+"|"+(h===RD?BD:ss).source+"|"+(e.evaluate||ss).source+"|$","g"),p=Cy.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\\s/g," ")+`\n`:"";t.replace(d,function(_,q,A,j,L,W){return A||(A=j),f+=t.slice(l,W).replace(WD,AD),q&&(a=!0,f+=`\' +\n__e(`+q+`) +\n\'`),L&&(u=!0,f+=`\';\n`+L+`;\n__p += \'`),A&&(f+=`\' +\n((__t = (`+A+`)) == null ? \'\' : __t) +\n\'`),l=W+_.length,_}),f+=`\';\n`;var m=Cy.call(e,"variable")&&e.variable;if(!m)f=`with (obj) {\n`+f+`\n}\n`;else if(DD.test(m))throw new Error(MD);f=(u?f.replace(LD,""):f).replace($D,"$1").replace(FD,"$1;"),f="function("+(m||"obj")+`) {\n`+(m?"":`obj || (obj = {});\n`)+"var __t, __p = \'\'"+(a?", __e = _.escape":"")+(u?`, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\n`:`;\n`)+f+`return __p\n}`;var y=OD(function(){return Function(s,p+"return "+f).apply(void 0,o)});if(y.source=f,kD(y))throw y;return y}Oy.exports=HD});var os=c((lne,Ay)=>{var QD=rs();function zD(t){var e=t==null?0:t.length;return e?QD(t,1):[]}Ay.exports=zD});var Qr=c((hne,Ry)=>{var er=require("fs"),GD=os(),KD=require("os"),ky=require("path"),{promisify:Hr}=require("util"),Ga=Hr(er.stat),JD=Hr(er.readFile),VD=Hr(er.writeFile),Ny=Hr(er.readdir),YD=Hr(er.mkdir);function XD(t){try{return er.accessSync(t),!0}catch(e){return!1}}function ZD(){return Hr(er.mkdtemp)(`${KD.tmpdir()}${ky.sep}`)}function eB(t){return Ga(t).catch(()=>YD(t,{recursive:!0}))}async function Py(t,e=!1){let r=await Ny(t);return GD(await Promise.all(r.sort().map(async n=>{let i=ky.resolve(t,n),s=await Ga(i);return s&&s.isDirectory()?e?await Py(i,!0):[]:[i]})))}Ry.exports={existsSync:XD,stat:Ga,readdir:Ny,readFile:JD,writeFile:VD,createTemp:ZD,ensureDirectoryExists:eB,getFilepathsInFolder:Py}});var Ka=c((fne,Ly)=>{var tB=Iy(),{readFile:rB,writeFile:nB}=Qr(),jy=(t,e)=>tB(t,$({interpolate:/<%=([\\s\\S]+?)%>/g},e)),My=async(t,e)=>{let r=await rB(t);return jy(r.toString(),e)},iB=async(t,e,r,n)=>nB(t,(await My(e,r))(n));Ly.exports={jsSourceTemplate:jy,jsFileTemplate:My,writeJsFileUsingTemplate:iB}});var Ja=c((pne,$y)=>{function sB(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}$y.exports=sB});var Va=c((mne,Fy)=>{var oB=ja(),aB=Ja(),uB=Ma(),cB=1,lB=2;function hB(t,e,r,n,i,s){var o=r&cB,a=t.length,u=e.length;if(a!=u&&!(o&&u>a))return!1;var l=s.get(t),h=s.get(e);if(l&&h)return l==e&&h==t;var f=-1,d=!0,p=r&lB?new oB:void 0;for(s.set(t,e),s.set(e,t);++f<a;){var m=t[f],y=e[f];if(n)var _=o?n(y,m,f,e,t,s):n(m,y,f,t,e,s);if(_!==void 0){if(_)continue;d=!1;break}if(p){if(!aB(e,function(q,A){if(!uB(p,A)&&(m===q||i(m,q,r,n,s)))return p.push(A)})){d=!1;break}}else if(!(m===y||i(m,y,r,n,s))){d=!1;break}}return s.delete(t),s.delete(e),d}Fy.exports=hB});var Ya=c((gne,Dy)=>{function fB(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}Dy.exports=fB});var Xa=c((yne,By)=>{function dB(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}By.exports=dB});var zy=c((wne,Qy)=>{var Wy=St(),Uy=qa(),pB=qt(),mB=Va(),gB=Ya(),yB=Xa(),wB=1,bB=2,_B="[object Boolean]",xB="[object Date]",vB="[object Error]",EB="[object Map]",qB="[object Number]",SB="[object RegExp]",TB="[object Set]",CB="[object String]",OB="[object Symbol]",IB="[object ArrayBuffer]",AB="[object DataView]",Hy=Wy?Wy.prototype:void 0,Za=Hy?Hy.valueOf:void 0;function kB(t,e,r,n,i,s,o){switch(r){case AB:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case IB:return!(t.byteLength!=e.byteLength||!s(new Uy(t),new Uy(e)));case _B:case xB:case qB:return pB(+t,+e);case vB:return t.name==e.name&&t.message==e.message;case SB:case CB:return t==e+"";case EB:var a=gB;case TB:var u=n&wB;if(a||(a=yB),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;n|=bB,o.set(t,e);var h=mB(a(t),a(e),n,i,s,o);return o.delete(t),h;case OB:if(Za)return Za.call(t)==Za.call(e)}return!1}Qy.exports=kB});var Jy=c((bne,Ky)=>{var Gy=ya(),NB=1,PB=Object.prototype,RB=PB.hasOwnProperty;function jB(t,e,r,n,i,s){var o=r&NB,a=Gy(t),u=a.length,l=Gy(e),h=l.length;if(u!=h&&!o)return!1;for(var f=u;f--;){var d=a[f];if(!(o?d in e:RB.call(e,d)))return!1}var p=s.get(t),m=s.get(e);if(p&&m)return p==e&&m==t;var y=!0;s.set(t,e),s.set(e,t);for(var _=o;++f<u;){d=a[f];var q=t[d],A=e[d];if(n)var j=o?n(A,q,d,e,t,s):n(q,A,d,t,e,s);if(!(j===void 0?q===A||i(q,A,r,n,s):j)){y=!1;break}_||(_=d=="constructor")}if(y&&!_){var L=t.constructor,W=e.constructor;L!=W&&"constructor"in t&&"constructor"in e&&!(typeof L=="function"&&L instanceof L&&typeof W=="function"&&W instanceof W)&&(y=!1)}return s.delete(t),s.delete(e),y}Ky.exports=jB});var nw=c((_ne,rw)=>{var eu=vn(),MB=Va(),LB=zy(),$B=Jy(),Vy=Gt(),Yy=V(),Xy=Ht(),FB=Qt(),DB=1,Zy="[object Arguments]",ew="[object Array]",as="[object Object]",BB=Object.prototype,tw=BB.hasOwnProperty;function WB(t,e,r,n,i,s){var o=Yy(t),a=Yy(e),u=o?ew:Vy(t),l=a?ew:Vy(e);u=u==Zy?as:u,l=l==Zy?as:l;var h=u==as,f=l==as,d=u==l;if(d&&Xy(t)){if(!Xy(e))return!1;o=!0,h=!1}if(d&&!h)return s||(s=new eu),o||FB(t)?MB(t,e,r,n,i,s):LB(t,e,u,r,n,i,s);if(!(r&DB)){var p=h&&tw.call(t,"__wrapped__"),m=f&&tw.call(e,"__wrapped__");if(p||m){var y=p?t.value():t,_=m?e.value():e;return s||(s=new eu),i(y,_,r,n,s)}}return d?(s||(s=new eu),$B(t,e,r,n,i,s)):!1}rw.exports=WB});var tu=c((xne,ow)=>{var UB=nw(),iw=Re();function sw(t,e,r,n,i){return t===e?!0:t==null||e==null||!iw(t)&&!iw(e)?t!==t&&e!==e:UB(t,e,r,n,sw,i)}ow.exports=sw});var uw=c((vne,aw)=>{var HB=vn(),QB=tu(),zB=1,GB=2;function KB(t,e,r,n){var i=r.length,s=i,o=!n;if(t==null)return!s;for(t=Object(t);i--;){var a=r[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=r[i];var u=a[0],l=t[u],h=a[1];if(o&&a[2]){if(l===void 0&&!(u in t))return!1}else{var f=new HB;if(n)var d=n(l,h,u,t,e,f);if(!(d===void 0?QB(h,l,zB|GB,n,f):d))return!1}}return!0}aw.exports=KB});var ru=c((Ene,cw)=>{var JB=Se();function VB(t){return t===t&&!JB(t)}cw.exports=VB});var hw=c((qne,lw)=>{var YB=ru(),XB=ft();function ZB(t){for(var e=XB(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,YB(i)]}return e}lw.exports=ZB});var nu=c((Sne,fw)=>{function eW(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}fw.exports=eW});var pw=c((Tne,dw)=>{var tW=uw(),rW=hw(),nW=nu();function iW(t){var e=rW(t);return e.length==1&&e[0][2]?nW(e[0][0],e[0][1]):function(r){return r===t||tW(r,t,e)}}dw.exports=iW});var gw=c((Cne,mw)=>{function sW(t,e){return t!=null&&e in Object(t)}mw.exports=sW});var iu=c((One,yw)=>{var oW=Pn(),aW=kr(),uW=V(),cW=Tn(),lW=Ui(),hW=Ur();function fW(t,e,r){e=oW(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var o=hW(e[n]);if(!(s=t!=null&&r(t,o)))break;t=t[o]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&lW(i)&&cW(o,i)&&(uW(t)||aW(t)))}yw.exports=fW});var bw=c((Ine,ww)=>{var dW=gw(),pW=iu();function mW(t,e){return t!=null&&pW(t,e,dW)}ww.exports=mW});var xw=c((Ane,_w)=>{var gW=tu(),yW=Ba(),wW=bw(),bW=ns(),_W=ru(),xW=nu(),vW=Ur(),EW=1,qW=2;function SW(t,e){return bW(t)&&_W(e)?xW(vW(t),e):function(r){var n=yW(r,t);return n===void 0&&n===e?wW(r,t):gW(e,n,EW|qW)}}_w.exports=SW});var Ew=c((kne,vw)=>{function TW(t){return function(e){return e==null?void 0:e[t]}}vw.exports=TW});var Sw=c((Nne,qw)=>{var CW=Rn();function OW(t){return function(e){return CW(e,t)}}qw.exports=OW});var Cw=c((Pne,Tw)=>{var IW=Ew(),AW=Sw(),kW=ns(),NW=Ur();function PW(t){return kW(t)?IW(NW(t)):AW(t)}Tw.exports=PW});var Qe=c((Rne,Ow)=>{var RW=pw(),jW=xw(),MW=Xe(),LW=V(),$W=Cw();function FW(t){return typeof t=="function"?t:t==null?MW:typeof t=="object"?LW(t)?jW(t[0],t[1]):RW(t):$W(t)}Ow.exports=FW});var Aw=c((jne,Iw)=>{function DW(t){return function(e,r,n){for(var i=-1,s=Object(e),o=n(e),a=o.length;a--;){var u=o[t?a:++i];if(r(s[u],u,s)===!1)break}return e}}Iw.exports=DW});var su=c((Mne,kw)=>{var BW=Aw(),WW=BW();kw.exports=WW});var ou=c((Lne,Nw)=>{var UW=su(),HW=ft();function QW(t,e){return t&&UW(t,e,HW)}Nw.exports=QW});var Rw=c(($ne,Pw)=>{var zW=He();function GW(t,e){return function(r,n){if(r==null)return r;if(!zW(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Object(r);(e?s--:++s<i)&&n(o[s],s,o)!==!1;);return r}}Pw.exports=GW});var tr=c((Fne,jw)=>{var KW=ou(),JW=Rw(),VW=JW(KW);jw.exports=VW});var au=c((Dne,Mw)=>{var YW=tr(),XW=He();function ZW(t,e){var r=-1,n=XW(t)?Array(t.length):[];return YW(t,function(i,s,o){n[++r]=e(i,s,o)}),n}Mw.exports=ZW});var $w=c((Bne,Lw)=>{function eU(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}Lw.exports=eU});var Bw=c((Wne,Dw)=>{var Fw=Vt();function tU(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=Fw(t),o=e!==void 0,a=e===null,u=e===e,l=Fw(e);if(!a&&!l&&!s&&t>e||s&&o&&u&&!a&&!l||n&&o&&u||!r&&u||!i)return 1;if(!n&&!s&&!l&&t<e||l&&r&&i&&!n&&!s||a&&r&&i||!o&&i||!u)return-1}return 0}Dw.exports=tU});var Uw=c((Une,Ww)=>{var rU=Bw();function nU(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,a=r.length;++n<o;){var u=rU(i[n],s[n]);if(u){if(n>=a)return u;var l=r[n];return u*(l=="desc"?-1:1)}}return t.index-e.index}Ww.exports=nU});var Qw=c((Hne,Hw)=>{var uu=Jt(),iU=Rn(),sU=Qe(),oU=au(),aU=$w(),uU=Pr(),cU=Uw(),lU=Xe(),hU=V();function fU(t,e,r){e.length?e=uu(e,function(s){return hU(s)?function(o){return iU(o,s.length===1?s[0]:s)}:s}):e=[lU];var n=-1;e=uu(e,uU(sU));var i=oU(t,function(s,o,a){var u=uu(e,function(l){return l(s)});return{criteria:u,index:++n,value:s}});return aU(i,function(s,o){return cU(s,o,r)})}Hw.exports=fU});var Kw=c((Qne,Gw)=>{var dU=rs(),pU=Qw(),mU=$r(),zw=Kt(),gU=mU(function(t,e){if(t==null)return[];var r=e.length;return r>1&&zw(t,e[0],e[1])?e=[]:r>2&&zw(e[0],e[1],e[2])&&(e=[e[0]]),pU(t,dU(e,1),[])});Gw.exports=gU});var cu=c((zne,Vw)=>{"use strict";var Jw=require("path");function yU(t){let e=Jw.basename(t);return Jw.sep==="\\\\"&&(e=e.toLowerCase()),e==="node_modules"}Vw.exports=yU});var lu=c((Gne,Yw)=>{"use strict";Yw.exports=new Map});var eb=c((Kne,Zw)=>{"use strict";var cs=require("path"),{promisify:wU}=require("util"),bU=wU(require("fs").readFile),_U=cu(),hu=lu(),us=new Map;async function xU(t){if(_U(t))return"commonjs";try{return JSON.parse(await bU(cs.resolve(t,"package.json"))).type||"commonjs"}catch(r){}let e=cs.dirname(t);return e===t?"commonjs":Xw(e)}async function Xw(t){if(hu.has(t))return hu.get(t);if(us.has(t))return us.get(t);let e=xU(t);us.set(t,e);let r=await e;return hu.set(t,r),us.delete(t),r}function vU(t){return Xw(cs.resolve(cs.dirname(t)))}Zw.exports=vU});var nb=c((Jne,rb)=>{"use strict";var ls=require("path"),{readFileSync:EU}=require("fs"),qU=cu(),fu=lu();function SU(t){if(qU(t))return"commonjs";try{return JSON.parse(EU(ls.resolve(t,"package.json"))).type||"commonjs"}catch(r){}let e=ls.dirname(t);return e===t?"commonjs":tb(e)}function tb(t){if(fu.has(t))return fu.get(t);let e=SU(t);return fu.set(t,e),e}function TU(t){return tb(ls.resolve(ls.dirname(t)))}rb.exports=TU});var ib=c((Vne,du)=>{"use strict";var CU=eb(),OU=nb();du.exports=t=>CU(t);du.exports.sync=OU});var ob=c((Yne,sb)=>{var IU=ib();sb.exports=async function(e){return e.endsWith(".mjs")||!e.endsWith(".cjs")&&await IU(e)==="module"}});var pu=c((Xne,ab)=>{var AU=ob();ab.exports=async function(e){return await AU(e)?import(require("url").pathToFileURL(e)):require(e)}});var Ln=c((Zne,lb)=>{var ub=require("path"),cb=Object.freeze([".co",".coffee",".eg",".iced",".js",".cjs",".litcoffee",".ls",".ts"]),mu=class{constructor(e,r,n){this.sortDirsSeparately=r,Array.isArray(e)||(e=[e]),this.migrationsPaths=e,this.loadExtensions=n||cb}getFile(e){let r=ub.resolve(process.cwd(),e.directory),n=ub.join(r,e.file);return pu()(n)}};lb.exports={DEFAULT_LOAD_EXTENSIONS:cb,AbstractMigrationsLoader:mu}});var pb=c((eie,db)=>{var fb=require("path"),kU=Kw(),{readdir:NU}=Qr(),{AbstractMigrationsLoader:PU}=Ln(),gu=class extends PU{getMigrations(e){let r=this.migrationsPaths.map(n=>{let i=fb.resolve(process.cwd(),n);return NU(i).then(s=>({files:s,configDir:n,absoluteDir:i}))});return Promise.all(r).then(n=>{let i=n.reduce((s,o)=>(this.sortDirsSeparately&&(o.files=o.files.sort()),o.files.forEach(a=>s.push({file:a,directory:o.configDir})),s),[]);return this.sortDirsSeparately?hb(this,i,e||this.loadExtensions):hb(this,kU(i,"file"),e||this.loadExtensions)})}getMigrationName(e){return e.file}getMigration(e){return this.getFile(e)}};function hb(t,e,r){return e.filter(n=>{let i=t.getMigrationName(n),s=fb.extname(i);return r.includes(s)})}db.exports={FsMigrations:gu}});var xb=c(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});var RU=require("tty");function jU(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var yu=jU(RU),{env:Ct={},argv:gb=[],platform:MU=""}=typeof process=="undefined"?{}:process,LU="NO_COLOR"in Ct||gb.includes("--no-color"),$U="FORCE_COLOR"in Ct||gb.includes("--color"),FU=MU==="win32",yb=Ct.TERM==="dumb",DU=yu&&yu.isatty&&yu.isatty(1)&&Ct.TERM&&!yb,BU="CI"in Ct&&("GITHUB_ACTIONS"in Ct||"GITLAB_CI"in Ct||"CIRCLECI"in Ct),wb=!LU&&($U||FU&&!yb||DU||BU),bb=(t,e,r,n,i=e.substring(0,t)+n,s=e.substring(t+r.length),o=s.indexOf(r))=>i+(o<0?s:bb(o,s,r,n)),WU=(t,e,r,n,i)=>t<0?r+e+n:r+bb(t,e,n,i)+n,UU=(t,e,r=t,n=t.length+1)=>i=>i||!(i===""||i===void 0)?WU((""+i).indexOf(e,n),i,t,e,r):"",M=(t,e,r)=>UU(`\\x1B[${t}m`,`\\x1B[${e}m`,r),mb={reset:M(0,0),bold:M(1,22,"\\x1B[22m\\x1B[1m"),dim:M(2,22,"\\x1B[22m\\x1B[2m"),italic:M(3,23),underline:M(4,24),inverse:M(7,27),hidden:M(8,28),strikethrough:M(9,29),black:M(30,39),red:M(31,39),green:M(32,39),yellow:M(33,39),blue:M(34,39),magenta:M(35,39),cyan:M(36,39),white:M(37,39),gray:M(90,39),bgBlack:M(40,49),bgRed:M(41,49),bgGreen:M(42,49),bgYellow:M(43,49),bgBlue:M(44,49),bgMagenta:M(45,49),bgCyan:M(46,49),bgWhite:M(47,49),blackBright:M(90,39),redBright:M(91,39),greenBright:M(92,39),yellowBright:M(93,39),blueBright:M(94,39),magentaBright:M(95,39),cyanBright:M(96,39),whiteBright:M(97,39),bgBlackBright:M(100,49),bgRedBright:M(101,49),bgGreenBright:M(102,49),bgYellowBright:M(103,49),bgBlueBright:M(104,49),bgMagentaBright:M(105,49),bgCyanBright:M(106,49),bgWhiteBright:M(107,49)},_b=({useColor:t=wb}={})=>t?mb:Object.keys(mb).reduce((e,r)=>me($({},e),{[r]:String}),{}),{reset:HU,bold:QU,dim:zU,italic:GU,underline:KU,inverse:JU,hidden:VU,strikethrough:YU,black:XU,red:ZU,green:e3,yellow:t3,blue:r3,magenta:n3,cyan:i3,white:s3,gray:o3,bgBlack:a3,bgRed:u3,bgGreen:c3,bgYellow:l3,bgBlue:h3,bgMagenta:f3,bgCyan:d3,bgWhite:p3,blackBright:m3,redBright:g3,greenBright:y3,yellowBright:w3,blueBright:b3,magentaBright:_3,cyanBright:x3,whiteBright:v3,bgBlackBright:E3,bgRedBright:q3,bgGreenBright:S3,bgYellowBright:T3,bgBlueBright:C3,bgMagentaBright:O3,bgCyanBright:I3,bgWhiteBright:A3}=_b();N.bgBlack=a3;N.bgBlackBright=E3;N.bgBlue=h3;N.bgBlueBright=C3;N.bgCyan=d3;N.bgCyanBright=I3;N.bgGreen=c3;N.bgGreenBright=S3;N.bgMagenta=f3;N.bgMagentaBright=O3;N.bgRed=u3;N.bgRedBright=q3;N.bgWhite=p3;N.bgWhiteBright=A3;N.bgYellow=l3;N.bgYellowBright=T3;N.black=XU;N.blackBright=m3;N.blue=r3;N.blueBright=b3;N.bold=QU;N.createColors=_b;N.cyan=i3;N.cyanBright=x3;N.dim=zU;N.gray=o3;N.green=e3;N.greenBright=y3;N.hidden=VU;N.inverse=JU;N.isColorSupported=wb;N.italic=GU;N.magenta=n3;N.magentaBright=_3;N.red=ZU;N.redBright=g3;N.reset=HU;N.strikethrough=YU;N.underline=KU;N.white=s3;N.whiteBright=v3;N.yellow=t3;N.yellowBright=w3});var we=c((nie,vb)=>{function k3(t){return typeof t=="string"}function N3(t){return typeof t=="number"}function P3(t){return typeof t=="boolean"}function R3(t){return typeof t=="undefined"}function j3(t){return typeof t=="object"&&t!==null}function M3(t){return typeof t=="function"}vb.exports={isString:k3,isNumber:N3,isBoolean:P3,isUndefined:R3,isObject:j3,isFunction:M3}});var hs=c((iie,qb)=>{var wu=xb(),{inspect:L3}=require("util"),{isString:$3,isFunction:Eb}=we(),bu=class{constructor(e={}){let{log:{debug:r,warn:n,error:i,deprecate:s,inspectionDepth:o,enableColors:a}={}}=e;this._inspectionDepth=o||5,this._enableColors=F3(a),this._debug=r,this._warn=n,this._error=i,this._deprecate=s}_log(e,r,n){if(r!=null&&!Eb(r))throw new TypeError("Extensions to knex logger must be functions!");if(Eb(r)){r(e);return}$3(e)||(e=L3(e,{depth:this._inspectionDepth,colors:this._enableColors})),console.log(n?n(e):e)}debug(e){this._log(e,this._debug)}warn(e){this._log(e,this._warn,wu.yellow)}error(e){this._log(e,this._error,wu.red)}deprecate(e,r){let n=`${e} is deprecated, please use ${r}`;this._log(n,this._deprecate,wu.yellow)}};function F3(t){return t!=null?t:process&&process.stdout?process.stdout.isTTY:!1}qb.exports=bu});var _u=c((sie,Sb)=>{var{FsMigrations:D3}=pb(),B3=hs(),{DEFAULT_LOAD_EXTENSIONS:W3}=Ln(),U3=new B3,H3=Object.freeze({extension:"js",loadExtensions:W3,tableName:"knex_migrations",schemaName:null,directory:"./migrations",disableTransactions:!1,disableMigrationsListValidation:!1,sortDirsSeparately:!1});function Q3(t,e,r=U3){let n=Object.assign({},H3,e||{},t);return t&&(t.directory||t.sortDirsSeparately!==void 0||t.loadExtensions)&&(t.migrationSource&&r.warn("FS-related option specified for migration configuration. This resets migrationSource to default FsMigrations"),n.migrationSource=null),n.migrationSource||(n.migrationSource=new D3(n.directory,n.sortDirsSeparately,n.loadExtensions)),n}Sb.exports={getMergedConfig:Q3}});var xu=c((oie,Tb)=>{function z3(){let t=new Date;return t.getUTCFullYear().toString()+(t.getUTCMonth()+1).toString().padStart(2,"0")+t.getUTCDate().toString().padStart(2,"0")+t.getUTCHours().toString().padStart(2,"0")+t.getUTCMinutes().toString().padStart(2,"0")+t.getUTCSeconds().toString().padStart(2,"0")}Tb.exports={yyyymmddhhmmss:z3}});var Ib=c((aie,Ob)=>{var vu=require("path"),{writeJsFileUsingTemplate:G3}=Ka(),{getMergedConfig:Cb}=_u(),{ensureDirectoryExists:K3}=Qr(),{yyyymmddhhmmss:J3}=xu(),Eu=class{constructor(e,r){this.config=Cb(e,void 0,r)}async make(e,r,n){return this.config=Cb(r,this.config,n),e?(await this._ensureFolder(),await this._writeNewMigration(e)):Promise.reject(new Error("A name must be specified for the generated migration"))}_ensureFolder(){let r=this._absoluteConfigDirs().map(K3);return Promise.all(r)}_getStubPath(){return this.config.stub||vu.join(__dirname,"stub",this.config.extension+".stub")}_getNewMigrationName(e){return e[0]==="-"&&(e=e.slice(1)),J3()+"_"+e+"."+this.config.extension.split("-")[0]}_getNewMigrationPath(e){let r=this._getNewMigrationName(e),i=this._absoluteConfigDirs().slice(-1)[0];return vu.join(i,r)}async _writeNewMigration(e){let r=this._getNewMigrationPath(e);return await G3(r,this._getStubPath(),{variable:"d"},this.config.variables||{}),r}_absoluteConfigDirs(){return(Array.isArray(this.config.directory)?this.config.directory:[this.config.directory]).map(r=>(r||console.warn("Failed to resolve config file, knex cannot determine where to generate migrations"),vu.resolve(process.cwd(),r)))}};Ob.exports=Eu});var Pb=c((uie,Nb)=>{var kb=qg(),V3=Ba(),Y3=Xt(),X3=Ug(),{getLockTableName:qu,getTable:$n,getTableName:fs}=is(),{getSchemaBuilder:Z3}=Ua(),Ot=Jg(),e2=Ib(),{getMergedConfig:pt}=_u(),{isBoolean:t2,isFunction:r2}=we(),ps=class extends Error{constructor(e){super(e),this.name="MigrationLocked"}},Su=class{constructor(e){r2(e)?e.isTransaction?this.knex=e:this.knex=e.withUserParams($({},e.userParams)):(this.knex=Object.assign({},e),this.knex.userParams=this.knex.userParams||{}),this.config=pt(this.knex.client.config.migrations,void 0,this.knex.client.logger),this.generator=new e2(this.knex.client.config.migrations,this.knex.client.logger),this._activeMigration={fileName:null}}async latest(e){this._disableProcessing(),this.config=pt(e,this.config,this.knex.client.logger);let r=await Ot.listAllAndCompleted(this.config,this.knex);this.config.disableMigrationsListValidation||Fn(this.config.migrationSource,r);let[n,i]=r,s=ds(this.config.migrationSource,n,i);return!this.config.disableTransactions&&!(await Promise.all(s.map(async a=>{let u=await this.config.migrationSource.getMigration(a);return!this._useTransaction(u)}))).some(a=>a)?this.knex.transaction(a=>this._runBatch(s,"up",a)):this._runBatch(s,"up")}async up(e){this._disableProcessing(),this.config=pt(e,this.config,this.knex.client.logger);let r=await Ot.listAllAndCompleted(this.config,this.knex);this.config.disableMigrationsListValidation||Fn(this.config.migrationSource,r);let[n,i]=r,s=ds(this.config.migrationSource,n,i),o,a=this.config.name;if(a){if(!i.includes(a)&&(o=s.find(f=>this.config.migrationSource.getMigrationName(f)===a),!o))throw new Error(`Migration "${a}" not found.`)}else o=s[0];let u=!o||this._useTransaction(await this.config.migrationSource.getMigration(o)),l=[];return o&&l.push(o),!this.config.disableTransactions&&(!o||u)?await this.knex.transaction(f=>this._runBatch(l,"up",f)):await this._runBatch(l,"up")}rollback(e,r=!1){return this._disableProcessing(),new Promise((n,i)=>{try{this.config=pt(e,this.config,this.knex.client.logger)}catch(s){i(s)}Ot.listAllAndCompleted(this.config,this.knex).then(s=>(this.config.disableMigrationsListValidation||Fn(this.config.migrationSource,s),s)).then(s=>{let[o,a]=s;return r?o.filter(u=>a.map(l=>l.name).includes(this.config.migrationSource.getMigrationName(u))).reverse():this._getLastBatch(s)}).then(s=>this._runBatch(s,"down")).then(n,i)})}down(e){return this._disableProcessing(),this.config=pt(e,this.config,this.knex.client.logger),Ot.listAllAndCompleted(this.config,this.knex).then(r=>(this.config.disableMigrationsListValidation||Fn(this.config.migrationSource,r),r)).then(([r,n])=>{let i=r.filter(u=>n.map(l=>l.name).includes(this.config.migrationSource.getMigrationName(u))),s,o=this.config.name;if(o){if(s=i.find(u=>this.config.migrationSource.getMigrationName(u)===o),!s)throw new Error(`Migration "${o}" was not run.`)}else s=i[i.length-1];let a=[];return s&&a.push(s),this._runBatch(a,"down")})}status(e){return this._disableProcessing(),this.config=pt(e,this.config,this.knex.client.logger),Promise.all([$n(this.knex,this.config.tableName,this.config.schemaName).select("*"),Ot.listAll(this.config.migrationSource)]).then(([r,n])=>r.length-n.length)}currentVersion(e){return this._disableProcessing(),this.config=pt(e,this.config,this.knex.client.logger),Ot.listCompleted(this.config.tableName,this.config.schemaName,this.knex).then(r=>{let n=X3(r.map(i=>i.name.split("_")[0]));return n===void 0?"none":n})}async list(e){this._disableProcessing(),this.config=pt(e,this.config,this.knex.client.logger);let[r,n]=await Ot.listAllAndCompleted(this.config,this.knex);this.config.disableMigrationsListValidation||Fn(this.config.migrationSource,[r,n]);let i=ds(this.config.migrationSource,r,n);return[n,i]}async forceFreeMigrationsLock(e){this.config=pt(e,this.config,this.knex.client.logger);let{schemaName:r,tableName:n}=this.config,i=qu(n),{knex:s}=this,o=()=>$n(s,i,r);await Z3(s,r).hasTable(i)&&(await o().del(),await o().insert({is_locked:0}))}make(e,r){return this.generator.make(e,r,this.knex.client.logger)}_disableProcessing(){this.knex.disableProcessing&&this.knex.disableProcessing()}_lockMigrations(e){let r=qu(this.config.tableName);return $n(this.knex,r,this.config.schemaName).transacting(e).where("is_locked","=",0).update({is_locked:1}).then(n=>{if(n!==1)throw new Error("Migration table is already locked")})}_getLock(e){return(e?n=>n(e):n=>this.knex.transaction(n))(n=>this._lockMigrations(n)).catch(n=>{throw new ps(n.message)})}_freeLock(e=this.knex){let r=qu(this.config.tableName);return $n(e,r,this.config.schemaName).update({is_locked:0})}async _runBatch(e,r,n){let i=this.knex.client.driverName!=="cockroachdb";try{await this._getLock(i?n:void 0);let s=n?await Ot.listCompleted(this.config.tableName,this.config.schemaName,n):[];e=ds(this.config.migrationSource,e,s),await Promise.all(e.map(this._validateMigrationStructure.bind(this)));let o=await this._latestBatchNumber(n);r==="up"&&o++;let a=await this._waterfallBatch(o,e,r,n);return await this._freeLock(i?n:void 0),a}catch(s){let o=Promise.resolve();s instanceof ps?(this.knex.client.logger.warn(`Can\'t take lock to run migrations: ${s.message}`),this.knex.client.logger.warn("If you are sure migrations are not running you can release the lock manually by running \'knex migrate:unlock\'")):(this._activeMigration.fileName&&this.knex.client.logger.warn(`migration file "${this._activeMigration.fileName}" failed`),this.knex.client.logger.warn(`migration failed with error: ${s.message}`),o=this._freeLock(i?n:void 0));try{await o}catch(a){}throw s}}async _validateMigrationStructure(e){let r=this.config.migrationSource.getMigrationName(e),n=await this.config.migrationSource.getMigration(e);if(typeof n.up!="function"||typeof n.down!="function")throw new Error(`Invalid migration: ${r} must have both an up and down function`);return e}async _getLastBatch([e]){let{tableName:r,schemaName:n}=this.config,s=(await $n(this.knex,r,n).where("batch",function(o){o.max("batch").from(fs(r,n))}).orderBy("id","desc")).map(o=>e.find(a=>this.config.migrationSource.getMigrationName(a)===o.name));return Promise.all(s)}_latestBatchNumber(e=this.knex){return e.from(fs(this.config.tableName,this.config.schemaName)).max("batch as max_batch").then(r=>r[0].max_batch||0)}_useTransaction(e,r){let n=V3(e,"config.transaction");return t2(n)?n:!r}_waterfallBatch(e,r,n,i){let s=i||this.knex,{tableName:o,schemaName:a,disableTransactions:u}=this.config,l=Promise.resolve(),h=[];return r.forEach(f=>{let d=this.config.migrationSource.getMigrationName(f);this._activeMigration.fileName=d;let p=this.config.migrationSource.getMigration(f);l=l.then(async()=>await p).then(m=>(this._activeMigration.fileName=d,!i&&this._useTransaction(m,u)?(this.knex.enableProcessing(),this._transaction(this.knex,m,n,d)):(s.enableProcessing(),Ab(this.knex.client.logger,m[n](s),d)))).then(()=>{if(s.disableProcessing(),this.knex.disableProcessing(),h.push(d),n==="up")return s.into(fs(o,a)).insert({name:d,batch:e,migration_time:new Date});if(n==="down")return s.from(fs(o,a)).where({name:d}).del()})}),l.then(()=>[e,h])}_transaction(e,r,n,i){return e.transaction(s=>Ab(e.client.logger,r[n](s),i,()=>{s.commit()}))}};function Fn(t,e){let[r,n]=e,i=n2(t,n,r);if(!Y3(i)){let s=i.map(o=>o.name);throw new Error(`The migration directory is corrupt, the following files are missing: ${s.join(", ")}`)}}function n2(t,e,r){return kb(e,r,(n,i)=>n.name===t.getMigrationName(i))}function ds(t,e,r){return kb(e,r,(n,i)=>i.name===t.getMigrationName(n))}function Ab(t,e,r,n){return(!e||typeof e.then!="function")&&(t.warn(`migration ${r} did not return a promise`),n&&n()),e}Nb.exports={Migrator:Su}});var Tu=c((lie,Rb)=>{var i2=lt(),s2=V(),o2=Re(),a2="[object String]";function u2(t){return typeof t=="string"||!s2(t)&&o2(t)&&i2(t)==a2}Rb.exports=u2});var Mb=c((hie,jb)=>{var c2=/\\s/;function l2(t){for(var e=t.length;e--&&c2.test(t.charAt(e)););return e}jb.exports=l2});var $b=c((fie,Lb)=>{var h2=Mb(),f2=/^\\s+/;function d2(t){return t&&t.slice(0,h2(t)+1).replace(f2,"")}Lb.exports=d2});var Wb=c((die,Bb)=>{var p2=$b(),Fb=Se(),m2=Vt(),Db=0/0,g2=/^[-+]0x[0-9a-f]+$/i,y2=/^0b[01]+$/i,w2=/^0o[0-7]+$/i,b2=parseInt;function _2(t){if(typeof t=="number")return t;if(m2(t))return Db;if(Fb(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fb(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=p2(t);var r=y2.test(t);return r||w2.test(t)?b2(t.slice(2),r?2:8):g2.test(t)?Db:+t}Bb.exports=_2});var Qb=c((pie,Hb)=>{var x2=Wb(),Ub=1/0,v2=17976931348623157e292;function E2(t){if(!t)return t===0?t:0;if(t=x2(t),t===Ub||t===-Ub){var e=t<0?-1:1;return e*v2}return t===t?t:0}Hb.exports=E2});var ms=c((mie,zb)=>{var q2=Qb();function S2(t){var e=q2(t),r=e%1;return e===e?r?e-r:e:0}zb.exports=S2});var gs=c((gie,Gb)=>{var T2=Qa(),C2=ft();function O2(t){return t==null?[]:T2(t,C2(t))}Gb.exports=O2});var Jb=c((yie,Kb)=>{var I2=ts(),A2=He(),k2=Tu(),N2=ms(),P2=gs(),R2=Math.max;function j2(t,e,r,n){t=A2(t)?t:P2(t),r=r&&!n?N2(r):0;var i=t.length;return r<0&&(r=R2(i+r,0)),k2(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&I2(t,e,r)>-1}Kb.exports=j2});var Yb=c((wie,Vb)=>{var Cu=require("path"),M2=os(),L2=Jb(),{AbstractMigrationsLoader:$2}=Ln(),{getFilepathsInFolder:F2}=Qr(),D2=t=>e=>{let r=Cu.extname(e);return L2(t,r)},Ou=class extends $2{_getConfigDirectories(e){return this.migrationsPaths.map(n=>(n||e.warn("Empty value passed as a directory for Seeder, this is not supported."),Cu.resolve(process.cwd(),n)))}async getSeeds(e){let{loadExtensions:r,recursive:n,specific:i}=e,o=M2(await Promise.all(this._getConfigDirectories(e.logger).map(a=>F2(a,n)))).filter(D2(r));if(this.sortDirsSeparately||o.sort(),i&&(o=o.filter(a=>Cu.basename(a)===i),o.length===0))throw new Error(`Invalid argument provided: the specific seed "${i}" does not exist.`);return o}async getSeed(e){return await pu()(e)}};Vb.exports={FsSeeds:Ou}});var Zb=c((bie,Xb)=>{var{FsSeeds:B2}=Yb(),W2=hs(),{DEFAULT_LOAD_EXTENSIONS:U2}=Ln(),H2=new W2,Q2=Object.freeze({extension:"js",directory:"./seeds",loadExtensions:U2,specific:null,timestampFilenamePrefix:!1,recursive:!1,sortDirsSeparately:!1});function z2(t,e,r=H2){let n=Object.assign({},Q2,e||{},t,{logger:r});return t&&(t.directory||t.sortDirsSeparately!==void 0||t.loadExtensions)&&(t.seedSource&&r.warn("FS-related option specified for seed configuration. This resets seedSource to default FsMigrations"),n.seedSource=null),n.seedSource||(n.seedSource=new B2(n.directory,n.sortDirsSeparately,n.loadExtensions)),n}Xb.exports={getMergedConfig:z2}});var r_=c((_ie,t_)=>{var e_=require("path"),{ensureDirectoryExists:G2}=Qr(),{writeJsFileUsingTemplate:K2}=Ka(),{yyyymmddhhmmss:J2}=xu(),{getMergedConfig:V2}=Zb(),Iu=class{constructor(e){this.knex=e,this.config=this.resolveConfig(e.client.config.seeds)}async run(e){this.config=this.resolveConfig(e);let r=await this.config.seedSource.getSeeds(this.config);return this._runSeeds(r)}async make(e,r){if(this.config=this.resolveConfig(r),!e)throw new Error("A name must be specified for the generated seed");return await this._ensureFolder(r),await this._writeNewSeed(e)}_ensureFolder(){let r=this.config.seedSource._getConfigDirectories(this.config.logger).map(G2);return Promise.all(r)}async _runSeeds(e){for(let r of e)await this._validateSeedStructure(r);return this._waterfallBatch(e)}async _validateSeedStructure(e){if(typeof(await this.config.seedSource.getSeed(e)).seed!="function")throw new Error(`Invalid seed file: ${e} must have a seed function`);return e}_getStubPath(){return this.config.stub||e_.join(__dirname,"stub",this.config.extension+".stub")}_getNewStubFileName(e){return e[0]==="-"&&(e=e.slice(1)),this.config.timestampFilenamePrefix===!0&&(e=`${J2()}_${e}`),`${e}.${this.config.extension}`}_getNewStubFilePath(e){let r=this._getNewStubFileName(e),i=this.config.seedSource._getConfigDirectories(this.config.logger).slice(-1)[0];return e_.join(i,r)}async _writeNewSeed(e){let r=this._getNewStubFilePath(e);return await K2(r,this._getStubPath(),{variable:"d"},this.config.variables||{}),r}async _listAll(e){return this.config=this.resolveConfig(e),this.config.seedSource.getSeeds(this.config)}async _waterfallBatch(e){let{knex:r}=this,n=[];for(let i of e){let s=await this.config.seedSource.getSeed(i);try{await s.seed(r),n.push(i)}catch(o){let a=new Error(`Error while executing "${i}" seed: ${o.message}`);throw a.original=o,a.stack=a.stack.split(`\n`).slice(0,2).join(`\n`)+`\n`+o.stack,a}}return[n]}resolveConfig(e){return V2(e,this.config,this.knex.client.logger)}};t_.exports=Iu});var i_=c((xie,n_)=>{var Au=class{constructor(e){this.client=e}now(e){return typeof e=="number"?this.client.raw(`CURRENT_TIMESTAMP(${e})`):this.client.raw("CURRENT_TIMESTAMP")}uuidToBin(e,r=!0){let n=Buffer.from(e.replace(/-/g,""),"hex");return r?Buffer.concat([n.slice(6,8),n.slice(4,6),n.slice(0,4),n.slice(8,16)]):Buffer.concat([n.slice(0,4),n.slice(4,6),n.slice(6,8),n.slice(8,16)])}binToUuid(e,r=!0){let n=Buffer.from(e,"hex");return r?[n.toString("hex",4,8),n.toString("hex",2,4),n.toString("hex",0,2),n.toString("hex",8,10),n.toString("hex",10,16)].join("-"):[n.toString("hex",0,4),n.toString("hex",4,6),n.toString("hex",6,8),n.toString("hex",8,10),n.toString("hex",10,16)].join("-")}};n_.exports=Au});var ku=c((vie,s_)=>{s_.exports=["with","withRecursive","withMaterialized","withNotMaterialized","select","as","columns","column","from","fromJS","fromRaw","into","withSchema","table","distinct","join","joinRaw","innerJoin","leftJoin","leftOuterJoin","rightJoin","rightOuterJoin","outerJoin","fullOuterJoin","crossJoin","where","andWhere","orWhere","whereNot","orWhereNot","whereLike","andWhereLike","orWhereLike","whereILike","andWhereILike","orWhereILike","whereRaw","whereWrapped","havingWrapped","orWhereRaw","whereExists","orWhereExists","whereNotExists","orWhereNotExists","whereIn","orWhereIn","whereNotIn","orWhereNotIn","whereNull","orWhereNull","whereNotNull","orWhereNotNull","whereBetween","whereNotBetween","andWhereBetween","andWhereNotBetween","orWhereBetween","orWhereNotBetween","groupBy","groupByRaw","orderBy","orderByRaw","union","unionAll","intersect","having","havingRaw","orHaving","orHavingRaw","offset","limit","count","countDistinct","min","max","sum","sumDistinct","avg","avgDistinct","increment","decrement","first","debug","pluck","clearSelect","clearWhere","clearGroup","clearOrder","clearHaving","insert","update","returning","del","delete","truncate","transacting","connection","jsonExtract","jsonSet","jsonInsert","jsonRemove","whereJsonObject","orWhereJsonObject","andWhereJsonObject","whereNotJsonObject","orWhereNotJsonObject","andWhereNotJsonObject","whereJsonPath","orWhereJsonPath","andWhereJsonPath","whereJsonSupersetOf","orWhereJsonSupersetOf","andWhereJsonSupersetOf","whereJsonNotSupersetOf","orWhereJsonNotSupersetOf","andWhereJsonNotSupersetOf","whereJsonSubsetOf","orWhereJsonSubsetOf","andWhereJsonSubsetOf","whereJsonNotSubsetOf","orWhereJsonNotSubsetOf","andWhereJsonNotSubsetOf"]});var Nu=c((Eie,o_)=>{var Y2=En(),X2=qt();function Z2(t,e,r){(r!==void 0&&!X2(t[e],r)||r===void 0&&!(e in t))&&Y2(t,e,r)}o_.exports=Z2});var Pu=c((qie,a_)=>{function eH(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}a_.exports=eH});var c_=c((Sie,u_)=>{var tH=ht(),rH=dt();function nH(t){return tH(t,rH(t))}u_.exports=nH});var m_=c((Tie,p_)=>{var l_=Nu(),iH=da(),sH=Sa(),oH=Qi(),aH=Ca(),h_=kr(),f_=V(),uH=La(),cH=Ht(),lH=bn(),hH=Se(),fH=Zt(),dH=Qt(),d_=Pu(),pH=c_();function mH(t,e,r,n,i,s,o){var a=d_(t,r),u=d_(e,r),l=o.get(u);if(l){l_(t,r,l);return}var h=s?s(a,u,r+"",t,e,o):void 0,f=h===void 0;if(f){var d=f_(u),p=!d&&cH(u),m=!d&&!p&&dH(u);h=u,d||p||m?f_(a)?h=a:uH(a)?h=oH(a):p?(f=!1,h=iH(u,!0)):m?(f=!1,h=sH(u,!0)):h=[]:fH(u)||h_(u)?(h=a,h_(a)?h=pH(a):(!hH(a)||lH(a))&&(h=aH(u))):f=!1}f&&(o.set(u,h),i(h,u,n,s,o),o.delete(u)),l_(t,r,h)}p_.exports=mH});var w_=c((Cie,y_)=>{var gH=vn(),yH=Nu(),wH=su(),bH=m_(),_H=Se(),xH=dt(),vH=Pu();function g_(t,e,r,n,i){t!==e&&wH(e,function(s,o){if(i||(i=new gH),_H(s))bH(t,e,o,r,g_,n,i);else{var a=n?n(vH(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),yH(t,o,a)}},xH)}y_.exports=g_});var __=c((Oie,b_)=>{var EH=w_(),qH=Mn(),SH=qH(function(t,e,r){EH(t,e,r)});b_.exports=SH});var Ru=c((Iie,x_)=>{function TH(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}x_.exports=TH});var E_=c((Aie,v_)=>{var CH=Ru(),OH=Kt(),IH=ms(),AH=Math.ceil,kH=Math.max;function NH(t,e,r){(r?OH(t,e,r):e===void 0)?e=1:e=kH(IH(e),0);var n=t==null?0:t.length;if(!n||e<1)return[];for(var i=0,s=0,o=Array(AH(n/e));i<n;)o[s++]=CH(t,i,i+=e);return o}v_.exports=NH});var S_=c((kie,q_)=>{q_.exports=t=>new Promise(e=>setTimeout(e,t))});var C_=c((Nie,T_)=>{var PH=E_(),RH=os(),jH=S_(),{isNumber:MH}=we();function LH(t,e,r,n=1e3){let i,s=null;if(!MH(n)||n<1)throw new TypeError(`Invalid chunkSize: ${n}`);if(!Array.isArray(r))throw new TypeError(`Invalid batch: Expected array, got ${typeof r}`);let o=PH(r,n),a=u=>s?u(s):t.transaction(u);return Object.assign(Promise.resolve().then(async()=>(await jH(1),a(async u=>{let l=[];for(let h of o)l.push(await u(e).insert(h,i));return RH(l)}))),{returning(u){return i=u,this},transacting(u){return s=u,this}})}T_.exports=LH});var ju=c((Pie,N_)=>{var{EventEmitter:$H}=require("events"),{Migrator:FH}=Pb(),DH=r_(),BH=i_(),O_=ku(),WH=__(),UH=C_(),{isObject:HH}=we(),I_={client:{get(){return this.context.client},set(t){this.context.client=t},configurable:!0},userParams:{get(){return this.context.userParams},set(t){this.context.userParams=t},configurable:!0},schema:{get(){return this.client.schemaBuilder()},configurable:!0},migrate:{get(){return new FH(this)},configurable:!0},seed:{get(){return new DH(this)},configurable:!0},fn:{get(){return new BH(this.client)},configurable:!0}},QH=["raw","batchInsert","transaction","transactionProvider","initialize","destroy","ref","withUserParams","queryBuilder","disableProcessing","enableProcessing"];for(let t of QH)I_[t]={value:function(...e){return this.context[t](...e)},configurable:!0};function zH(t){function e(r,n){return k_(e.context,r,n)}return A_(e,t),e}function GH(t){let e=t.context||{};Object.assign(e,{queryBuilder(){return this.client.queryBuilder()},raw(){return this.client.raw.apply(this.client,arguments)},batchInsert(r,n,i=1e3){return UH(this,r,n,i)},transaction(r,n){!n&&HH(r)&&(n=r,r=null);let i=Object.assign({},n);return i.userParams=this.userParams||{},i.doNotRejectOnRollback===void 0&&(i.doNotRejectOnRollback=!0),this._transaction(r,i)},_transaction(r,n,i=null){return r?this.client.transaction(r,n,i):new Promise((s,o)=>{this.client.transaction(s,n,i).catch(o)})},transactionProvider(r){let n;return()=>(n||(n=this.transaction(void 0,r)),n)},initialize(r){return this.client.initializePool(r)},destroy(r){return this.client.destroy(r)},ref(r){return this.client.ref(r)},disableProcessing(){this.userParams.isProcessingDisabled||(this.userParams.wrapIdentifier=this.client.config.wrapIdentifier,this.userParams.postProcessResponse=this.client.config.postProcessResponse,this.client.config.wrapIdentifier=null,this.client.config.postProcessResponse=null,this.userParams.isProcessingDisabled=!0)},enableProcessing(){!this.userParams.isProcessingDisabled||(this.client.config.wrapIdentifier=this.userParams.wrapIdentifier,this.client.config.postProcessResponse=this.userParams.postProcessResponse,this.userParams.isProcessingDisabled=!1)},withUserParams(r){let n=KH(t);return this.client&&(n.client=Object.create(this.client.constructor.prototype),WH(n.client,this.client),n.client.config=Object.assign({},this.client.config)),A_(n,n.client),ys("query",t,n),ys("query-error",t,n),ys("query-response",t,n),ys("start",t,n),n.userParams=r,n}}),t.context||(t.context=e)}function ys(t,e,r){e.listeners(t).forEach(i=>{r.on(t,i)})}function A_(t,e){for(let n=0;n<O_.length;n++){let i=O_[n];t[i]=function(){let s=this.queryBuilder();return s[i].apply(s,arguments)}}Object.defineProperties(t,I_),GH(t),t.client=e,t.userParams={};let r=new $H;for(let n in r)t[n]=r[n];t._internalListeners&&t._internalListeners.forEach(({eventName:n,listener:i})=>{t.client.removeListener(n,i)}),t._internalListeners=[],ws(t,"start",n=>{t.emit("start",n)}),ws(t,"query",n=>{t.emit("query",n)}),ws(t,"query-error",(n,i)=>{t.emit("query-error",n,i)}),ws(t,"query-response",(n,i,s)=>{t.emit("query-response",n,i,s)})}function ws(t,e,r){t.client.on(e,r),t._internalListeners.push({eventName:e,listener:r})}function k_(t,e,r){let n=t.queryBuilder();return e||t.client.logger.warn("calling knex without a tableName is deprecated. Use knex.queryBuilder() instead."),e?n.table(e,r):n}function KH(t){let e=Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t)),r={},i=((s,o)=>k_(r,s,o)).bind(e);return Object.assign(i,t),i.context=r,i}N_.exports=zH});var Mu=c((Rie,P_)=>{P_.exports=function(){}});var Lu=c((jie,R_)=>{var JH=Mu(),VH=t=>Object.assign(t,{finally(e){return this.then().finally(e)}});R_.exports=Promise.prototype.finally?VH:JH});var $u=c((Mie,F_)=>{var{EventEmitter:YH}=require("events"),XH=G(),ZH=Na(),{callbackify:eQ}=require("util"),tQ=ju(),{timeout:j_,KnexTimeoutError:M_}=Fr(),rQ=Lu(),Dn=XH("knex:tx");function nQ(){return{userParams:{},doNotRejectOnRollback:!0}}var L_=["read uncommitted","read committed","snapshot","repeatable read","serializable"],bs=class extends YH{constructor(e,r,n=nQ(),i=null){super(),this.userParams=n.userParams,this.doNotRejectOnRollback=n.doNotRejectOnRollback;let s=this.txid=ZH("trx");this.client=e,this.logger=e.logger,this.outerTx=i,this.trxClient=void 0,this._completed=!1,this._debug=e.config&&e.config.debug,n.isolationLevel&&this.setIsolationLevel(n.isolationLevel),Dn("%s: Starting %s transaction",s,i?"nested":"top level"),this._lastChild=Promise.resolve();let a=(i?i._lastChild:Promise.resolve()).then(()=>this._evaluateContainer(n,r));this._promise=a.then(u=>u),i&&(i._lastChild=a.catch(()=>{}))}isCompleted(){return this._completed||this.outerTx&&this.outerTx.isCompleted()||!1}begin(e){return(this.isolationLevel?this.query(e,`SET TRANSACTION ISOLATION LEVEL ${this.isolationLevel};`):Promise.resolve()).then(()=>this.query(e,"BEGIN;"))}savepoint(e){return this.query(e,`SAVEPOINT ${this.txid};`)}commit(e,r){return this.query(e,"COMMIT;",1,r)}release(e,r){return this.query(e,`RELEASE SAVEPOINT ${this.txid};`,1,r)}setIsolationLevel(e){if(!L_.includes(e))throw new Error(`Invalid isolationLevel, supported isolation levels are: ${JSON.stringify(L_)}`);return this.isolationLevel=e,this}rollback(e,r){return j_(this.query(e,"ROLLBACK",2,r),5e3).catch(n=>{if(!(n instanceof M_))return Promise.reject(n);this._rejecter(r)})}rollbackTo(e,r){return j_(this.query(e,`ROLLBACK TO SAVEPOINT ${this.txid}`,2,r),5e3).catch(n=>{if(!(n instanceof M_))return Promise.reject(n);this._rejecter(r)})}query(e,r,n,i){let s=this.trxClient.query(e,r).catch(o=>{n=2,i=o,this._completed=!0,Dn("%s error running transaction query",this.txid)}).then(o=>{if(n===1&&this._resolver(i),n===2){if(i===void 0){if(this.doNotRejectOnRollback&&/^ROLLBACK\\b/i.test(r)){this._resolver();return}i=new Error(`Transaction rejected with non-error: ${i}`)}this._rejecter(i)}return o});return(n===1||n===2)&&(this._completed=!0),s}debug(e){return this._debug=arguments.length?e:!0,this}async _evaluateContainer(e,r){return this.acquireConnection(e,n=>{let i=this.trxClient=sQ(this,this.client,n),s=this.client.transacting?this.savepoint(n):this.begin(n),o=new Promise((a,u)=>{this._resolver=a,this._rejecter=u});return s.then(()=>iQ(this,n,i)).then(a=>{a.executionPromise=o;let u;try{u=r(a)}catch(l){u=Promise.reject(l)}return u&&u.then&&typeof u.then=="function"&&u.then(l=>a.commit(l)).catch(l=>a.rollback(l)),null}).catch(a=>this._rejecter(a)),o})}async acquireConnection(e,r){let n=e&&e.connection,i=n||await this.client.acquireConnection();try{return i.__knexTxId=this.txid,await r(i)}finally{n?Dn("%s: not releasing external connection",this.txid):(Dn("%s: releasing connection",this.txid),this.client.releaseConnection(i))}}then(e,r){return this._promise.then(e,r)}catch(...e){return this._promise.catch(...e)}asCallback(e){return eQ(()=>this._promise)(e),this._promise}};rQ(bs.prototype);function iQ(t,e,r){let n=tQ(r);return n.context.withUserParams=()=>{throw new Error("Cannot set user params on a transaction - it can only inherit params from main knex instance")},n.isTransaction=!0,n.userParams=t.userParams||{},n.context.transaction=function(i,s){return s?s.doNotRejectOnRollback===void 0&&(s.doNotRejectOnRollback=!0):s={doNotRejectOnRollback:!0},this._transaction(i,s,t)},n.savepoint=function(i,s){return n.transaction(i,s)},t.client.transacting?(n.commit=i=>t.release(e,i),n.rollback=i=>t.rollbackTo(e,i)):(n.commit=i=>t.commit(e,i),n.rollback=i=>t.rollback(e,i)),n.isCompleted=()=>t.isCompleted(),n}function sQ(t,e,r){let n=Object.create(e.constructor.prototype);n.version=e.version,n.config=e.config,n.driver=e.driver,n.connectionSettings=e.connectionSettings,n.transacting=!0,n.valueForUndefined=e.valueForUndefined,n.logger=e.logger,n.on("start",function(o){t.emit("start",o),e.emit("start",o)}),n.on("query",function(o){t.emit("query",o),e.emit("query",o)}),n.on("query-error",function(o,a){t.emit("query-error",o,a),e.emit("query-error",o,a)}),n.on("query-response",function(o,a,u){t.emit("query-response",o,a,u),e.emit("query-response",o,a,u)});let i=n.query;n.query=function(o,a){let u=t.isCompleted();return new Promise(function(l,h){try{if(o!==r)throw new Error("Invalid connection for transaction query.");u&&$_(t,a),l(i.call(n,o,a))}catch(f){h(f)}})};let s=n.stream;return n.stream=function(o,a,u,l){let h=t.isCompleted();return new Promise(function(f,d){try{if(o!==r)throw new Error("Invalid connection for transaction query.");h&&$_(t,a),f(s.call(n,o,a,u,l))}catch(p){d(p)}})},n.acquireConnection=function(){return Promise.resolve(r)},n.releaseConnection=function(){return Promise.resolve()},n}function $_(t,e){let r=typeof e=="string"?e:e&&e.sql;throw Dn("%s: Transaction completed: %s",t.txid,r),new Error("Transaction query already complete, run with DEBUG=knex:tx for more info")}F_.exports=bs});var Fu=c((Lie,B_)=>{var oQ=G()("knex:query"),aQ=G()("knex:bindings"),uQ=(t,e)=>oQ(t.replace(/%/g,"%%"),e),{isString:cQ}=we();function D_(t,e,r,n){e=e==null?[]:[].concat(e);let i=0;return t.replace(/\\\\?\\?/g,s=>{if(s==="\\\\?")return"?";if(i===e.length)return s;let o=e[i++];return n._escapeBinding(o,{timeZone:r})})}function lQ(t,e,r){let n=cQ(e)?{sql:e}:e;n.bindings=r.prepBindings(n.bindings),n.sql=r.positionBindings(n.sql);let{__knexUid:i,__knexTxId:s}=t;return r.emit("query",Object.assign({__knexUid:i,__knexTxId:s},n)),uQ(n.sql,s),aQ(n.bindings,s),n}function hQ(t,e,r){return r._query(t,e).catch(n=>{throw n.message=D_(e.sql,e.bindings,void 0,r)+" - "+n.message,r.emit("query-error",n,Object.assign({__knexUid:t.__knexUid,__knexTxId:t.__knexUid},e)),n})}B_.exports={enrichQueryObject:lQ,executeQuery:hQ,formatQuery:D_}});var It=c(($ie,W_)=>{var fQ=qn(),dQ=ht(),pQ=Mn(),mQ=He(),gQ=jr(),yQ=ft(),wQ=Object.prototype,bQ=wQ.hasOwnProperty,_Q=pQ(function(t,e){if(gQ(e)||mQ(e)){dQ(e,yQ(e),t);return}for(var r in e)bQ.call(e,r)&&fQ(t,r,e[r])});W_.exports=_Q});var Du=c((Fie,U_)=>{var xQ=Oa(),vQ=4;function EQ(t){return xQ(t,vQ)}U_.exports=EQ});var Q_=c((Die,H_)=>{var qQ=Xe();function SQ(t){return typeof t=="function"?t:qQ}H_.exports=SQ});var G_=c((Bie,z_)=>{var TQ=Wi(),CQ=tr(),OQ=Q_(),IQ=V();function AQ(t,e){var r=IQ(t)?TQ:CQ;return r(t,OQ(e))}z_.exports=AQ});var _s=c((Wie,K_)=>{K_.exports=G_()});var Bu=c((Uie,J_)=>{var kQ=tr();function NQ(t,e){var r=[];return kQ(t,function(n,i,s){e(n,i,s)&&r.push(n)}),r}J_.exports=NQ});var Wu=c((Hie,V_)=>{var PQ="Expected a function";function RQ(t){if(typeof t!="function")throw new TypeError(PQ);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}V_.exports=RQ});var X_=c((Qie,Y_)=>{var jQ=zi(),MQ=Bu(),LQ=Qe(),$Q=V(),FQ=Wu();function DQ(t,e){var r=$Q(t)?jQ:MQ;return r(t,FQ(LQ(e,3)))}Y_.exports=DQ});var Bn=c((zie,Z_)=>{var BQ=Ru();function WQ(t){var e=t==null?0:t.length;return e?BQ(t,1,e):[]}Z_.exports=WQ});var tx=c((Gie,ex)=>{function UQ(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}ex.exports=UQ});var nx=c((Kie,rx)=>{function HQ(t){return t.split("")}rx.exports=HQ});var sx=c((Jie,ix)=>{var QQ="\\\\ud800-\\\\udfff",zQ="\\\\u0300-\\\\u036f",GQ="\\\\ufe20-\\\\ufe2f",KQ="\\\\u20d0-\\\\u20ff",JQ=zQ+GQ+KQ,VQ="\\\\ufe0e\\\\ufe0f",YQ="\\\\u200d",XQ=RegExp("["+YQ+QQ+JQ+VQ+"]");function ZQ(t){return XQ.test(t)}ix.exports=ZQ});var dx=c((Vie,fx)=>{var ox="\\\\ud800-\\\\udfff",ez="\\\\u0300-\\\\u036f",tz="\\\\ufe20-\\\\ufe2f",rz="\\\\u20d0-\\\\u20ff",nz=ez+tz+rz,iz="\\\\ufe0e\\\\ufe0f",sz="["+ox+"]",Uu="["+nz+"]",Hu="\\\\ud83c[\\\\udffb-\\\\udfff]",oz="(?:"+Uu+"|"+Hu+")",ax="[^"+ox+"]",ux="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",cx="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",az="\\\\u200d",lx=oz+"?",hx="["+iz+"]?",uz="(?:"+az+"(?:"+[ax,ux,cx].join("|")+")"+hx+lx+")*",cz=hx+lx+uz,lz="(?:"+[ax+Uu+"?",Uu,ux,cx,sz].join("|")+")",hz=RegExp(Hu+"(?="+Hu+")|"+lz+cz,"g");function fz(t){return t.match(hz)||[]}fx.exports=fz});var mx=c((Yie,px)=>{var dz=nx(),pz=sx(),mz=dx();function gz(t){return pz(t)?mz(t):dz(t)}px.exports=gz});var Wn=c((Xie,yx)=>{var gx=St(),yz=Qi(),wz=Gt(),bz=He(),_z=Tu(),xz=tx(),vz=Ya(),Ez=Xa(),qz=mx(),Sz=gs(),Tz="[object Map]",Cz="[object Set]",Qu=gx?gx.iterator:void 0;function Oz(t){if(!t)return[];if(bz(t))return _z(t)?qz(t):yz(t);if(Qu&&t[Qu])return xz(t[Qu]());var e=wz(t),r=e==Tz?vz:e==Cz?Ez:Sz;return r(t)}yx.exports=Oz});var xs=c((Zie,bx)=>{var wx=Object.freeze({pg:"postgres",postgresql:"postgres",sqlite:"sqlite3"}),Iz=Object.freeze(["mssql","mysql","mysql2","oracledb","postgres","pgnative","redshift","sqlite3","cockroachdb","better-sqlite3"].concat(Object.keys(wx))),Az=Object.freeze({MsSQL:"mssql",MySQL:"mysql",MySQL2:"mysql2",Oracle:"oracledb",PostgreSQL:"pg",PgNative:"pgnative",Redshift:"pg-redshift",SQLite:"sqlite3",CockroachDB:"cockroachdb",BetterSQLite3:"better-sqlite3"}),kz=Object.freeze(["maxWaitingClients","testOnBorrow","fifo","priorityRange","autostart","evictionRunIntervalMillis","numTestsPerRun","softIdleTimeoutMillis","Promise"]),Nz=/,[\\s](?![^(]*\\))/g;bx.exports={CLIENT_ALIASES:wx,SUPPORTED_CLIENTS:Iz,POOL_CONFIG_OPTIONS:kz,COMMA_NO_PAREN_REGEX:Nz,DRIVER_NAMES:Az}});var je=c((ese,xx)=>{var _x=Zt(),Pz=Qt(),{CLIENT_ALIASES:Rz}=xs(),{isFunction:jz}=we();function Mz(...t){return Array.isArray(t[0])?t[0]:t}function Un(t){let e=!1;if(Pz(t))return!1;if(t&&jz(t.toSQL))return e;if(Array.isArray(t))for(let r=0;r<t.length&&!e;r++)e=Un(t[r]);else _x(t)?Object.keys(t).forEach(r=>{e||(e=Un(t[r]))}):e=t===void 0;return e}function Lz(t){let e=[];return Array.isArray(t)?t.forEach((r,n)=>{Un(r)&&e.push(n)}):_x(t)?Object.keys(t).forEach(r=>{Un(t[r])&&e.push(r)}):e.push(0),e}function $z(t){t.prototype.queryContext=function(e){return e===void 0?this._queryContext:(this._queryContext=e,this)}}function Fz(t){return Rz[t]||t}function Dz(t,e){if(t==null)return e;let r=parseInt(t,10);return isNaN(r)?e:r}xx.exports={addQueryContext:$z,containsUndefined:Un,getUndefinedIndices:Lz,normalizeArr:Mz,resolveClientNameWithAliases:Fz,toNumber:Dz}});var zu=c((tse,qx)=>{var vx=require("assert");function Ex(t,e,r,n,i){if(typeof r=="function")return{type:"onWrapped",value:r,bool:e};switch(arguments.length){case 3:return{type:"onRaw",value:r,bool:e};case 4:return{type:t,column:r,operator:"=",value:n,bool:e};default:return{type:t,column:r,operator:n,value:i,bool:e}}}var K=class{constructor(e,r,n){this.schema=n,this.table=e,this.joinType=r,this.and=this,this.clauses=[]}get or(){return this._bool("or")}on(e){if(typeof e=="object"&&typeof e.toSQL!="function"){let n=Object.keys(e),i=-1,s=this._bool()==="or"?"orOn":"on";for(;++i<n.length;)this[s](n[i],e[n[i]]);return this}let r=Ex("onBasic",this._bool(),...arguments);return r&&this.clauses.push(r),this}orOn(e,r,n){return this._bool("or").on.apply(this,arguments)}onJsonPathEquals(e,r,n,i){return this.clauses.push({type:"onJsonPathEquals",columnFirst:e,jsonPathFirst:r,columnSecond:n,jsonPathSecond:i,bool:this._bool(),not:this._not()}),this}orOnJsonPathEquals(e,r,n,i){return this._bool("or").onJsonPathEquals.apply(this,arguments)}using(e){return this.clauses.push({type:"onUsing",column:e,bool:this._bool()})}onVal(e){if(typeof e=="object"&&typeof e.toSQL!="function"){let n=Object.keys(e),i=-1,s=this._bool()==="or"?"orOnVal":"onVal";for(;++i<n.length;)this[s](n[i],e[n[i]]);return this}let r=Ex("onVal",this._bool(),...arguments);return r&&this.clauses.push(r),this}andOnVal(){return this.onVal(...arguments)}orOnVal(){return this._bool("or").onVal(...arguments)}onBetween(e,r){return vx(Array.isArray(r),"The second argument to onBetween must be an array."),vx(r.length===2,"You must specify 2 values for the onBetween clause"),this.clauses.push({type:"onBetween",column:e,value:r,bool:this._bool(),not:this._not()}),this}onNotBetween(e,r){return this._not(!0).onBetween(e,r)}orOnBetween(e,r){return this._bool("or").onBetween(e,r)}orOnNotBetween(e,r){return this._bool("or")._not(!0).onBetween(e,r)}onIn(e,r){return Array.isArray(r)&&r.length===0?this.on(1,"=",0):(this.clauses.push({type:"onIn",column:e,value:r,not:this._not(),bool:this._bool()}),this)}onNotIn(e,r){return this._not(!0).onIn(e,r)}orOnIn(e,r){return this._bool("or").onIn(e,r)}orOnNotIn(e,r){return this._bool("or")._not(!0).onIn(e,r)}onNull(e){return this.clauses.push({type:"onNull",column:e,not:this._not(),bool:this._bool()}),this}orOnNull(e){return this._bool("or").onNull(e)}onNotNull(e){return this._not(!0).onNull(e)}orOnNotNull(e){return this._not(!0)._bool("or").onNull(e)}onExists(e){return this.clauses.push({type:"onExists",value:e,not:this._not(),bool:this._bool()}),this}orOnExists(e){return this._bool("or").onExists(e)}onNotExists(e){return this._not(!0).onExists(e)}orOnNotExists(e){return this._not(!0)._bool("or").onExists(e)}type(e){return this.joinType=e,this}_bool(e){if(arguments.length===1)return this._boolFlag=e,this;let r=this._boolFlag||"and";return this._boolFlag="and",r}_not(e){if(arguments.length===1)return this._notFlag=e,this;let r=this._notFlag;return this._notFlag=!1,r}};Object.assign(K.prototype,{grouping:"join"});K.prototype.andOn=K.prototype.on;K.prototype.andOnIn=K.prototype.onIn;K.prototype.andOnNotIn=K.prototype.onNotIn;K.prototype.andOnNull=K.prototype.onNull;K.prototype.andOnNotNull=K.prototype.onNotNull;K.prototype.andOnExists=K.prototype.onExists;K.prototype.andOnNotExists=K.prototype.onNotExists;K.prototype.andOnBetween=K.prototype.onBetween;K.prototype.andOnNotBetween=K.prototype.onNotBetween;K.prototype.andOnJsonPathEquals=K.prototype.onJsonPathEquals;qx.exports=K});var Cx=c((rse,Tx)=>{var Sx=require("assert"),Gu=class{constructor(e,r,n,i,s){this.schema=r,this.type="analytic",this.method=e,this.order=i||[],this.partitions=s||[],this.alias=n,this.and=this,this.grouping="columns"}partitionBy(e,r){return Sx(Array.isArray(e)||typeof e=="string",`The argument to an analytic partitionBy function must be either a string\n            or an array of string.`),Array.isArray(e)?this.partitions=this.partitions.concat(e):this.partitions.push({column:e,order:r}),this}orderBy(e,r){return Sx(Array.isArray(e)||typeof e=="string",`The argument to an analytic orderBy function must be either a string\n            or an array of string.`),Array.isArray(e)?this.order=this.order.concat(e):this.order.push({column:e,order:r}),this}};Tx.exports=Gu});var vs=c((nse,Ox)=>{Ox.exports=function(e,r){e.client.config.asyncStackTraces&&(e._asyncStack={error:new Error,lines:r})}});var Ax=c((ise,Ix)=>{Ix.exports={lockMode:{forShare:"forShare",forUpdate:"forUpdate",forNoKeyUpdate:"forNoKeyUpdate",forKeyShare:"forKeyShare"},waitMode:{skipLocked:"skipLocked",noWait:"noWait"}}});var Es=c((sse,kx)=>{var Bz=Du(),Wz=Xt(),{callbackify:Uz}=require("util"),Hz=Lu(),{formatQuery:Qz}=Fu();function zz(t){t.prototype.toQuery=function(e){let r=this.toSQL(this._method,e);return Array.isArray(r)||(r=[r]),r.length?r.map(n=>Qz(n.sql,n.bindings,e,this.client)).reduce((n,i)=>n.concat(n.endsWith(";")?`\n`:`;\n`,i)):""},t.prototype.then=function(){let e=this.client.runner(this).run();return this.client.config.asyncStackTraces&&(e=e.catch(r=>{r.originalStack=r.stack;let n=r.stack.split(`\n`)[0],{error:i,lines:s}=this._asyncStack,a=i.stack.split(`\n`).slice(s);throw a.unshift(n),r.stack=a.join(`\n`),r})),e.then.apply(e,arguments)},t.prototype.options=function(e){return this._options=this._options||[],this._options.push(Bz(e)||{}),this},t.prototype.connection=function(e){return this._connection=e,this.client.processPassedConnection(e),this},t.prototype.debug=function(e){return this._debug=arguments.length?e:!0,this},t.prototype.transacting=function(e){if(e&&e.client&&(e.client.transacting?this.client=e.client:e.client.logger.warn(`Invalid transaction value: ${e.client}`)),Wz(e))throw this.client.logger.error("Invalid value on transacting call, potential bug"),Error("Invalid transacting value (null, undefined or empty object)");return this},t.prototype.stream=function(e){return this.client.runner(this).stream(e)},t.prototype.pipe=function(e,r){return this.client.runner(this).pipe(e,r)},t.prototype.asCallback=function(e){let r=this.then();return Uz(()=>r)(e),r},t.prototype.catch=function(e){return this.then().catch(e)},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:()=>"object"}),Hz(t.prototype)}kx.exports={augmentWithBuilderInterface:zz}});var Kr=c((ose,Rx)=>{var zr=require("assert"),{EventEmitter:Gz}=require("events"),Kz=It(),qs=Du(),Jz=_s(),Gr=Xt(),Nx=Zt(),Vz=$a(),Yz=X_(),Xz=Bn(),Px=Wn(),{addQueryContext:Zz,normalizeArr:Hn}=je(),Ku=zu(),eG=Cx(),tG=vs(),{isBoolean:Qn,isNumber:rG,isObject:mt,isString:Ju,isFunction:nG}=we(),{lockMode:At,waitMode:Ss}=Ax(),{augmentWithBuilderInterface:iG}=Es(),sG=new Set(["pluck","first","select"]),oG=new Set(["with","select","columns","hintComments","where","union","join","group","order","having","limit","offset","counter","counters"]),aG=new Set([At.forShare,At.forUpdate,At.forNoKeyUpdate,At.forKeyShare]),S=class extends Gz{constructor(e){super(),this.client=e,this.and=this,this._single={},this._statements=[],this._method="select",e.config&&(tG(this,5),this._debug=e.config.debug),this._joinFlag="inner",this._boolFlag="and",this._notFlag=!1,this._asColumnFlag=!1}toString(){return this.toQuery()}toSQL(e,r){return this.client.queryCompiler(this).toSQL(e||this._method,r)}clone(){let e=new this.constructor(this.client);return e._method=this._method,e._single=qs(this._single),e._statements=qs(this._statements),e._debug=this._debug,this._options!==void 0&&(e._options=qs(this._options)),this._queryContext!==void 0&&(e._queryContext=qs(this._queryContext)),this._connection!==void 0&&(e._connection=this._connection),e}timeout(e,{cancel:r}={}){return rG(e)&&e>0&&(this._timeout=e,r&&(this.client.assertCanCancelQuery(),this._cancelOnTimeout=!0)),this}isValidStatementArg(e){return typeof e=="function"||e instanceof S||e&&e.isRawInstance}_validateWithArgs(e,r,n,i){let[s,o]=typeof n=="undefined"?[r,void 0]:[n,r];if(typeof e!="string")throw new Error(`${i}() first argument must be a string`);if(this.isValidStatementArg(s)&&typeof o=="undefined")return;if(!(Array.isArray(o)&&o.length>0&&o.every(u=>typeof u=="string")))throw new Error(`${i}() second argument must be a statement or non-empty column name list.`);if(!this.isValidStatementArg(s))throw new Error(`${i}() third argument must be a function / QueryBuilder or a raw when its second argument is a column name list`)}with(e,r,n){return this._validateWithArgs(e,r,n,"with"),this.withWrapped(e,r,n)}withMaterialized(e,r,n){throw new Error("With materialized is not supported by this dialect")}withNotMaterialized(e,r,n){throw new Error("With materialized is not supported by this dialect")}withWrapped(e,r,n,i){let[s,o]=typeof n=="undefined"?[r,void 0]:[n,r],a={grouping:"with",type:"withWrapped",alias:e,columnList:o,value:s};return i!==void 0&&(a.materialized=i),this._statements.push(a),this}withRecursive(e,r,n){return this._validateWithArgs(e,r,n,"withRecursive"),this.withRecursiveWrapped(e,r,n)}withRecursiveWrapped(e,r,n){return this.withWrapped(e,r,n),this._statements[this._statements.length-1].recursive=!0,this}columns(e){return!e&&e!==0?this:(this._statements.push({grouping:"columns",value:Hn(...arguments)}),this)}as(e){return this._single.as=e,this}hintComment(e){if(e=Array.isArray(e)?e:[e],e.some(r=>!Ju(r)))throw new Error("Hint comment must be a string");if(e.some(r=>r.includes("/*")||r.includes("*/")))throw new Error(\'Hint comment cannot include "/*" or "*/"\');if(e.some(r=>r.includes("?")))throw new Error(\'Hint comment cannot include "?"\');return this._statements.push({grouping:"hintComments",value:e}),this}withSchema(e){return this._single.schema=e,this}table(e,r={}){return this._single.table=e,this._single.only=r.only===!0,this}distinct(...e){return this._statements.push({grouping:"columns",value:Hn(...e),distinct:!0}),this}distinctOn(...e){if(Gr(e))throw new Error("distinctOn requires at least on argument");return this._statements.push({grouping:"columns",value:Hn(...e),distinctOn:!0}),this}join(e,r,...n){let i,s=e instanceof S||typeof e=="function"?void 0:this._single.schema,o=this._joinType();return typeof r=="function"?(i=new Ku(e,o,s),r.call(i,i)):o==="raw"?i=new Ku(this.client.raw(e,r),"raw"):(i=new Ku(e,o,s),r&&i.on(r,...n)),this._statements.push(i),this}using(e){throw new Error("\'using\' function is only available in PostgreSQL dialect with Delete statements.")}innerJoin(...e){return this._joinType("inner").join(...e)}leftJoin(...e){return this._joinType("left").join(...e)}leftOuterJoin(...e){return this._joinType("left outer").join(...e)}rightJoin(...e){return this._joinType("right").join(...e)}rightOuterJoin(...e){return this._joinType("right outer").join(...e)}outerJoin(...e){return this._joinType("outer").join(...e)}fullOuterJoin(...e){return this._joinType("full outer").join(...e)}crossJoin(...e){return this._joinType("cross").join(...e)}joinRaw(...e){return this._joinType("raw").join(...e)}get or(){return this._bool("or")}get not(){return this._not(!0)}where(e,r,n){let i=arguments.length;if(e===!1||e===!0)return this.where(1,"=",e?1:0);if(typeof e=="function")return this.whereWrapped(e);if(mt(e)&&!e.isRawInstance)return this._objectWhere(e);if(e&&e.isRawInstance&&i===1)return this.whereRaw(e);if(i===2&&(n=r,r="=",n===null))return this.whereNull(e);let s=`${r}`.toLowerCase().trim();if(i===3){if(s==="in"||s==="not in")return this._not(s==="not in").whereIn(e,n);if(s==="between"||s==="not between")return this._not(s==="not between").whereBetween(e,n)}return n===null&&(s==="is"||s==="is not")?this._not(s==="is not").whereNull(e):(this._statements.push({grouping:"where",type:"whereBasic",column:e,operator:r,value:n,not:this._not(),bool:this._bool(),asColumn:this._asColumnFlag}),this)}whereColumn(...e){return this._asColumnFlag=!0,this.where(...e),this._asColumnFlag=!1,this}orWhere(e,...r){this._bool("or");let n=e;return mt(n)&&!n.isRawInstance?this.whereWrapped(function(){for(let i in n)this.andWhere(i,n[i])}):this.where(e,...r)}orWhereColumn(e,...r){this._bool("or");let n=e;return mt(n)&&!n.isRawInstance?this.whereWrapped(function(){for(let i in n)this.andWhereColumn(i,"=",n[i])}):this.whereColumn(e,...r)}whereNot(e,...r){return r.length>=2&&(r[0]==="in"||r[0]==="between")&&this.client.logger.warn(\'whereNot is not suitable for "in" and "between" type subqueries. You should use "not in" and "not between" instead.\'),this._not(!0).where(e,...r)}whereNotColumn(...e){return this._not(!0).whereColumn(...e)}orWhereNot(...e){return this._bool("or").whereNot(...e)}orWhereNotColumn(...e){return this._bool("or").whereNotColumn(...e)}_objectWhere(e){let r=this._bool(),n=this._not()?"Not":"";for(let i in e)this[r+"Where"+n](i,e[i]);return this}whereRaw(e,r){let n=e.isRawInstance?e:this.client.raw(e,r);return this._statements.push({grouping:"where",type:"whereRaw",value:n,not:this._not(),bool:this._bool()}),this}orWhereRaw(e,r){return this._bool("or").whereRaw(e,r)}whereWrapped(e){return this._statements.push({grouping:"where",type:"whereWrapped",value:e,not:this._not(),bool:this._bool()}),this}whereExists(e){return this._statements.push({grouping:"where",type:"whereExists",value:e,not:this._not(),bool:this._bool()}),this}orWhereExists(e){return this._bool("or").whereExists(e)}whereNotExists(e){return this._not(!0).whereExists(e)}orWhereNotExists(e){return this._bool("or").whereNotExists(e)}whereIn(e,r){return Array.isArray(r)&&Gr(r)?this.where(this._not()):(this._statements.push({grouping:"where",type:"whereIn",column:e,value:r,not:this._not(),bool:this._bool()}),this)}orWhereIn(e,r){return this._bool("or").whereIn(e,r)}whereNotIn(e,r){return this._not(!0).whereIn(e,r)}orWhereNotIn(e,r){return this._bool("or")._not(!0).whereIn(e,r)}whereNull(e){return this._statements.push({grouping:"where",type:"whereNull",column:e,not:this._not(),bool:this._bool()}),this}orWhereNull(e){return this._bool("or").whereNull(e)}whereNotNull(e){return this._not(!0).whereNull(e)}orWhereNotNull(e){return this._bool("or").whereNotNull(e)}whereBetween(e,r){return zr(Array.isArray(r),"The second argument to whereBetween must be an array."),zr(r.length===2,"You must specify 2 values for the whereBetween clause"),this._statements.push({grouping:"where",type:"whereBetween",column:e,value:r,not:this._not(),bool:this._bool()}),this}whereNotBetween(e,r){return this._not(!0).whereBetween(e,r)}orWhereBetween(e,r){return this._bool("or").whereBetween(e,r)}orWhereNotBetween(e,r){return this._bool("or").whereNotBetween(e,r)}_whereLike(e,r,n){return this._statements.push({grouping:"where",type:e,column:r,value:n,not:this._not(),bool:this._bool(),asColumn:this._asColumnFlag}),this}whereLike(e,r){return this._whereLike("whereLike",e,r)}orWhereLike(e,r){return this._bool("or")._whereLike("whereLike",e,r)}whereILike(e,r){return this._whereLike("whereILike",e,r)}orWhereILike(e,r){return this._bool("or")._whereLike("whereILike",e,r)}groupBy(e){return e&&e.isRawInstance?this.groupByRaw.apply(this,arguments):(this._statements.push({grouping:"group",type:"groupByBasic",value:Hn(...arguments)}),this)}groupByRaw(e,r){let n=e.isRawInstance?e:this.client.raw(e,r);return this._statements.push({grouping:"group",type:"groupByRaw",value:n}),this}orderBy(e,r,n=""){return Array.isArray(e)?this._orderByArray(e):(this._statements.push({grouping:"order",type:"orderByBasic",value:e,direction:r,nulls:n}),this)}_orderByArray(e){for(let r=0;r<e.length;r++){let n=e[r];mt(n)?this._statements.push({grouping:"order",type:"orderByBasic",value:n.column,direction:n.order,nulls:n.nulls}):Ju(n)&&this._statements.push({grouping:"order",type:"orderByBasic",value:n})}return this}orderByRaw(e,r){let n=e.isRawInstance?e:this.client.raw(e,r);return this._statements.push({grouping:"order",type:"orderByRaw",value:n}),this}_union(e,r){let n=r[0],i=r[1];if(r.length===1||r.length===2&&Qn(i)){Array.isArray(n)||(n=[n]);for(let s=0,o=n.length;s<o;s++)this._statements.push({grouping:"union",clause:e,value:n[s],wrap:i||!1})}else n=Px(r).slice(0,r.length-1),i=r[r.length-1],Qn(i)||(n.push(i),i=!1),this._union(e,[n,i]);return this}union(...e){return this._union("union",e)}unionAll(...e){return this._union("union all",e)}intersect(e,r){if(arguments.length===1||arguments.length===2&&Qn(r)){Array.isArray(e)||(e=[e]);for(let n=0,i=e.length;n<i;n++)this._statements.push({grouping:"union",clause:"intersect",value:e[n],wrap:r||!1})}else e=Px(arguments).slice(0,arguments.length-1),r=arguments[arguments.length-1],Qn(r)||(e.push(r),r=!1),this.intersect(e,r);return this}having(e,r,n){return e.isRawInstance&&arguments.length===1?this.havingRaw(e):typeof e=="function"?this.havingWrapped(e):(this._statements.push({grouping:"having",type:"havingBasic",column:e,operator:r,value:n,bool:this._bool(),not:this._not()}),this)}orHaving(e,...r){this._bool("or");let n=e;return mt(n)&&!n.isRawInstance?this.havingWrapped(function(){for(let i in n)this.andHaving(i,n[i])}):this.having(e,...r)}havingWrapped(e){return this._statements.push({grouping:"having",type:"havingWrapped",value:e,bool:this._bool(),not:this._not()}),this}havingNull(e){return this._statements.push({grouping:"having",type:"havingNull",column:e,not:this._not(),bool:this._bool()}),this}orHavingNull(e){return this._bool("or").havingNull(e)}havingNotNull(e){return this._not(!0).havingNull(e)}orHavingNotNull(e){return this._not(!0)._bool("or").havingNull(e)}havingExists(e){return this._statements.push({grouping:"having",type:"havingExists",value:e,not:this._not(),bool:this._bool()}),this}orHavingExists(e){return this._bool("or").havingExists(e)}havingNotExists(e){return this._not(!0).havingExists(e)}orHavingNotExists(e){return this._not(!0)._bool("or").havingExists(e)}havingBetween(e,r){return zr(Array.isArray(r),"The second argument to havingBetween must be an array."),zr(r.length===2,"You must specify 2 values for the havingBetween clause"),this._statements.push({grouping:"having",type:"havingBetween",column:e,value:r,not:this._not(),bool:this._bool()}),this}orHavingBetween(e,r){return this._bool("or").havingBetween(e,r)}havingNotBetween(e,r){return this._not(!0).havingBetween(e,r)}orHavingNotBetween(e,r){return this._not(!0)._bool("or").havingBetween(e,r)}havingIn(e,r){return Array.isArray(r)&&Gr(r)?this.where(this._not()):(this._statements.push({grouping:"having",type:"havingIn",column:e,value:r,not:this._not(),bool:this._bool()}),this)}orHavingIn(e,r){return this._bool("or").havingIn(e,r)}havingNotIn(e,r){return this._not(!0).havingIn(e,r)}orHavingNotIn(e,r){return this._bool("or")._not(!0).havingIn(e,r)}havingRaw(e,r){let n=e.isRawInstance?e:this.client.raw(e,r);return this._statements.push({grouping:"having",type:"havingRaw",value:n,bool:this._bool(),not:this._not()}),this}orHavingRaw(e,r){return this._bool("or").havingRaw(e,r)}_setSkipBinding(e,r){let n=r;mt(r)&&(n=r.skipBinding),this._single.skipBinding=this._single.skipBinding||{},this._single.skipBinding[e]=n}offset(e,r){if(e==null||e.isRawInstance||e instanceof S)this._single.offset=e;else{let n=parseInt(e,10);if(isNaN(n))this.client.logger.warn("A valid integer must be provided to offset");else{if(n<0)throw new Error("A non-negative integer must be provided to offset.");this._single.offset=n}}return this._setSkipBinding("offset",r),this}limit(e,r){let n=parseInt(e,10);return isNaN(n)?this.client.logger.warn("A valid integer must be provided to limit"):(this._single.limit=n,this._setSkipBinding("limit",r)),this}count(e,r){return this._aggregate("count",e||"*",r)}min(e,r){return this._aggregate("min",e,r)}max(e,r){return this._aggregate("max",e,r)}sum(e,r){return this._aggregate("sum",e,r)}avg(e,r){return this._aggregate("avg",e,r)}countDistinct(...e){let r;return e.length>1&&Nx(Vz(e))&&([r]=e.splice(e.length-1,1)),e.length?e.length===1&&(e=e[0]):e="*",this._aggregate("count",e,me($({},r),{distinct:!0}))}sumDistinct(e,r){return this._aggregate("sum",e,me($({},r),{distinct:!0}))}avgDistinct(e,r){return this._aggregate("avg",e,me($({},r),{distinct:!0}))}increment(e,r=1){if(mt(e)){for(let n in e)this._counter(n,e[n]);return this}return this._counter(e,r)}decrement(e,r=1){if(mt(e)){for(let n in e)this._counter(n,-e[n]);return this}return this._counter(e,-r)}clearCounters(){return this._single.counter={},this}first(...e){if(this._method&&this._method!=="select")throw new Error(`Cannot chain .first() on "${this._method}" query`);return this.select(Hn(...e)),this._method="first",this.limit(1),this}connection(e){return this._connection=e,this.client.processPassedConnection(e),this}pluck(e){if(this._method&&this._method!=="select")throw new Error(`Cannot chain .pluck() on "${this._method}" query`);return this._method="pluck",this._single.pluck=e,this._statements.push({grouping:"columns",type:"pluck",value:e}),this}clearSelect(){return this._clearGrouping("columns"),this}clearWhere(){return this._clearGrouping("where"),this}clearGroup(){return this._clearGrouping("group"),this}clearOrder(){return this._clearGrouping("order"),this}clearHaving(){return this._clearGrouping("having"),this}clear(e){if(!oG.has(e))throw new Error(`Knex Error: unknown statement \'${e}\'`);return e.startsWith("counter")?this.clearCounters():(e==="select"&&(e="columns"),this._clearGrouping(e),this)}insert(e,r,n){return this._method="insert",Gr(r)||this.returning(r,n),this._single.insert=e,this}update(e,r,n){let i,s=this._single.update||{};if(this._method="update",Ju(e))Nx(r)?s[e]=JSON.stringify(r):s[e]=r,arguments.length>2&&(i=arguments[2]);else{let o=Object.keys(e);this._single.update&&this.client.logger.warn("Update called multiple times with objects.");let a=-1;for(;++a<o.length;)s[o[a]]=e[o[a]];i=arguments[1]}return Gr(i)||this.returning(i,n),this._single.update=s,this}returning(e,r){return this._single.returning=e,this._single.options=r,this}onConflict(e){return typeof e=="string"&&(e=[e]),new Vu(this,e||!0)}delete(e,r){return this._method="del",Gr(e)||this.returning(e,r),this}truncate(e){return this._method="truncate",e&&(this._single.table=e),this}columnInfo(e){return this._method="columnInfo",this._single.columnInfo=e,this}forUpdate(...e){return this._single.lock=At.forUpdate,e.length===1&&Array.isArray(e[0])?this._single.lockTables=e[0]:this._single.lockTables=e,this}forShare(...e){return this._single.lock=At.forShare,this._single.lockTables=e,this}forNoKeyUpdate(...e){return this._single.lock=At.forNoKeyUpdate,this._single.lockTables=e,this}forKeyShare(...e){return this._single.lock=At.forKeyShare,this._single.lockTables=e,this}skipLocked(){if(!this._isSelectQuery())throw new Error(`Cannot chain .skipLocked() on "${this._method}" query!`);if(!this._hasLockMode())throw new Error(".skipLocked() can only be used after a call to .forShare() or .forUpdate()!");if(this._single.waitMode===Ss.noWait)throw new Error(".skipLocked() cannot be used together with .noWait()!");return this._single.waitMode=Ss.skipLocked,this}noWait(){if(!this._isSelectQuery())throw new Error(`Cannot chain .noWait() on "${this._method}" query!`);if(!this._hasLockMode())throw new Error(".noWait() can only be used after a call to .forShare() or .forUpdate()!");if(this._single.waitMode===Ss.skipLocked)throw new Error(".noWait() cannot be used together with .skipLocked()!");return this._single.waitMode=Ss.noWait,this}fromJS(e){return Jz(e,(r,n)=>{typeof this[n]!="function"&&this.client.logger.warn(`Knex Error: unknown key ${n}`),Array.isArray(r)?this[n].apply(this,r):this[n](r)}),this}fromRaw(e,r){let n=e.isRawInstance?e:this.client.raw(e,r);return this.from(n)}modify(e){return e.apply(this,[this].concat(Xz(arguments))),this}upsert(e,r,n){throw new Error(`Upsert is not yet supported for dialect ${this.client.dialect}`)}_json(e,r){return this._statements.push({grouping:"columns",type:"json",method:e,params:r}),this}jsonExtract(){let e=arguments[0],r,n,i=!0;return arguments.length>=2&&(r=arguments[1]),arguments.length>=3&&(n=arguments[2]),arguments.length===4&&(i=arguments[3]),arguments.length===2&&Array.isArray(arguments[0])&&Qn(arguments[1])&&(i=arguments[1]),this._json("jsonExtract",{column:e,path:r,alias:n,singleValue:i})}jsonSet(e,r,n,i){return this._json("jsonSet",{column:e,path:r,value:n,alias:i})}jsonInsert(e,r,n,i){return this._json("jsonInsert",{column:e,path:r,value:n,alias:i})}jsonRemove(e,r,n){return this._json("jsonRemove",{column:e,path:r,alias:n})}_isJsonObject(e){return mt(e)&&!(e instanceof S)}_whereJsonWrappedValue(e,r,n){let i={grouping:"where",type:e,column:r,value:n,not:this._not(),bool:this._bool(),asColumn:this._asColumnFlag};arguments[3]&&(i.operator=arguments[3]),arguments[4]&&(i.jsonPath=arguments[4]),this._statements.push(i)}whereJsonObject(e,r){return this._whereJsonWrappedValue("whereJsonObject",e,r),this}orWhereJsonObject(e,r,n){return this._bool("or").whereJsonObject(e,r,n)}whereNotJsonObject(e,r){return this._not(!0)._whereJsonWrappedValue("whereJsonObject",e,r),this}orWhereNotJsonObject(e,r,n){return this._not(!0)._bool("or").whereJsonObject(e,r,n)}whereJsonPath(e,r,n,i){return this._whereJsonWrappedValue("whereJsonPath",e,i,n,r),this}orWhereJsonPath(e,r,n,i){return this._bool("or").whereJsonPath(e,r,n,i)}whereJsonSupersetOf(e,r){return this._whereJsonWrappedValue("whereJsonSupersetOf",e,r),this}whereJsonNotSupersetOf(e,r){return this._not(!0).whereJsonSupersetOf(e,r),this}orWhereJsonSupersetOf(e,r){return this._whereJsonWrappedValue("whereJsonSupersetOf",e,r),this}orWhereJsonNotSupersetOf(e,r){return this._not(!0)._bool("or").whereJsonSupersetOf(e,r),this}whereJsonSubsetOf(e,r){return this._whereJsonWrappedValue("whereJsonSubsetOf",e,r),this}whereJsonNotSubsetOf(e,r){return this._not(!0).whereJsonSubsetOf(e,r),this}orWhereJsonSubsetOf(e,r){return this._whereJsonWrappedValue("whereJsonSubsetOf",e,r),this}orWhereJsonNotSubsetOf(e,r){return this._not(!0)._bool("or").whereJsonSubsetOf(e,r),this}whereJsonHasNone(e,r){return this._not(!0).whereJsonHasAll(e,r),this}_analytic(e,r,n){let i,{schema:s}=this._single,o=this._analyticMethod();if(e=typeof e=="string"?e:null,zr(typeof r=="function"||r.isRawInstance||Array.isArray(r)||typeof r=="string"||typeof r=="object",`The second argument to an analytic function must be either a function, a raw,\n       an array of string or object, an object or a single string.`),n&&zr(Array.isArray(n)||typeof n=="string"||typeof n=="object","The third argument to an analytic function must be either a string, an array of string or object or an object."),nG(r))i=new eG(o,s,e),r.call(i,i);else if(r.isRawInstance)i={grouping:"columns",type:"analytic",method:o,raw:r,alias:e};else{let a=Array.isArray(r)?r:[r],u=n||[];u=Array.isArray(u)?u:[u],i={grouping:"columns",type:"analytic",method:o,order:a,alias:e,partitions:u}}return this._statements.push(i),this}rank(...e){return this._analyticMethod("rank")._analytic(...e)}denseRank(...e){return this._analyticMethod("dense_rank")._analytic(...e)}rowNumber(...e){return this._analyticMethod("row_number")._analytic(...e)}_counter(e,r){return r=parseFloat(r),this._method="update",this._single.counter=this._single.counter||{},this._single.counter[e]=r,this}_bool(e){if(arguments.length===1)return this._boolFlag=e,this;let r=this._boolFlag;return this._boolFlag="and",r}_not(e){if(arguments.length===1)return this._notFlag=e,this;let r=this._notFlag;return this._notFlag=!1,r}_joinType(e){if(arguments.length===1)return this._joinFlag=e,this;let r=this._joinFlag||"inner";return this._joinFlag="inner",r}_analyticMethod(e){return arguments.length===1?(this._analyticFlag=e,this):this._analyticFlag||"row_number"}_aggregate(e,r,n={}){return this._statements.push({grouping:"columns",type:r.isRawInstance?"aggregateRaw":"aggregate",method:e,value:r,aggregateDistinct:n.distinct||!1,alias:n.as}),this}_clearGrouping(e){e in this._single?this._single[e]=void 0:this._statements=Yz(this._statements,{grouping:e})}_isSelectQuery(){return sG.has(this._method)}_hasLockMode(){return aG.has(this._single.lock)}};S.prototype.select=S.prototype.columns;S.prototype.column=S.prototype.columns;S.prototype.andWhereNot=S.prototype.whereNot;S.prototype.andWhereNotColumn=S.prototype.whereNotColumn;S.prototype.andWhere=S.prototype.where;S.prototype.andWhereColumn=S.prototype.whereColumn;S.prototype.andWhereRaw=S.prototype.whereRaw;S.prototype.andWhereBetween=S.prototype.whereBetween;S.prototype.andWhereNotBetween=S.prototype.whereNotBetween;S.prototype.andWhereJsonObject=S.prototype.whereJsonObject;S.prototype.andWhereNotJsonObject=S.prototype.whereJsonObject;S.prototype.andWhereJsonPath=S.prototype.whereJsonPath;S.prototype.andWhereLike=S.prototype.whereLike;S.prototype.andWhereILike=S.prototype.whereILike;S.prototype.andHaving=S.prototype.having;S.prototype.andHavingIn=S.prototype.havingIn;S.prototype.andHavingNotIn=S.prototype.havingNotIn;S.prototype.andHavingNull=S.prototype.havingNull;S.prototype.andHavingNotNull=S.prototype.havingNotNull;S.prototype.andHavingExists=S.prototype.havingExists;S.prototype.andHavingNotExists=S.prototype.havingNotExists;S.prototype.andHavingBetween=S.prototype.havingBetween;S.prototype.andHavingNotBetween=S.prototype.havingNotBetween;S.prototype.from=S.prototype.table;S.prototype.into=S.prototype.table;S.prototype.del=S.prototype.delete;iG(S);Zz(S);S.extend=(t,e)=>{if(Object.prototype.hasOwnProperty.call(S.prototype,t))throw new Error(`Can\'t extend QueryBuilder with existing method (\'${t}\').`);Kz(S.prototype,{[t]:e})};var Vu=class{constructor(e,r){this.builder=e,this._columns=r}ignore(){return this.builder._single.onConflict=this._columns,this.builder._single.ignore=!0,this.builder}merge(e){return this.builder._single.onConflict=this._columns,this.builder._single.merge={updates:e},this.builder}then(){throw new Error("Incomplete onConflict clause. .onConflict() must be directly followed by either .merge() or .ignore()")}};Rx.exports=S});var Mx=c((use,jx)=>{function uG(t,e,r,n){var i=-1,s=t==null?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}jx.exports=uG});var $x=c((cse,Lx)=>{function cG(t,e,r,n,i){return i(t,function(s,o,a){r=n?(n=!1,s):e(r,s,o,a)}),r}Lx.exports=cG});var Ts=c((lse,Fx)=>{var lG=Mx(),hG=tr(),fG=Qe(),dG=$x(),pG=V();function mG(t,e,r){var n=pG(t)?lG:dG,i=arguments.length<3;return n(t,fG(e,4),r,i,hG)}Fx.exports=mG});var Bx=c((hse,Dx)=>{var gG=Wi(),yG=Ta(),wG=ou(),bG=Qe(),_G=An(),xG=V(),vG=Ht(),EG=bn(),qG=Se(),SG=Qt();function TG(t,e,r){var n=xG(t),i=n||vG(t)||SG(t);if(e=bG(e,4),r==null){var s=t&&t.constructor;i?r=n?new s:[]:qG(t)?r=EG(s)?yG(_G(t)):{}:r={}}return(i?gG:wG)(t,function(o,a,u){return e(r,o,a,u)}),r}Dx.exports=TG});var zn=c((fse,Wx)=>{var{isObject:CG}=we();function OG(t,e,r,n){let i=r.queryBuilder();return t.call(i,i),r.queryCompiler(i,n.bindings).toSQL(e||i._method||"select")}function IG(t,e,r){let n=e.queryContext();return r.wrapIdentifier((t||"").trim(),n)}function AG(t,e,r){return t===void 0?"":t===null?"null":t&&t.isRawInstance?t.toQuery():e==="bool"?(t==="false"&&(t=0),`\'${t?1:0}\'`):(e==="json"||e==="jsonb")&&CG(t)?`\'${JSON.stringify(t)}\'`:r._escapeBinding(t.toString())}Wx.exports={compileCallback:OG,wrapAsIdentifier:IG,formatDefault:AG}});var gt=c((dse,Hx)=>{var kG=Bx(),Ux=Kr(),{compileCallback:Yu,wrapAsIdentifier:Cs}=zn(),NG=["asc","desc"],PG=kG(["=","<",">","<=",">=","<>","!=","like","not like","between","not between","ilike","not ilike","exists","not exist","rlike","not rlike","regexp","not regexp","match","&","|","^","<<",">>","~","~=","~*","!~","!~*","#","&&","@>","<@","||","&<","&>","-|-","@@","!!",["?","\\\\?"],["?|","\\\\?|"],["?&","\\\\?&"]],(t,e)=>{Array.isArray(e)?t[e[0]]=e[1]:t[e]=e},{});function RG(t,e,r,n){let i=Array.isArray(t)?t:[t],s="",o=-1;for(;++o<i.length;)o>0&&(s+=", "),s+=Os(i[o],void 0,e,r,n);return s}function Os(t,e,r,n,i){let s=Kn(t,e,r,n,i);if(s)return s;switch(typeof t){case"function":return Jn(Yu(t,void 0,n,i),!0,r,n);case"object":return MG(t,r,n,i);case"number":return t;default:return Gn(t+"",r,n)}}function Kn(t,e,r,n,i){let s;if(t instanceof Ux)return s=n.queryCompiler(t).toSQL(),s.bindings&&i.bindings.push(...s.bindings),Jn(s,e,r,n);if(t&&t.isRawInstance)return t.client=n,r._queryContext&&(t.queryContext=()=>r._queryContext),s=t.toSQL(),s.bindings&&i.bindings.push(...s.bindings),s.sql;e&&i.bindings.push(t)}function jG(t,e,r,n){let i=Kn(t,void 0,e,r,n);if(i)return i;let s=PG[(t||"").toLowerCase()];if(!s)throw new TypeError(`The operator "${t}" is not permitted`);return s}function Gn(t,e,r){let n=t.toLowerCase().indexOf(" as ");if(n!==-1){let a=t.slice(0,n),u=t.slice(n+4);return r.alias(Gn(a,e,r),Cs(u,e,r))}let i=[],s=-1,o=t.split(".");for(;++s<o.length;)t=o[s],s===0&&o.length>1?i.push(Gn((t||"").trim(),e,r)):i.push(Cs(t,e,r));return i.join(".")}function MG(t,e,r,n){let i=[];for(let s in t){let o=t[s];if(typeof o=="function"){let a=Yu(o,void 0,r,n);a.as=s,i.push(Jn(a,!0,e,r))}else o instanceof Ux?i.push(r.alias(`(${Os(o,void 0,e,r,n)})`,Cs(s,e,r))):i.push(r.alias(Os(o,void 0,e,r,n),Cs(s,e,r)))}return i.join(", ")}function Jn(t,e,r,n){let i=t.sql||"";return i&&(t.method==="select"||t.method==="first")&&(e||t.as)&&(i=`(${i})`,t.as)?n.alias(i,Gn(t.as,r,n)):i}function LG(t,e,r,n,i){return typeof t=="function"?Jn(Yu(t,e,n,i),void 0,r,n):Kn(t,void 0,r,n,i)||""}function $G(t,e,r,n){let i=Kn(t,void 0,e,r,n);return i||(NG.indexOf((t||"").toLowerCase())!==-1?t:"asc")}Hx.exports={columnize:RG,direction:$G,operator:jG,outputQuery:Jn,rawOrFn:LG,unwrapRaw:Kn,wrap:Os,wrapString:Gn}});var Gx=c((pse,zx)=>{var{columnize:Qx}=gt();function FG(t,e){let r={bindings:[]},n=t,i=t.bindings.length,s=t.bindings,o=0,a=t.sql.replace(/\\\\?\\?\\??/g,function(u){if(u==="\\\\?")return u;let l=s[o++];return u==="??"?Qx(l,n,e,r):e.parameter(l,n,r)});if(i!==o)throw new Error(`Expected ${i} bindings, saw ${o}`);return{method:"raw",sql:a,bindings:r.bindings}}function DG(t,e){let r={bindings:[]},n=t,i=t.bindings,s=/\\\\?(:(\\w+):(?=::)|:(\\w+):(?!:)|:(\\w+))/g;return{method:"raw",sql:t.sql.replace(s,function(a,u,l,h,f){if(a!==u)return u;let d=l||h||f,p=a.trim(),m=p[p.length-1]===":",y=i[d];return y===void 0?(Object.prototype.hasOwnProperty.call(i,d)&&r.bindings.push(y),a):m?a.replace(u,Qx(y,n,e,r)):a.replace(u,e.parameter(y,n,r))}),bindings:r.bindings}}zx.exports={replaceKeyBindings:DG,replaceRawArrBindings:FG}});var Is=c((mse,Kx)=>{var BG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",WG="0123456789";function UG(t=21){let e="",r=t;for(;r--;)e+=BG[Math.random()*64|0];return e}function HG(t=21){let e="",r=t;for(;r--;)e+=WG[Math.random()*10|0];return e}Kx.exports={nanoid:UG,nanonum:HG}});var Vn=c((gse,Jx)=>{var{EventEmitter:QG}=require("events"),zG=G(),GG=It(),KG=Zt(),JG=Ts(),{replaceRawArrBindings:VG,replaceKeyBindings:YG}=Gx(),Xu=je(),XG=vs(),{nanoid:ZG}=Is(),{isNumber:eK,isObject:tK}=we(),{augmentWithBuilderInterface:rK}=Es(),nK=zG("knex:bindings"),Jr=class extends QG{constructor(e){super(),this.client=e,this.sql="",this.bindings=[],this._wrappedBefore=void 0,this._wrappedAfter=void 0,e&&e.config&&(this._debug=e.config.debug,XG(this,4))}set(e,r){return this.sql=e,this.bindings=tK(r)&&!r.toSQL||r===void 0?r:[r],this}timeout(e,{cancel:r}={}){return eK(e)&&e>0&&(this._timeout=e,r&&(this.client.assertCanCancelQuery(),this._cancelOnTimeout=!0)),this}wrap(e,r){return this._wrappedBefore=e,this._wrappedAfter=r,this}toString(){return this.toQuery()}toSQL(e,r){let n;if(Array.isArray(this.bindings)?n=VG(this,this.client):this.bindings&&KG(this.bindings)?n=YG(this,this.client):n={method:"raw",sql:this.sql,bindings:this.bindings===void 0?[]:[this.bindings]},this._wrappedBefore&&(n.sql=this._wrappedBefore+n.sql),this._wrappedAfter&&(n.sql=n.sql+this._wrappedAfter),n.options=JG(this._options,GG,{}),this._timeout&&(n.timeout=this._timeout,this._cancelOnTimeout&&(n.cancelOnTimeout=this._cancelOnTimeout)),n.bindings=n.bindings||[],Xu.containsUndefined(n.bindings)){let i=Xu.getUndefinedIndices(this.bindings);throw nK(n.bindings),new Error(`Undefined binding(s) detected for keys [${i}] when compiling RAW query: ${n.sql}`)}return n.__knexQueryUid=ZG(),Object.defineProperties(n,{toNative:{value:()=>({sql:this.client.positionBindings(n.sql),bindings:this.client.prepBindings(n.bindings)}),enumerable:!1}}),n}};Jr.prototype.isRawInstance=!0;rK(Jr);Xu.addQueryContext(Jr);Jx.exports=Jr});var Yx=c((yse,Vx)=>{function iK(t){for(var e=-1,r=t==null?0:t.length,n=0,i=[];++e<r;){var s=t[e];s&&(i[n++]=s)}return i}Vx.exports=iK});var Zx=c((wse,Xx)=>{function sK(t,e,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}Xx.exports=sK});var tv=c((bse,ev)=>{var oK=tr();function aK(t,e,r,n){return oK(t,function(i,s,o){e(n,i,r(i),o)}),n}ev.exports=aK});var nv=c((_se,rv)=>{var uK=Zx(),cK=tv(),lK=Qe(),hK=V();function fK(t,e){return function(r,n){var i=hK(r)?uK:cK,s=e?e():{};return i(r,t,lK(n,2),s)}}rv.exports=fK});var Yn=c((xse,iv)=>{var dK=En(),pK=nv(),mK=Object.prototype,gK=mK.hasOwnProperty,yK=pK(function(t,e,r){gK.call(t,r)?t[r].push(e):dK(t,r,[e])});iv.exports=yK});var ov=c((vse,sv)=>{var wK=Object.prototype,bK=wK.hasOwnProperty;function _K(t,e){return t!=null&&bK.call(t,e)}sv.exports=_K});var Zu=c((Ese,av)=>{var xK=ov(),vK=iu();function EK(t,e){return t!=null&&vK(t,e,xK)}av.exports=EK});var ec=c((qse,uv)=>{var qK=Jt(),SK=Qe(),TK=au(),CK=V();function OK(t,e){var r=CK(t)?qK:TK;return r(t,SK(e,3))}uv.exports=OK});var hv=c((Sse,lv)=>{var IK=qn(),AK=Pn(),kK=Tn(),cv=Se(),NK=Ur();function PK(t,e,r,n){if(!cv(t))return t;e=AK(e,t);for(var i=-1,s=e.length,o=s-1,a=t;a!=null&&++i<s;){var u=NK(e[i]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return t;if(i!=o){var h=a[u];l=n?n(h,u,a):void 0,l===void 0&&(l=cv(h)?h:kK(e[i+1])?[]:{})}IK(a,u,l),a=a[u]}return t}lv.exports=PK});var dv=c((Tse,fv)=>{var RK=Rn(),jK=hv(),MK=Pn();function LK(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=RK(t,o);r(a,o)&&jK(s,MK(o,t),a)}return s}fv.exports=LK});var mv=c((Cse,pv)=>{var $K=Jt(),FK=Qe(),DK=dv(),BK=wa();function WK(t,e){if(t==null)return{};var r=$K(BK(t),function(n){return[n]});return e=FK(e),DK(t,r,function(n,i){return e(n,i[0])})}pv.exports=WK});var yv=c((Ose,gv)=>{var UK=Qe(),HK=Wu(),QK=mv();function zK(t,e){return QK(t,HK(UK(e)))}gv.exports=zK});var nc=c((Ise,vv)=>{var GK=je(),Vr=Vn(),As=Kr(),KK=zu(),JK=G(),wv=It(),Xn=Yx(),VK=Yn(),YK=Zu(),bv=Xt(),_v=ec(),XK=yv(),ZK=Ts(),{nanoid:eJ}=Is(),{isString:tc,isUndefined:tJ}=we(),{columnize:yt,direction:xv,operator:Zn,wrap:te,unwrapRaw:Yr,rawOrFn:kt}=gt(),rJ=JK("knex:bindings"),nJ=["columns","join","where","union","group","having","order","limit","offset","lock","waitMode"],rc=class{constructor(e,r,n){this.client=e,this.method=r._method||"select",this.options=r._options,this.single=r._single,this.timeout=r._timeout||!1,this.cancelOnTimeout=r._cancelOnTimeout||!1,this.grouped=VK(r._statements,"grouping"),this.formatter=e.formatter(r),this._emptyInsertValue="default values",this.first=this.select,this.bindings=n||[],this.formatter.bindings=this.bindings,this.bindingsHolder=this,this.builder=this.formatter.builder}toSQL(e,r){this._undefinedInWhereClause=!1,this.undefinedBindingsInfo=[],e=e||this.method;let n=this[e]()||"",i={method:e,options:ZK(this.options,wv,{}),timeout:this.timeout,cancelOnTimeout:this.cancelOnTimeout,bindings:this.bindingsHolder.bindings||[],__knexQueryUid:eJ()};if(Object.defineProperties(i,{toNative:{value:()=>({sql:this.client.positionBindings(i.sql),bindings:this.client.prepBindings(i.bindings)}),enumerable:!1}}),tc(n)?i.sql=n:wv(i,n),(e==="select"||e==="first")&&this.single.as&&(i.as=this.single.as),this._undefinedInWhereClause)throw rJ(i.bindings),new Error(`Undefined binding(s) detected when compiling ${e.toUpperCase()}. Undefined column(s): [${this.undefinedBindingsInfo.join(", ")}] query: ${i.sql}`);return i}select(){let e=this.with(),r="",n=[],i=[];nJ.forEach(o=>{let a=this[o](this);switch(o){case"union":r=a;break;case"columns":case"join":case"where":n.push(a);break;default:i.push(a);break}});let s=this.grouped.union&&this.grouped.union.map(o=>o.wrap).some(o=>o);if(this.onlyUnions()){let o=Xn(n.concat(i)).join(" ");e+=r+(o?" "+o:"")}else{let o=(s?"(":"")+Xn(n).join(" ")+(s?")":""),a=Xn(i).join(" ");e+=o+(r?" "+r:"")+(a&&" "+a)}return e}pluck(){let e=this.single.pluck;return e.indexOf(".")!==-1&&(e=e.split(".").slice(-1)[0]),{sql:this.select(),pluck:e}}insert(){let e=this.single.insert||[],r=this.with()+`insert into ${this.tableName} `,n=this._insertBody(e);return n===""?"":r+n}_onConflictClause(e){return e instanceof Vr?this.formatter.wrap(e):`(${this.formatter.columnize(e)})`}_buildInsertValues(e){let r="",n=-1;for(;++n<e.values.length;)n!==0&&(r+="), ("),r+=this.client.parameterize(e.values[n],this.client.valueForUndefined,this.builder,this.bindingsHolder);return r}_insertBody(e){let r="";if(Array.isArray(e)){if(e.length===0)return""}else if(typeof e=="object"&&bv(e))return r+this._emptyInsertValue;let n=this._prepInsert(e);return typeof n=="string"?r+=n:n.columns.length?(r+=`(${yt(n.columns,this.builder,this.client,this.bindingsHolder)}`,r+=") values ("+this._buildInsertValues(n)+")"):e.length===1&&e[0]?r+=this._emptyInsertValue:r="",r}update(){let e=this.with(),{tableName:r}=this,n=this._prepUpdate(this.single.update),i=this.where();return e+`update ${this.single.only?"only ":""}${r} set `+n.join(", ")+(i?` ${i}`:"")}_hintComments(){let e=this.grouped.hintComments||[];return e=e.map(r=>Xn(r.value).join(" ")),e=Xn(e).join(" "),e?`/*+ ${e} */ `:""}columns(){let e="";if(this.onlyUnions())return"";let r=this._hintComments(),n=this.grouped.columns||[],i=-1,s=[];if(n)for(;++i<n.length;){let a=n[i];if(a.distinct&&(e="distinct "),a.distinctOn){e=this.distinctOn(a.value);continue}a.type==="aggregate"?s.push(...this.aggregate(a)):a.type==="aggregateRaw"?s.push(this.aggregateRaw(a)):a.type==="analytic"?s.push(this.analytic(a)):a.type==="json"?s.push(this.json(a)):a.value&&a.value.length>0&&s.push(yt(a.value,this.builder,this.client,this.bindingsHolder))}return s.length===0&&(s=["*"]),`${this.onlyJson()?"":"select "}${r}${e}`+s.join(", ")+(this.tableName?` from ${this.single.only?"only ":""}${this.tableName}`:"")}_aggregate(e,{aliasSeparator:r=" as ",distinctParentheses:n}={}){let i=e.value,s=e.method,o=e.aggregateDistinct?"distinct ":"",a=m=>te(m,void 0,this.builder,this.client,this.bindingsHolder),u=(m,y)=>y?m+r+a(y):m,l=(m,y)=>{let _=m.map(a).join(", ");if(o){let A=n?"(":" ",j=n?")":"";_=o.trim()+A+_+j}let q=`${s}(${_})`;return u(q,y)},h=(m,y)=>{let _=`${s}(${o+a(m)})`;return u(_,y)};if(Array.isArray(i))return[l(i)];if(typeof i=="object"){if(e.alias)throw new Error("When using an object explicit alias can not be used");return Object.entries(i).map(([m,y])=>Array.isArray(y)?l(y,m):h(y,m))}let f=i.toLowerCase().indexOf(" as "),d=i,{alias:p}=e;if(f!==-1){if(d=i.slice(0,f),p)throw new Error(`Found multiple aliases for same column: ${d}`);p=i.slice(f+4)}return[h(d,p)]}aggregate(e){return this._aggregate(e)}aggregateRaw(e){let r=e.aggregateDistinct?"distinct ":"";return`${e.method}(${r+Yr(e.value,void 0,this.builder,this.client,this.bindingsHolder)})`}_joinTable(e){return e.schema&&!(e.table instanceof Vr)?`${e.schema}.${e.table}`:e.table}join(){let e="",r=-1,n=this.grouped.join;if(!n)return"";for(;++r<n.length;){let i=n[r],s=this._joinTable(i);if(r>0&&(e+=" "),i.joinType==="raw")e+=Yr(i.table,void 0,this.builder,this.client,this.bindingsHolder);else{e+=i.joinType+" join "+te(s,void 0,this.builder,this.client,this.bindingsHolder);let o=-1;for(;++o<i.clauses.length;){let a=i.clauses[o];o>0?e+=` ${a.bool} `:e+=` ${a.type==="onUsing"?"using":"on"} `;let u=this[a.type](a);u&&(e+=u)}}}return e}onBetween(e){return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+this._not(e,"between")+" "+e.value.map(r=>this.client.parameter(r,this.builder,this.bindingsHolder)).join(" and ")}onNull(e){return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" is "+this._not(e,"null")}onExists(e){return this._not(e,"exists")+" ("+kt(e.value,void 0,this.builder,this.client,this.bindingsHolder)+")"}onIn(e){if(Array.isArray(e.column))return this.multiOnIn(e);let r;return e.value instanceof Vr?r=this.client.parameter(e.value,this.builder,this.formatter):r=this.client.parameterize(e.value,void 0,this.builder,this.bindingsHolder),te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+this._not(e,"in ")+this.wrap(r)}multiOnIn(e){let r=-1,n=`(${yt(e.column,this.builder,this.client,this.bindingsHolder)}) `;for(n+=this._not(e,"in ")+"((";++r<e.value.length;)r!==0&&(n+="),("),n+=this.client.parameterize(e.value[r],void 0,this.builder,this.bindingsHolder);return n+"))"}where(){let e=this.grouped.where;if(!e)return;let r=[],n=-1;for(;++n<e.length;){let i=e[n];Object.prototype.hasOwnProperty.call(i,"value")&&GK.containsUndefined(i.value)&&(this.undefinedBindingsInfo.push(i.column),this._undefinedInWhereClause=!0);let s=this[i.type](i);s&&(r.length===0?r[0]="where":r.push(i.bool),r.push(s))}return r.length>1?r.join(" "):""}group(){return this._groupsOrders("group")}order(){return this._groupsOrders("order")}having(){let e=this.grouped.having;if(!e)return"";let r=["having"];for(let n=0,i=e.length;n<i;n++){let s=e[n],o=this[s.type](s);o&&(r.length===0&&(r[0]="where"),(r.length>1||r.length===1&&r[0]!=="having")&&r.push(s.bool),r.push(o))}return r.length>1?r.join(" "):""}havingRaw(e){return this._not(e,"")+Yr(e.value,void 0,this.builder,this.client,this.bindingsHolder)}havingWrapped(e){let r=kt(e.value,"where",this.builder,this.client,this.bindingsHolder);return r&&this._not(e,"")+"("+r.slice(6)+")"||""}havingBasic(e){return this._not(e,"")+te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+Zn(e.operator,this.builder,this.client,this.bindingsHolder)+" "+this.client.parameter(e.value,this.builder,this.bindingsHolder)}havingNull(e){return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" is "+this._not(e,"null")}havingExists(e){return this._not(e,"exists")+" ("+kt(e.value,void 0,this.builder,this.client,this.bindingsHolder)+")"}havingBetween(e){return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+this._not(e,"between")+" "+e.value.map(r=>this.client.parameter(r,this.builder,this.bindingsHolder)).join(" and ")}havingIn(e){return Array.isArray(e.column)?this.multiHavingIn(e):te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+this._not(e,"in ")+this.wrap(this.client.parameterize(e.value,void 0,this.builder,this.bindingsHolder))}multiHavingIn(e){return this.multiOnIn(e)}union(){let e=this.onlyUnions(),r=this.grouped.union;if(!r)return"";let n="";for(let i=0,s=r.length;i<s;i++){let o=r[i];i>0&&(n+=" "),(i>0||!e)&&(n+=o.clause+" ");let a=kt(o.value,void 0,this.builder,this.client,this.bindingsHolder);if(a){let u=o.wrap;u&&(n+="("),n+=a,u&&(n+=")")}}return n}onlyUnions(){return(!this.grouped.columns||!!this.grouped.columns[0].value)&&this.grouped.union&&!this.tableName}_getValueOrParameterFromAttribute(e,r){return this.single.skipBinding[e]===!0?r!=null?r:this.single[e]:this.client.parameter(this.single[e],this.builder,this.bindingsHolder)}onlyJson(){return!this.tableName&&this.grouped.columns&&this.grouped.columns.length===1&&this.grouped.columns[0].type==="json"}limit(){return!this.single.limit&&this.single.limit!==0?"":`limit ${this._getValueOrParameterFromAttribute("limit")}`}offset(){return this.single.offset?`offset ${this._getValueOrParameterFromAttribute("offset")}`:""}del(){let{tableName:e}=this,r=this.with(),n=this.where(),i=this.join(),s=i?e+" ":"";return r+`delete ${s}from ${this.single.only?"only ":""}${e}`+(i?` ${i}`:"")+(n?` ${n}`:"")}truncate(){return`truncate ${this.tableName}`}lock(){if(this.single.lock)return this[this.single.lock]()}waitMode(){if(this.single.waitMode)return this[this.single.waitMode]()}skipLocked(){throw new Error(".skipLocked() is currently only supported on MySQL 8.0+ and PostgreSQL 9.5+")}noWait(){throw new Error(".noWait() is currently only supported on MySQL 8.0+, MariaDB 10.3.0+ and PostgreSQL 9.5+")}distinctOn(e){throw new Error(".distinctOn() is currently only supported on PostgreSQL")}onWrapped(e){let r=this,n=new KK;e.value.call(n,n);let i="";for(let s=0;s<n.clauses.length;s++){let o=n.clauses[s];s>0&&(i+=` ${o.bool} `);let a=r[o.type](o);a&&(i+=a)}return i.length?`(${i})`:""}onBasic(e){let r=e.value instanceof As;return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+Zn(e.operator,this.builder,this.client,this.bindingsHolder)+" "+(r?"(":"")+te(e.value,void 0,this.builder,this.client,this.bindingsHolder)+(r?")":"")}onVal(e){return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+Zn(e.operator,this.builder,this.client,this.bindingsHolder)+" "+this.client.parameter(e.value,this.builder,this.bindingsHolder)}onRaw(e){return Yr(e.value,void 0,this.builder,this.client,this.bindingsHolder)}onUsing(e){return"("+yt(e.column,this.builder,this.client,this.bindingsHolder)+")"}_valueClause(e){return e.asColumn?te(e.value,void 0,this.builder,this.client,this.bindingsHolder):this.client.parameter(e.value,this.builder,this.bindingsHolder)}_columnClause(e){let r;return Array.isArray(e.column)?r=`(${yt(e.column,this.builder,this.client,this.bindingsHolder)})`:r=te(e.column,void 0,this.builder,this.client,this.bindingsHolder),r}whereIn(e){let r=this.client.values(e.value,this.builder,this.bindingsHolder);return`${this._columnClause(e)} ${this._not(e,"in ")}${r}`}whereLike(e){return`${this._columnClause(e)} ${this._not(e,"like ")}${this._valueClause(e)}`}whereILike(e){return`${this._columnClause(e)} ${this._not(e,"ilike ")}${this._valueClause(e)}`}whereNull(e){return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" is "+this._not(e,"null")}whereBasic(e){return this._not(e,"")+te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+Zn(e.operator,this.builder,this.client,this.bindingsHolder)+" "+this._valueClause(e)}whereExists(e){return this._not(e,"exists")+" ("+kt(e.value,void 0,this.builder,this.client,this.bindingsHolder)+")"}whereWrapped(e){let r=kt(e.value,"where",this.builder,this.client,this.bindingsHolder);return r&&this._not(e,"")+"("+r.slice(6)+")"||""}whereBetween(e){return te(e.column,void 0,this.builder,this.client,this.bindingsHolder)+" "+this._not(e,"between")+" "+e.value.map(r=>this.client.parameter(r,this.builder,this.bindingsHolder)).join(" and ")}whereRaw(e){return this._not(e,"")+Yr(e.value,void 0,this.builder,this.client,this.bindingsHolder)}_jsonWrapValue(e){if(!this.builder._isJsonObject(e))try{return JSON.stringify(JSON.parse(e.replace(/\\n|\\t/g,"")))}catch(r){return e}return JSON.stringify(e)}_jsonValueClause(e){return e.value=this._jsonWrapValue(e.value),this._valueClause(e)}whereJsonObject(e){return`${this._columnClause(e)} ${e.not?"!=":"="} ${this._jsonValueClause(e)}`}wrap(e){return e.charAt(0)!=="("?`(${e})`:e}json(e){return this[e.method](e.params)}analytic(e){let r="",n=this;return r+=e.method+"() over (",e.raw?r+=e.raw:(e.partitions.length&&(r+="partition by ",r+=_v(e.partitions,function(i){return tc(i)?n.formatter.columnize(i):n.formatter.columnize(i.column)+(i.order?" "+i.order:"")}).join(", ")+" "),r+="order by ",r+=_v(e.order,function(i){return tc(i)?n.formatter.columnize(i):n.formatter.columnize(i.column)+(i.order?" "+i.order:"")}).join(", ")),r+=")",e.alias&&(r+=" as "+e.alias),r}with(){if(!this.grouped.with||!this.grouped.with.length)return"";let e=this.grouped.with;if(!e)return;let r=[],n=-1,i=!1;for(;++n<e.length;){let s=e[n];s.recursive&&(i=!0);let o=this[s.type](s);r.push(o)}return`with ${i?"recursive ":""}${r.join(", ")} `}withWrapped(e){let r=kt(e.value,void 0,this.builder,this.client,this.bindingsHolder),n=e.columnList?"("+yt(e.columnList,this.builder,this.client,this.bindingsHolder)+")":"",i=e.materialized===void 0?"":e.materialized?"materialized ":"not materialized ";return r&&yt(e.alias,this.builder,this.client,this.bindingsHolder)+n+" as "+i+"("+r+")"||""}_not(e,r){return e.not?`not ${r}`:r}_prepInsert(e){let r=kt(e,void 0,this.builder,this.client,this.bindingsHolder);if(r)return r;let n=[],i=[];Array.isArray(e)||(e=e?[e]:[]);let s=-1;for(;++s<e.length&&e[s]!=null;){s===0&&(n=Object.keys(e[s]).sort());let o=new Array(n.length),a=Object.keys(e[s]),u=-1;for(;++u<a.length;){let l=a[u],h=n.indexOf(l);if(h===-1){n=n.concat(l).sort(),h=n.indexOf(l);let f=-1;for(;++f<i.length;)i[f].splice(h,0,void 0);o.splice(h,0,void 0)}o[h]=e[s][l]}i.push(o)}return{columns:n,values:i}}_prepUpdate(e={}){let{counter:r={}}=this.single;for(let o of Object.keys(r)){if(YK(e,o)){this.client.logger.warn("increment/decrement called for a column that has already been specified in main .update() call. Ignoring increment/decrement and using value from .update() call.");continue}let a=r[o],u=a<0?"-":"+";u==="-"&&(a=-a),e[o]=this.client.raw(`?? ${u} ?`,[o,a])}e=XK(e,tJ);let n=[],i=Object.keys(e),s=-1;for(;++s<i.length;)n.push(te(i[s],void 0,this.builder,this.client,this.bindingsHolder)+" = "+this.client.parameter(e[i[s]],this.builder,this.bindingsHolder));if(bv(n))throw new Error(["Empty .update() call detected!","Update data does not contain any values to update.","This will result in a faulty query.",this.single.table?`Table: ${this.single.table}.`:"",this.single.update?`Columns: ${Object.keys(this.single.update)}.`:""].join(" "));return n}_formatGroupsItemValue(e,r){let{formatter:n}=this,i="";r==="last"?i=" is null":r==="first"&&(i=" is not null");let s;return e instanceof Vr?s=Yr(e,void 0,this.builder,this.client,this.bindingsHolder):e instanceof As||r?s="("+n.columnize(e)+i+")":s=n.columnize(e),s}_basicGroupOrder(e,r){let n=this._formatGroupsItemValue(e.value,e.nulls),i=r==="order"&&e.type!=="orderByRaw"?` ${xv(e.direction,this.builder,this.client,this.bindingsHolder)}`:"";return n+i}_groupOrder(e,r){return this._basicGroupOrder(e,r)}_groupOrderNulls(e,r){let n=this._formatGroupsItemValue(e.value),i=r==="order"&&e.type!=="orderByRaw"?` ${xv(e.direction,this.builder,this.client,this.bindingsHolder)}`:"";return e.nulls&&!(e.value instanceof Vr)?`${n}${i||""} nulls ${e.nulls}`:n+i}_groupsOrders(e){let r=this.grouped[e];if(!r)return"";let n=r.map(i=>this._groupOrder(i,e));return n.length?e+" by "+n.join(", "):""}get tableName(){if(!this._tableName){let e=this.single.table,r=this.single.schema;if(e&&r){let n=e instanceof As,i=e instanceof Vr;!n&&!i&&!(typeof e=="function")&&(e=`${r}.${e}`)}this._tableName=e?te(e,e instanceof As,this.builder,this.client,this.bindingsHolder):""}return this._tableName}_jsonPathWrap(e){return this.client.parameter(e.path||e[1],this.builder,this.bindingsHolder)}_jsonExtract(e,r){let n;return Array.isArray(r.column)?n=r.column:n=[r],Array.isArray(e)||(e=[e]),n.map(i=>{let s=`${yt(i.column||i[0],this.builder,this.client,this.bindingsHolder)}, ${this._jsonPathWrap(i)}`;e.forEach(a=>{s=a+"("+s+")"});let o=i.alias||i[2];return o?this.client.alias(s,this.formatter.wrap(o)):s}).join(", ")}_jsonSet(e,r){let n=`${e}(${yt(r.column,this.builder,this.client,this.bindingsHolder)}, ${this.client.parameter(r.path,this.builder,this.bindingsHolder)}, ${this.client.parameter(r.value,this.builder,this.bindingsHolder)})`;return r.alias?this.client.alias(n,this.formatter.wrap(r.alias)):n}_whereJsonPath(e,r){return`${e}(${this._columnClause(r)}, ${this._jsonPathWrap({path:r.jsonPath})}) ${Zn(r.operator,this.builder,this.client,this.bindingsHolder)} ${this._jsonValueClause(r)}`}_onJsonPathEquals(e,r){return e+"("+te(r.columnFirst,void 0,this.builder,this.client,this.bindingsHolder)+", "+this.client.parameter(r.jsonPathFirst,this.builder,this.bindingsHolder)+") = "+e+"("+te(r.columnSecond,void 0,this.builder,this.client,this.bindingsHolder)+", "+this.client.parameter(r.jsonPathSecond,this.builder,this.bindingsHolder)+")"}};vv.exports=rc});var ic=c((Ase,Ev)=>{var{EventEmitter:iJ}=require("events"),sJ=Wn(),oJ=It(),{addQueryContext:aJ}=je(),uJ=vs(),{augmentWithBuilderInterface:cJ}=Es(),wt=class extends iJ{constructor(e){super(),this.client=e,this._sequence=[],e.config&&(this._debug=e.config.debug,uJ(this,4))}withSchema(e){return this._schema=e,this}toString(){return this.toQuery()}toSQL(){return this.client.schemaCompiler(this).toSQL()}async generateDdlCommands(){return await this.client.schemaCompiler(this).generateDdlCommands()}};["createTable","createTableIfNotExists","createTableLike","createView","createViewOrReplace","createMaterializedView","refreshMaterializedView","dropView","dropViewIfExists","dropMaterializedView","dropMaterializedViewIfExists","createSchema","createSchemaIfNotExists","dropSchema","dropSchemaIfExists","createExtension","createExtensionIfNotExists","dropExtension","dropExtensionIfExists","table","alterTable","view","alterView","hasTable","hasColumn","dropTable","renameTable","renameView","dropTableIfExists","raw"].forEach(function(t){wt.prototype[t]=function(){return t==="createTableIfNotExists"&&this.client.logger.warn(["Use async .hasTable to check if table exists and then use plain .createTable. Since ",\'.createTableIfNotExists actually just generates plain "CREATE TABLE IF NOT EXIST..." \',"query it will not work correctly if there are any alter table queries generated for ","columns afterwards. To not break old migrations this function is left untouched for now",", but it should not be used when writing new code and it is removed from documentation."].join("")),t==="table"&&(t="alterTable"),t==="view"&&(t="alterView"),this._sequence.push({method:t,args:sJ(arguments)}),this}});wt.extend=(t,e)=>{if(Object.prototype.hasOwnProperty.call(wt.prototype,t))throw new Error(`Can\'t extend SchemaBuilder with existing method (\'${t}\').`);oJ(wt.prototype,{[t]:e})};cJ(wt);aJ(wt);Ev.exports=wt});var ei=c((kse,Sv)=>{var lJ=Bn(),{isString:qv}=we();function hJ(t){!t||(qv(t)&&(t={sql:t}),t.bindings||(t.bindings=this.bindingsHolder.bindings),this.sequence.push(t),this.formatter=this.client.formatter(this._commonBuilder),this.bindings=[],this.formatter.bindings=this.bindings)}function fJ(t){let e=new this.constructor(this.client,this.tableCompiler,this.columnBuilder);t.call(e,lJ(arguments)),this.sequence.additional=(this.sequence.additional||[]).concat(e.sequence)}function dJ(t){!t||(qv(t)&&(t={sql:t}),t.bindings||(t.bindings=this.bindingsHolder.bindings),this.sequence.unshift(t),this.formatter=this.client.formatter(this._commonBuilder),this.bindings=[],this.formatter.bindings=this.bindings)}Sv.exports={pushAdditional:fJ,pushQuery:hJ,unshiftQuery:dJ}});var ac=c((Nse,Tv)=>{var{pushQuery:pJ,pushAdditional:mJ,unshiftQuery:gJ}=ei(),ue=class{constructor(e,r){this.builder=r,this._commonBuilder=this.builder,this.client=e,this.schema=r._schema,this.bindings=[],this.bindingsHolder=this,this.formatter=e.formatter(r),this.formatter.bindings=this.bindings,this.sequence=[]}createSchema(){ks("createSchema")}createSchemaIfNotExists(){ks("createSchemaIfNotExists")}dropSchema(){ks("dropSchema")}dropSchemaIfExists(){ks("dropSchemaIfExists")}dropTable(e){this.pushQuery(this.dropTablePrefix+this.formatter.wrap(sc(this.schema,e)))}dropTableIfExists(e){this.pushQuery(this.dropTablePrefix+"if exists "+this.formatter.wrap(sc(this.schema,e)))}dropView(e){this._dropView(e,!1,!1)}dropViewIfExists(e){this._dropView(e,!0,!1)}dropMaterializedView(e){throw new Error("materialized views are not supported by this dialect.")}dropMaterializedViewIfExists(e){throw new Error("materialized views are not supported by this dialect.")}renameView(e,r){throw new Error("rename view is not supported by this dialect (instead drop then create another view).")}refreshMaterializedView(){throw new Error("materialized views are not supported by this dialect.")}_dropView(e,r,n){this.pushQuery((n?this.dropMaterializedViewPrefix:this.dropViewPrefix)+(r?"if exists ":"")+this.formatter.wrap(sc(this.schema,e)))}raw(e,r){this.sequence.push(this.client.raw(e,r).toSQL())}toSQL(){let e=this.builder._sequence;for(let r=0,n=e.length;r<n;r++){let i=e[r];this[i.method].apply(this,i.args)}return this.sequence}async generateDdlCommands(){let e=this.toSQL();return{pre:[],sql:Array.isArray(e)?e:[e],check:null,post:[]}}};ue.prototype.dropTablePrefix="drop table ";ue.prototype.dropViewPrefix="drop view ";ue.prototype.dropMaterializedViewPrefix="drop materialized view ";ue.prototype.alterViewPrefix="alter view ";ue.prototype.alterTable=Ns("alter");ue.prototype.createTable=Ns("create");ue.prototype.createTableIfNotExists=Ns("createIfNot");ue.prototype.createTableLike=Ns("createLike");ue.prototype.createView=Ps("create");ue.prototype.createViewOrReplace=Ps("createOrReplace");ue.prototype.createMaterializedView=Ps("createMaterializedView");ue.prototype.alterView=Ps("alter");ue.prototype.pushQuery=pJ;ue.prototype.pushAdditional=mJ;ue.prototype.unshiftQuery=gJ;function oc(t){let e=this.builder.queryContext();e!==void 0&&t.queryContext()===void 0&&t.queryContext(e),t.setSchema(this.schema);let r=t.toSQL();for(let n=0,i=r.length;n<i;n++)this.sequence.push(r[n])}function Ns(t){return t==="createLike"?function(e,r,n){let i=this.client.tableBuilder(t,e,r,n);oc.call(this,i)}:function(e,r){let n=this.client.tableBuilder(t,e,null,r);oc.call(this,n)}}function Ps(t){return function(e,r){let n=this.client.viewBuilder(t,e,r);oc.call(this,n)}}function sc(t,e){return t?`${t}.${e}`:e}function ks(t){throw new Error(`${t} is not supported for this dialect (only PostgreSQL supports it currently).`)}Tv.exports=ue});var Ov=c((Pse,Cv)=>{var yJ=ht(),wJ=Mn(),bJ=dt(),_J=wJ(function(t,e){yJ(e,bJ(e),t)});Cv.exports=_J});var Rs=c((Rse,Iv)=>{Iv.exports=Ov()});var cc=c((jse,kv)=>{var xJ=_s(),Av=Rs(),vJ=It(),js=Wn(),EJ=je(),{isString:qJ,isFunction:SJ,isObject:TJ}=we(),Ze=class{constructor(e,r,n,i,s){if(this.client=e,this._fn=s,this._method=r,this._schemaName=void 0,this._tableName=n,this._tableNameLike=i,this._statements=[],this._single={},!i&&!SJ(this._fn))throw new TypeError("A callback function must be supplied to calls against `.createTable` and `.table`")}setSchema(e){this._schemaName=e}toSQL(){return this._method==="alter"&&Av(this,uc),this._fn&&this._fn.call(this,this),this.client.tableCompiler(this).toSQL()}timestamps(e,r,n){TJ(e)&&({useTimestamps:e,defaultToNow:r,useCamelCase:n}=e);let i=e===!0?"timestamp":"datetime",s=this[i](n?"createdAt":"created_at"),o=this[i](n?"updatedAt":"updated_at");if(r===!0){let a=this.client.raw("CURRENT_TIMESTAMP");s.notNullable().defaultTo(a),o.notNullable().defaultTo(a)}}comment(e){if(typeof e!="string")throw new TypeError("Table comment must be string");this._single.comment=e}foreign(e,r){let n={column:e,keyName:r};this._statements.push({grouping:"alterTable",method:"foreign",args:[n]});let i={references(s){let o;return qJ(s)&&(o=s.split(".")),!o||o.length===1?(n.references=o?o[0]:s,{on(a){if(typeof a!="string")throw new TypeError(`Expected tableName to be a string, got: ${typeof a}`);return n.inTable=a,i},inTable(){return this.on.apply(this,arguments)}}):(n.inTable=o[0],n.references=o[1],i)},withKeyName(s){return n.keyName=s,i},onUpdate(s){return n.onUpdate=s,i},onDelete(s){return n.onDelete=s,i},deferrable:s=>{if(["mysql","mssql","redshift","mysql2","oracledb"].indexOf(this.client.dialect)!==-1)throw new Error(`${this.client.dialect} does not support deferrable`);return n.deferrable=s,i},_columnBuilder(s){return Av(s,i),i=s,s}};return i}check(e,r,n){return this._statements.push({grouping:"checks",args:[e,r,n]}),this}};["index","primary","unique","dropPrimary","dropUnique","dropIndex","dropForeign"].forEach(t=>{Ze.prototype[t]=function(){return this._statements.push({grouping:"alterTable",method:t,args:js(arguments)}),this}});var CJ={mysql:["engine","charset","collate"],postgresql:["inherits"]};xJ(CJ,function(t,e){t.forEach(function(r){Ze.prototype[r]=function(n){if(this.client.dialect!==e)throw new Error(`Knex only supports ${r} statement with ${e}.`);if(this._method==="alter")throw new Error(`Knex does not support altering the ${r} outside of create table, please use knex.raw statement.`);this._single[r]=n}})});EJ.addQueryContext(Ze);var OJ=["tinyint","smallint","mediumint","int","bigint","decimal","float","double","real","bit","boolean","serial","date","datetime","timestamp","time","year","geometry","geography","point","char","varchar","tinytext","tinyText","text","mediumtext","mediumText","longtext","longText","binary","varbinary","tinyblob","tinyBlob","mediumblob","mediumBlob","blob","longblob","longBlob","enum","set","bool","dateTime","increments","bigincrements","bigIncrements","integer","biginteger","bigInteger","string","json","jsonb","uuid","enu","specificType"];OJ.forEach(t=>{Ze.prototype[t]=function(){let e=js(arguments),r=this.client.columnBuilder(this,t,e);return this._statements.push({grouping:"columns",builder:r}),r}});var uc={renameColumn(t,e){return this._statements.push({grouping:"alterTable",method:"renameColumn",args:[t,e]}),this},dropTimestamps(){return this.dropColumns(arguments[0]===!0?["createdAt","updatedAt"]:["created_at","updated_at"])},setNullable(t){return this._statements.push({grouping:"alterTable",method:"setNullable",args:[t]}),this},check(t,e,r){this._statements.push({grouping:"alterTable",method:"check",args:[t,e,r]})},dropChecks(){this._statements.push({grouping:"alterTable",method:"dropChecks",args:js(arguments)})},dropNullable(t){return this._statements.push({grouping:"alterTable",method:"dropNullable",args:[t]}),this}};uc.dropColumn=uc.dropColumns=function(){return this._statements.push({grouping:"alterTable",method:"dropColumn",args:js(arguments)}),this};Ze.extend=(t,e)=>{if(Object.prototype.hasOwnProperty.call(Ze.prototype,t))throw new Error(`Can\'t extend TableBuilder with existing method (\'${t}\').`);vJ(Ze.prototype,{[t]:e})};kv.exports=Ze});var Pv=c((Mse,Nv)=>{var IJ=ts(),AJ=ms(),kJ=Math.max;function NJ(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:AJ(r);return i<0&&(i=kJ(n+i,0)),IJ(t,e,i)}Nv.exports=NJ});var lc=c((Lse,jv)=>{var{pushAdditional:PJ,pushQuery:RJ,unshiftQuery:jJ}=ei(),MJ=je(),LJ=Yn(),$J=Pv(),Rv=Xt(),FJ=Bn(),{normalizeArr:DJ}=je(),Me=class{constructor(e,r){this.client=e,this.tableBuilder=r,this._commonBuilder=this.tableBuilder,this.method=r._method,this.schemaNameRaw=r._schemaName,this.tableNameRaw=r._tableName,this.tableNameLikeRaw=r._tableNameLike,this.single=r._single,this.grouped=LJ(r._statements,"grouping"),this.formatter=e.formatter(r),this.bindings=[],this.formatter.bindings=this.bindings,this.bindingsHolder=this,this.sequence=[],this._formatting=e.config&&e.config.formatting,this.checksCount=0}toSQL(){return this[this.method](),this.sequence}create(e,r){let i=this.getColumns().map(o=>o.toSQL()),s=this.getColumnTypes(i);this.createAlterTableMethods&&this.alterTableForCreate(s),this.createQuery(s,e,r),this.columnQueries(i),delete this.single.comment,this.alterTable()}createIfNot(){this.create(!0)}createLike(){this.create(!1,!0)}createLikeIfNot(){this.create(!0,!0)}alter(){let r=this.getColumns().map(a=>a.toSQL()),n=this.getColumns("alter"),i=n.map(a=>a.toSQL()),s=this.getColumnTypes(r),o=this.getColumnTypes(i);this.addColumns(s),this.alterColumns(o,n),this.columnQueries(r),this.columnQueries(i),this.alterTable()}foreign(e){if(e.inTable&&e.references){let r=e.keyName?this.formatter.wrap(e.keyName):this._indexCommand("foreign",this.tableNameRaw,e.column),n=this.formatter.columnize(e.column),i=this.formatter.columnize(e.references),s=this.formatter.wrap(e.inTable),o=e.onUpdate?(this.lowerCase?" on update ":" ON UPDATE ")+e.onUpdate:"",a=e.onDelete?(this.lowerCase?" on delete ":" ON DELETE ")+e.onDelete:"",u=e.deferrable?this.lowerCase?` deferrable initially ${e.deferrable.toLowerCase()} `:` DEFERRABLE INITIALLY ${e.deferrable.toUpperCase()} `:"";this.lowerCase?this.pushQuery((this.forCreate?"":`alter table ${this.tableName()} add `)+"constraint "+r+" foreign key ("+n+") references "+s+" ("+i+")"+o+a+u):this.pushQuery((this.forCreate?"":`ALTER TABLE ${this.tableName()} ADD `)+"CONSTRAINT "+r+" FOREIGN KEY ("+n+") REFERENCES "+s+" ("+i+")"+o+a+u)}}getColumnTypes(e){return e.reduce(function(r,n){let i=n[0];return r.sql.push(i.sql),r.bindings.concat(i.bindings),r},{sql:[],bindings:[]})}columnQueries(e){let r=e.reduce(function(n,i){let s=FJ(i);return Rv(s)?n:n.concat(s)},[]);for(let n of r)this.pushQuery(n)}addColumns(e,r){if(r=r||this.addColumnsPrefix,e.sql.length>0){let n=e.sql.map(i=>r+i);this.pushQuery({sql:(this.lowerCase?"alter table ":"ALTER TABLE ")+this.tableName()+" "+n.join(", "),bindings:e.bindings})}}alterColumns(e,r){e.sql.length>0&&this.addColumns(e,this.alterColumnsPrefix,r)}getColumns(e){let r=this.grouped.columns||[];e=e||"add";let n=this.tableBuilder.queryContext();return r.filter(i=>i.builder._method===e).map(i=>(n!==void 0&&i.builder.queryContext()===void 0&&i.builder.queryContext(n),this.client.columnCompiler(this,i.builder)))}tableName(){let e=this.schemaNameRaw?`${this.schemaNameRaw}.${this.tableNameRaw}`:this.tableNameRaw;return this.formatter.wrap(e)}tableNameLike(){let e=this.schemaNameRaw?`${this.schemaNameRaw}.${this.tableNameLikeRaw}`:this.tableNameLikeRaw;return this.formatter.wrap(e)}alterTable(){let e=this.grouped.alterTable||[];for(let r=0,n=e.length;r<n;r++){let i=e[r];this[i.method]?this[i.method].apply(this,i.args):this.client.logger.error(`Debug: ${i.method} does not exist`)}for(let r in this.single)typeof this[r]=="function"&&this[r](this.single[r])}alterTableForCreate(e){this.forCreate=!0;let r=this.sequence,n=this.grouped.alterTable||[];this.grouped.alterTable=[];for(let i=0,s=n.length;i<s;i++){let o=n[i];if($J(this.createAlterTableMethods,o.method)<0){this.grouped.alterTable.push(o);continue}this[o.method]?(this.sequence=[],this[o.method].apply(this,o.args),e.sql.push(this.sequence[0].sql)):this.client.logger.error(`Debug: ${o.method} does not exist`)}this.sequence=r,this.forCreate=!1}dropIndex(e){this.pushQuery(`drop index${e}`)}dropUnique(){throw new Error("Method implemented in the dialect driver")}dropForeign(){throw new Error("Method implemented in the dialect driver")}dropColumn(){let e=MJ.normalizeArr.apply(null,arguments),r=(Array.isArray(e)?e:[e]).map(n=>this.dropColumnPrefix+this.formatter.wrap(n));this.pushQuery((this.lowerCase?"alter table ":"ALTER TABLE ")+this.tableName()+" "+r.join(", "))}_setNullableState(e,r){let n=this.tableName(),i=this.formatter.columnize(e),s=this.alterColumnsPrefix;return this.pushQuery({sql:"SELECT 1",output:()=>this.client.queryBuilder().from(this.tableNameRaw).columnInfo(e).then(o=>{if(Rv(o))throw new Error(`.setNullable: Column ${i} does not exist in table ${n}.`);let a=r?"null":"not null",u=o.type+(o.maxLength?`(${o.maxLength})`:""),l=o.defaultValue!==null&&o.defaultValue!==void 0?`default \'${o.defaultValue}\'`:"",h=`alter table ${n} ${s} ${i} ${u} ${a} ${l}`;return this.client.raw(h)})})}setNullable(e){return this._setNullableState(e,!0)}dropNullable(e){return this._setNullableState(e,!1)}dropChecks(e){if(e===void 0)return"";e=DJ(e);let n=`alter table ${this.tableName()} ${e.map(i=>`drop constraint ${i}`).join(", ")}`;this.pushQuery(n)}check(e,r,n){let i=this.tableName(),s=n;s||(this.checksCount++,s=i+"_"+this.checksCount);let o=`alter table ${i} add constraint ${s} check(${e})`;this.pushQuery(o)}_addChecks(){return this.grouped.checks?", "+this.grouped.checks.map(e=>`${e.args[2]?"constraint "+e.args[2]+" ":""}check (${this.client.raw(e.args[0],e.args[1])})`).join(", "):""}_indexCommand(e,r,n){Array.isArray(n)||(n=n?[n]:[]);let s=(r.replace(/\\.|-/g,"_")+"_"+n.join("_")+"_"+e).toLowerCase();return this.formatter.wrap(s)}_getPrimaryKeys(){return(this.grouped.alterTable||[]).filter(e=>e.method==="primary").flatMap(e=>e.args).flat()}_canBeAddPrimaryKey(e){return e.primaryKey&&this._getPrimaryKeys().length===0}_getIncrementsColumnNames(){return this.grouped.columns.filter(e=>e.builder._type==="increments").map(e=>e.builder._args[0])}};Me.prototype.pushQuery=RJ;Me.prototype.pushAdditional=PJ;Me.prototype.unshiftQuery=jJ;Me.prototype.lowerCase=!0;Me.prototype.createAlterTableMethods=null;Me.prototype.addColumnsPrefix="add column ";Me.prototype.alterColumnsPrefix="alter column ";Me.prototype.modifyColumnPrefix="modify column ";Me.prototype.dropColumnPrefix="drop column ";jv.exports=Me});var hc=c(($se,Lv)=>{var BJ=Rs(),WJ=It(),Mv=Wn(),{addQueryContext:UJ}=je(),ze=class{constructor(e,r,n,i){this.client=e,this._method="add",this._single={},this._modifiers={},this._statements=[],this._type=zJ[n]||n,this._args=i,this._tableBuilder=r,r._method==="alter"&&BJ(this,Ms)}references(e){return this._tableBuilder.foreign.call(this._tableBuilder,this._args[0],void 0,this)._columnBuilder(this).references(e)}},HJ=["default","defaultsTo","defaultTo","unsigned","nullable","first","after","comment","collate","check","checkPositive","checkNegative","checkIn","checkNotIn","checkBetween","checkLength","checkRegex"],QJ={default:"defaultTo",defaultsTo:"defaultTo"};HJ.forEach(function(t){let e=QJ[t]||t;ze.prototype[t]=function(){return this._modifiers[e]=Mv(arguments),this}});UJ(ze);ze.prototype.notNull=ze.prototype.notNullable=function(){return this.nullable(!1)};["index","primary","unique"].forEach(function(t){ze.prototype[t]=function(){return this._type.toLowerCase().indexOf("increments")===-1&&this._tableBuilder[t].apply(this._tableBuilder,[this._args[0]].concat(Mv(arguments))),this}});ze.extend=(t,e)=>{if(Object.prototype.hasOwnProperty.call(ze.prototype,t))throw new Error(`Can\'t extend ColumnBuilder with existing method (\'${t}\').`);WJ(ze.prototype,{[t]:e})};var Ms={};Ms.drop=function(){return this._single.drop=!0,this};Ms.alterType=function(t){return this._statements.push({grouping:"alterType",value:t}),this};Ms.alter=function({alterNullable:t=!0,alterType:e=!0}={}){return this._method="alter",this.alterNullable=t,this.alterType=e,this};var zJ={float:"floating",enum:"enu",boolean:"bool",string:"varchar",bigint:"bigInteger"};Lv.exports=ze});var Fv=c((Fse,$v)=>{function GJ(t){return t&&t.length?t[0]:void 0}$v.exports=GJ});var Bv=c((Dse,Dv)=>{Dv.exports=Fv()});var pc=c((Bse,Wv)=>{var dc=ei(),KJ=Yn(),JJ=Bv(),VJ=Zu(),YJ=Bn(),{toNumber:Xr}=je(),{formatDefault:XJ}=zn(),{operator:fc}=gt(),H=class{constructor(e,r,n){this.client=e,this.tableCompiler=r,this.columnBuilder=n,this._commonBuilder=this.columnBuilder,this.args=n._args,this.type=n._type.toLowerCase(),this.grouped=KJ(n._statements,"grouping"),this.modified=n._modifiers,this.isIncrements=this.type.indexOf("increments")!==-1,this.formatter=e.formatter(n),this.bindings=[],this.formatter.bindings=this.bindings,this.bindingsHolder=this,this.sequence=[],this.modifiers=[],this.checksCount=0}_addCheckModifiers(){this.modifiers.push("check","checkPositive","checkNegative","checkIn","checkNotIn","checkBetween","checkLength","checkRegex")}defaults(e){if(Object.prototype.hasOwnProperty.call(this._defaultMap,e))return this._defaultMap[e].bind(this)();throw new Error(`There is no default for the specified identifier ${e}`)}toSQL(){return this.pushQuery(this.compileColumn()),this.sequence.additional&&(this.sequence=this.sequence.concat(this.sequence.additional)),this.sequence}compileColumn(){return this.formatter.wrap(this.getColumnName())+" "+this.getColumnType()+this.getModifiers()}getColumnName(){return JJ(this.args)||this.defaults("columnName")}getColumnType(){if(!this._columnType){let e=this[this.type];this._columnType=typeof e=="function"?e.apply(this,YJ(this.args)):e}return this._columnType}getModifiers(){let e=[];for(let r=0,n=this.modifiers.length;r<n;r++){let i=this.modifiers[r];if((!this.isIncrements||this.isIncrements&&i==="comment")&&VJ(this.modified,i)){let s=this[i].apply(this,this.modified[i]);s&&e.push(s)}}return e.length>0?` ${e.join(" ")}`:""}varchar(e){return`varchar(${Xr(e,255)})`}floating(e,r){return`float(${Xr(e,8)}, ${Xr(r,2)})`}decimal(e,r){if(e===null)throw new Error("Specifying no precision on decimal columns is not supported for that SQL dialect.");return`decimal(${Xr(e,8)}, ${Xr(r,2)})`}specifictype(e){return e}nullable(e){return e===!1?"not null":"null"}notNullable(){return this.nullable(!1)}defaultTo(e){return`default ${XJ(e,this.type,this.client)}`}increments(e={primaryKey:!0}){return"integer not null"+(this.tableCompiler._canBeAddPrimaryKey(e)?" primary key":"")+" autoincrement"}bigincrements(e={primaryKey:!0}){return this.increments(e)}_pushAlterCheckQuery(e,r){let n=r;n||(this.checksCount++,n=this.tableCompiler.tableNameRaw+"_"+this.getColumnName()+"_"+this.checksCount),this.pushAdditional(function(){this.pushQuery(`alter table ${this.tableCompiler.tableName()} add constraint ${n} check(${e})`)})}_checkConstraintName(e){return e?`constraint ${e} `:""}_check(e,r){return this.columnBuilder._method==="alter"?(this._pushAlterCheckQuery(e,r),""):`${this._checkConstraintName(r)}check (${e})`}checkPositive(e){return this._check(`${this.formatter.wrap(this.getColumnName())} ${fc(">",this.columnBuilder,this.bindingsHolder)} 0`,e)}checkNegative(e){return this._check(`${this.formatter.wrap(this.getColumnName())} ${fc("<",this.columnBuilder,this.bindingsHolder)} 0`,e)}_checkIn(e,r,n){return this._check(`${this.formatter.wrap(this.getColumnName())} ${n?"not ":""}in (${e.map(i=>this.client._escapeBinding(i)).join(",")})`,r)}checkIn(e,r){return this._checkIn(e,r)}checkNotIn(e,r){return this._checkIn(e,r,!0)}checkBetween(e,r){e.length===2&&!Array.isArray(e[0])&&!Array.isArray(e[1])&&(e=[e]);let n=e.map(i=>`${this.formatter.wrap(this.getColumnName())} between ${this.client._escapeBinding(i[0])} and ${this.client._escapeBinding(i[1])}`).join(" or ");return this._check(n,r)}checkLength(e,r,n){return this._check(`length(${this.formatter.wrap(this.getColumnName())}) ${fc(e,this.columnBuilder,this.bindingsHolder)} ${Xr(r)}`,n)}};H.prototype.binary="blob";H.prototype.bool="boolean";H.prototype.date="date";H.prototype.datetime="datetime";H.prototype.time="time";H.prototype.timestamp="timestamp";H.prototype.geometry="geometry";H.prototype.geography="geography";H.prototype.point="point";H.prototype.enu="varchar";H.prototype.bit=H.prototype.json="text";H.prototype.uuid=({useBinaryUuid:t=!1,primaryKey:e=!1}={})=>t?"binary(16)":"char(36)";H.prototype.integer=H.prototype.smallint=H.prototype.mediumint="integer";H.prototype.biginteger="bigint";H.prototype.text="text";H.prototype.tinyint="tinyint";H.prototype.pushQuery=dc.pushQuery;H.prototype.pushAdditional=dc.pushAdditional;H.prototype.unshiftQuery=dc.unshiftQuery;H.prototype._defaultMap={columnName:function(){if(!this.isIncrements)throw new Error(`You did not specify a column name for the ${this.type} column.`);return"id"}};Wv.exports=H});var Hv=c((Wse,Uv)=>{var ZJ=Vn(),mc=class extends ZJ{constructor(e,r){super(e),this.ref=r,this._schema=null,this._alias=null}withSchema(e){return this._schema=e,this}as(e){return this._alias=e,this}toSQL(){let e=this._schema?`${this._schema}.${this.ref}`:this.ref,r=this.client.formatter(this),n=r.columnize(e),i=this._alias?`${n} as ${r.wrap(this._alias)}`:n;return this.set(i,[]),super.toSQL(...arguments)}};Uv.exports=mc});var yc=c((Use,Qv)=>{var{columnize:eV,wrap:tV}=gt(),gc=class{constructor(e,r){this.client=e,this.builder=r,this.bindings=[]}columnize(e){return eV(e,this.builder,this.client,this)}wrap(e,r){return tV(e,r,this.builder,this.client,this)}};Qv.exports=gc});var wc=c((Hse,zv)=>{var rV=je(),nV=Rs(),iV=It(),rr=class{constructor(e,r,n,i){this.client=e,this._method=r,this._schemaName=void 0,this._columns=void 0,this._fn=i,this._viewName=n,this._statements=[],this._single={}}setSchema(e){this._schemaName=e}columns(e){this._columns=e}as(e){this._selectQuery=e}checkOption(){throw new Error("check option definition is not supported by this dialect.")}localCheckOption(){throw new Error("check option definition is not supported by this dialect.")}cascadedCheckOption(){throw new Error("check option definition is not supported by this dialect.")}toSQL(){return this._method==="alter"&&nV(this,sV),this._fn.call(this,this),this.client.viewCompiler(this).toSQL()}},sV={column(t){let e=this;return{rename:function(r){return e._statements.push({grouping:"alterView",method:"renameColumn",args:[t,r]}),this},defaultTo:function(r){return e._statements.push({grouping:"alterView",method:"defaultTo",args:[t,r]}),this}}}};rV.addQueryContext(rr);rr.extend=(t,e)=>{if(Object.prototype.hasOwnProperty.call(rr.prototype,t))throw new Error(`Can\'t extend ViewBuilder with existing method (\'${t}\').`);iV(rr.prototype,{[t]:e})};zv.exports=rr});var bc=c((Qse,Gv)=>{var{pushQuery:oV}=ei(),aV=Yn(),{columnize:uV}=gt(),Ls=class{constructor(e,r){this.client=e,this.viewBuilder=r,this._commonBuilder=this.viewBuilder,this.method=r._method,this.schemaNameRaw=r._schemaName,this.viewNameRaw=r._viewName,this.single=r._single,this.selectQuery=r._selectQuery,this.columns=r._columns,this.grouped=aV(r._statements,"grouping"),this.formatter=e.formatter(r),this.bindings=[],this.formatter.bindings=this.bindings,this.bindingsHolder=this,this.sequence=[]}toSQL(){return this[this.method](),this.sequence}create(){this.createQuery(this.columns,this.selectQuery)}createOrReplace(){throw new Error("replace views is not supported by this dialect.")}createMaterializedView(){throw new Error("materialized views are not supported by this dialect.")}createQuery(e,r,n,i){let s="create "+(n?"materialized ":"")+(i?"or replace ":"")+"view ",o=e?" ("+uV(e,this.viewBuilder,this.client,this.bindingsHolder)+")":"",a=s+this.viewName()+o;switch(a+=" as ",a+=r.toString(),this.single.checkOption){case"default_option":a+=" with check option";break;case"local":a+=" with local check option";break;case"cascaded":a+=" with cascaded check option";break;default:break}this.pushQuery({sql:a})}renameView(e,r){throw new Error("rename view is not supported by this dialect (instead drop, then create another view).")}refreshMaterializedView(){throw new Error("materialized views are not supported by this dialect.")}alter(){this.alterView()}alterView(){let e=this.grouped.alterView||[];for(let r=0,n=e.length;r<n;r++){let i=e[r];this[i.method]?this[i.method].apply(this,i.args):this.client.logger.error(`Debug: ${i.method} does not exist`)}for(let r in this.single)typeof this[r]=="function"&&this[r](this.single[r])}renameColumn(e,r){throw new Error("rename column of views is not supported by this dialect.")}defaultTo(e,r){throw new Error("change default values of views is not supported by this dialect.")}viewName(){let e=this.schemaNameRaw?`${this.schemaNameRaw}.${this.viewNameRaw}`:this.viewNameRaw;return this.formatter.wrap(e)}};Ls.prototype.pushQuery=oV;Gv.exports=Ls});var Fs=c((zse,Jv)=>{var{Pool:cV,TimeoutError:lV}=Sh(),{EventEmitter:hV}=require("events"),{promisify:fV}=require("util"),{makeEscape:dV}=kh(),pV=dm(),mV=ka(),gV=Na(),yV=Qm(),wV=$u(),{executeQuery:bV,enrichQueryObject:Kv}=Fu(),_V=Kr(),xV=nc(),vV=ic(),EV=ac(),qV=cc(),SV=lc(),TV=hc(),CV=pc(),{KnexTimeoutError:OV}=Fr(),{outputQuery:IV,unwrapRaw:AV}=gt(),{compileCallback:kV}=zn(),NV=Vn(),PV=Hv(),RV=yc(),jV=hs(),{POOL_CONFIG_OPTIONS:MV}=xs(),LV=wc(),$V=bc(),FV=Zt(),_c=G()("knex:client"),$s=class extends hV{constructor(e={}){if(super(),this.config=e,this.logger=new jV(e),this.dialect&&!this.config.client&&this.logger.warn("Using \'this.dialect\' to identify the client is deprecated and support for it will be removed in the future. Please use configuration option \'client\' instead."),!(this.config.client||this.dialect))throw new Error("knex: Required configuration option \'client\' is missing.");e.version&&(this.version=e.version),e.connection&&e.connection instanceof Function?(this.connectionConfigProvider=e.connection,this.connectionConfigExpirationChecker=()=>!0):(this.connectionSettings=pV(e.connection||{}),this.connectionConfigExpirationChecker=null),this.driverName&&e.connection&&(this.initializeDriver(),(!e.pool||e.pool&&e.pool.max!==0)&&this.initializePool(e)),this.valueForUndefined=this.raw("DEFAULT"),e.useNullAsDefault&&(this.valueForUndefined=null)}formatter(e){return new RV(this,e)}queryBuilder(){return new _V(this)}queryCompiler(e,r){return new xV(this,e,r)}schemaBuilder(){return new vV(this)}schemaCompiler(e){return new EV(this,e)}tableBuilder(e,r,n,i){return new qV(this,e,r,n,i)}viewBuilder(e,r,n){return new LV(this,e,r,n)}tableCompiler(e){return new SV(this,e)}viewCompiler(e){return new $V(this,e)}columnBuilder(e,r,n){return new TV(this,e,r,n)}columnCompiler(e,r){return new CV(this,e,r)}runner(e){return new yV(this,e)}transaction(e,r,n){return new wV(this,e,r,n)}raw(){return new NV(this).set(...arguments)}ref(){return new PV(this,...arguments)}query(e,r){let n=Kv(e,r,this);return bV(e,n,this)}stream(e,r,n,i){let s=Kv(e,r,this);return this._stream(e,s,n,i)}prepBindings(e){return e}positionBindings(e){return e}postProcessResponse(e,r){return this.config.postProcessResponse?this.config.postProcessResponse(e,r):e}wrapIdentifier(e,r){return this.customWrapIdentifier(e,this.wrapIdentifierImpl,r)}customWrapIdentifier(e,r,n){return this.config.wrapIdentifier?this.config.wrapIdentifier(e,r,n):r(e)}wrapIdentifierImpl(e){return e!=="*"?`"${e.replace(/"/g,\'""\')}"`:"*"}initializeDriver(){try{this.driver=this._driver()}catch(e){let r=`Knex: run\n$ npm install ${this.driverName} --save`;throw this.logger.error(`${r}\n${e.message}\n${e.stack}`),new Error(`${r}\n${e.message}`)}}poolDefaults(){return{min:2,max:10,propagateCreateError:!0}}getPoolSettings(e){e=mV({},e,this.poolDefaults()),MV.forEach(i=>{i in e&&this.logger.warn([`Pool config option "${i}" is no longer supported.`,"See https://github.com/Vincit/tarn.js for possible pool config options."].join(" "))});let r=[this.config.acquireConnectionTimeout||6e4,e.acquireTimeoutMillis].filter(i=>i!==void 0);e.acquireTimeoutMillis=Math.min(...r);let n=async()=>{if(!this.connectionConfigProvider||!this.connectionConfigExpirationChecker||!this.connectionConfigExpirationChecker())return;let i=await this.connectionConfigProvider();i.expirationChecker?(this.connectionConfigExpirationChecker=i.expirationChecker,delete i.expirationChecker):this.connectionConfigExpirationChecker=null,this.connectionSettings=i};return Object.assign(e,{create:async()=>{await n();let i=await this.acquireRawConnection();return i.__knexUid=gV("__knexUid"),e.afterCreate&&await fV(e.afterCreate)(i),i},destroy:i=>{if(i!==void 0)return this.destroyRawConnection(i)},validate:i=>i.__knex__disposed?(this.logger.warn(`Connection Error: ${i.__knex__disposed}`),!1):this.validateConnection(i)})}initializePool(e=this.config){if(this.pool){this.logger.warn("The pool has already been initialized");return}let r=$({},this.getPoolSettings(e.pool));r.afterCreate&&delete r.afterCreate,this.pool=new cV(r)}validateConnection(e){return!0}async acquireConnection(){if(!this.pool)throw new Error("Unable to acquire a connection");try{let e=await this.pool.acquire().promise;return _c("acquired connection from pool: %s",e.__knexUid),e}catch(e){let r=e;throw e instanceof lV&&(r=new OV("Knex: Timeout acquiring a connection. The pool is probably full. Are you missing a .transacting(trx) call?")),r}}releaseConnection(e){return _c("releasing connection to pool: %s",e.__knexUid),this.pool.release(e)||_c("pool refused connection: %s",e.__knexUid),Promise.resolve()}async destroy(e){try{this.pool&&this.pool.destroy&&await this.pool.destroy(),this.pool=void 0,typeof e=="function"&&e()}catch(r){if(typeof e=="function")return e(r);throw r}}database(){return this.connectionSettings.database}toString(){return"[object KnexClient]"}assertCanCancelQuery(){if(!this.canCancelQuery)throw new Error("Query cancelling not supported for this dialect")}cancelQuery(){throw new Error("Query cancelling not supported for this dialect")}alias(e,r){return e+" as "+r}parameter(e,r,n){return typeof e=="function"?IV(kV(e,void 0,this,n),!0,r,this):AV(e,!0,r,this,n)||"?"}parameterize(e,r,n,i){if(typeof e=="function")return this.parameter(e,n,i);e=Array.isArray(e)?e:[e];let s="",o=-1;for(;++o<e.length;){o>0&&(s+=", ");let a=e[o];(FV(a)||Array.isArray(a))&&(a=JSON.stringify(a)),s+=this.parameter(a===void 0?r:a,n,i)}return s}values(e,r,n){return Array.isArray(e)?Array.isArray(e[0])?`(${e.map(i=>`(${this.parameterize(i,void 0,r,n)})`).join(", ")})`:`(${this.parameterize(e,void 0,r,n)})`:e&&e.isRawInstance?`(${this.parameter(e,r,n)})`:this.parameter(e,r,n)}processPassedConnection(e){}toPathForJson(e){return e}};Object.assign($s.prototype,{_escapeBinding:dV({escapeString(t){return`\'${t.replace(/\'/g,"\'\'")}\'`}}),canCancelQuery:!1});Jv.exports=$s});var Yv=c((Kse,Vv)=>{"use strict";var DV=require("url"),xc=require("fs");function vc(t){if(t.charAt(0)==="/"){var r=t.split(" ");return{host:r[0],database:r[1]}}var e=DV.parse(/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(t)?encodeURI(t).replace(/\\%25(\\d\\d)/g,"%$1"):t,!0),r=e.query;for(var n in r)Array.isArray(r[n])&&(r[n]=r[n][r[n].length-1]);var i=(e.auth||":").split(":");if(r.user=i[0],r.password=i.splice(1).join(":"),r.port=e.port,e.protocol=="socket:")return r.host=decodeURI(e.pathname),r.database=e.query.db,r.client_encoding=e.query.encoding,r;r.host||(r.host=e.hostname);var s=e.pathname;if(!r.host&&s&&/^%2f/i.test(s)){var o=s.split("/");r.host=decodeURIComponent(o[0]),s=o.splice(1).join("/")}switch(s&&s.charAt(0)==="/"&&(s=s.slice(1)||null),r.database=s&&decodeURI(s),(r.ssl==="true"||r.ssl==="1")&&(r.ssl=!0),r.ssl==="0"&&(r.ssl=!1),(r.sslcert||r.sslkey||r.sslrootcert||r.sslmode)&&(r.ssl={}),r.sslcert&&(r.ssl.cert=xc.readFileSync(r.sslcert).toString()),r.sslkey&&(r.ssl.key=xc.readFileSync(r.sslkey).toString()),r.sslrootcert&&(r.ssl.ca=xc.readFileSync(r.sslrootcert).toString()),r.sslmode){case"disable":{r.ssl=!1;break}case"prefer":case"require":case"verify-ca":case"verify-full":break;case"no-verify":{r.ssl.rejectUnauthorized=!1;break}}return r}Vv.exports=vc;vc.parse=vc});var Zv=c((Jse,Xv)=>{var{parse:BV}=Yv(),WV=BV,UV=process&&process.platform&&process.platform==="win32";function HV(t){try{return new URL(t)}catch(e){return null}}Xv.exports=function(e){let r=HV(e),n=UV&&r&&r.protocol.length===2;if(!r||n)return{client:"sqlite3",connection:{filename:e}};let{protocol:i}=r;i.slice(-1)===":"&&(i=i.slice(0,-1));let s=["postgresql","postgres"].includes(i);return{client:i,connection:s?WV(e):QV(r)}};function QV(t){let e={},r=t.pathname;if(r[0]==="/"&&(r=r.slice(1)),e.database=r,t.hostname&&(t.protocol.indexOf("mssql")===0?e.server=t.hostname:e.host=t.hostname),t.port&&(e.port=t.port),(t.username||t.password)&&(e.user=decodeURIComponent(t.username)),t.password&&(e.password=decodeURIComponent(t.password)),t.searchParams)for(let[n,i]of t.searchParams.entries())if(["mysql:","mariadb:","mssql:"].includes(t.protocol))try{e[n]=JSON.parse(i)}catch(o){e[n]=i}else e[n]=i;return e}});var tE=c((Vse,eE)=>{var zV=$u(),Ec=class extends zV{begin(e){return this.isolationLevel&&this.client.logger.warn("sqlite3 only supports serializable transactions, ignoring the isolation level param"),this.query(e,"BEGIN;")}};eE.exports=Ec});var sE=c((Yse,iE)=>{var GV=Aa(),KV=_s(),JV=Xe(),rE=Xt(),VV=Ts(),YV=nc(),XV=Mu(),{isString:ZV}=we(),{wrapString:nE,columnize:e4}=gt(),Ds=GV(""),qc=class extends YV{constructor(e,r,n){super(e,r,n),this.forShare=Ds,this.forKeyShare=Ds,this.forUpdate=Ds,this.forNoKeyUpdate=Ds}insert(){let e=this.single.insert||[],r=this.with()+`insert into ${this.tableName} `;if(Array.isArray(e)){if(e.length===0)return"";if(e.length===1&&e[0]&&rE(e[0]))return{sql:r+this._emptyInsertValue}}else if(typeof e=="object"&&rE(e))return{sql:r+this._emptyInsertValue};let n=this._prepInsert(e);if(ZV(n))return{sql:r+n};if(n.columns.length===0)return{sql:""};if(r+=`(${this.formatter.columnize(n.columns)})`,this.client.valueForUndefined!==null&&n.values.forEach(h=>{KV(h,f=>{if(f===void 0)throw new TypeError("`sqlite` does not support inserting default values. Specify values explicitly or use the `useNullAsDefault` config flag. (see docs https://knexjs.org/guide/query-builder.html#insert).")})}),n.values.length===1){let h=this.client.parameterize(n.values[0],this.client.valueForUndefined,this.builder,this.bindingsHolder);r+=` values (${h})`;let{onConflict:f,ignore:d,merge:p}=this.single;if(f&&d)r+=this._ignore(f);else if(f&&p){r+=this._merge(p.updates,f,e);let y=this.where();y&&(r+=` ${y}`)}let{returning:m}=this.single;return m&&(r+=this._returning(m)),{sql:r,returning:m}}let i=[],s=-1;for(;++s<n.values.length;){let h=-1,f=i[s]=[],d=n.values[s];for(d=d===void 0?this.client.valueForUndefined:d;++h<n.columns.length;)f.push(this.client.alias(this.client.parameter(d[h],this.builder,this.bindingsHolder),this.formatter.wrap(n.columns[h])));i[s]=f.join(", ")}r+=" select "+i.join(" union all select ");let{onConflict:o,ignore:a,merge:u}=this.single;o&&a?r+=" where true"+this._ignore(o):o&&u&&(r+=" where true"+this._merge(u.updates,o,e));let{returning:l}=this.single;return l&&(r+=this._returning(l)),{sql:r,returning:l}}update(){let e=this.with(),r=this._prepUpdate(this.single.update),n=this.where(),{returning:i}=this.single;return{sql:e+`update ${this.single.only?"only ":""}${this.tableName} set ${r.join(", ")}`+(n?` ${n}`:"")+this._returning(i),returning:i}}_ignore(e){return e===!0?" on conflict do nothing":` on conflict ${this._onConflictClause(e)} do nothing`}_merge(e,r,n){let i=` on conflict ${this._onConflictClause(r)} do update set `;if(e&&Array.isArray(e))return i+=e.map(s=>nE(s.split(".").pop(),this.formatter.builder,this.client,this.formatter)).map(s=>`${s} = excluded.${s}`).join(", "),i;if(e&&typeof e=="object"){let s=this._prepUpdate(e);return typeof s=="string"?i+=s:i+=s.join(","),i}else{let s=this._prepInsert(n);if(typeof s=="string")throw new Error("If using merge with a raw insert query, then updates must be provided");return i+=s.columns.map(o=>nE(o.split(".").pop(),this.builder,this.client)).map(o=>`${o} = excluded.${o}`).join(", "),i}}_returning(e){return e?` returning ${this.formatter.columnize(e)}`:""}truncate(){let{table:e}=this.single;return{sql:`delete from ${this.tableName}`,output(){return this.query({sql:`delete from sqlite_sequence where name = \'${e}\'`}).catch(XV)}}}columnInfo(){let e=this.single.columnInfo;return{sql:`PRAGMA table_info(\\`${this.client.customWrapIdentifier(this.single.table,JV)}\\`)`,output(n){let i=/.*\\((\\d+)\\)/,s=VV(n,function(o,a){let{type:u}=a,l=u.match(i);return l&&(l=l[1]),u=l?u.split("(")[0]:u,o[a.name]={type:u.toLowerCase(),maxLength:l,nullable:!a.notnull,defaultValue:a.dflt_value},o},{});return e&&s[e]||s}}}limit(){let e=!this.single.limit&&this.single.limit!==0;return e&&!this.single.offset?"":(this.single.limit=e?-1:this.single.limit,`limit ${this._getValueOrParameterFromAttribute("limit")}`)}jsonExtract(e){return this._jsonExtract("json_extract",e)}jsonSet(e){return this._jsonSet("json_set",e)}jsonInsert(e){return this._jsonSet("json_insert",e)}jsonRemove(e){let r=`json_remove(${e4(e.column,this.builder,this.client,this.bindingsHolder)},${this.client.parameter(e.path,this.builder,this.bindingsHolder)})`;return e.alias?this.client.alias(r,this.formatter.wrap(e.alias)):r}whereJsonPath(e){return this._whereJsonPath("json_extract",e)}whereJsonSupersetOf(e){throw new Error("Json superset where clause not actually supported by SQLite")}whereJsonSubsetOf(e){throw new Error("Json subset where clause not actually supported by SQLite")}onJsonPathEquals(e){return this._onJsonPathEquals("json_extract",e)}};iE.exports=qc});var aE=c((Xse,oE)=>{var t4=tr();function r4(t,e){var r;return t4(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}oE.exports=r4});var cE=c((Zse,uE)=>{var n4=Ja(),i4=Qe(),s4=aE(),o4=V(),a4=Kt();function u4(t,e,r){var n=o4(t)?n4:s4;return r&&a4(t,e,r)&&(e=void 0),n(t,i4(e,3))}uE.exports=u4});var hE=c((eoe,lE)=>{var c4=ac(),l4=cE(),Sc=class extends c4{constructor(e,r){super(e,r)}hasTable(e){let r=`select * from sqlite_master where type = \'table\' and name = ${this.client.parameter(this.formatter.wrap(e).replace(/`/g,""),this.builder,this.bindingsHolder)}`;this.pushQuery({sql:r,output:n=>n.length>0})}hasColumn(e,r){this.pushQuery({sql:`PRAGMA table_info(${this.formatter.wrap(e)})`,output(n){return l4(n,i=>this.client.wrapIdentifier(i.name.toLowerCase())===this.client.wrapIdentifier(r.toLowerCase()))}})}renameTable(e,r){this.pushQuery(`alter table ${this.formatter.wrap(e)} rename to ${this.formatter.wrap(r)}`)}async generateDdlCommands(){let e=this.builder._sequence;for(let n=0,i=e.length;n<i;n++){let s=e[n];this[s.method].apply(this,s.args)}let r=this.sequence;if(r.length===1&&r[0].statementsProducer)return r[0].statementsProducer();{let n=[];for(let i of r){let s=i.sql;Array.isArray(s)?n.push(...s):n.push(s)}return{pre:[],sql:n,check:null,post:[]}}}};lE.exports=Sc});var dE=c((toe,fE)=>{var h4=pc(),Ge=class extends h4{constructor(){super(...arguments),this.modifiers=["nullable","defaultTo"],this._addCheckModifiers()}enu(e){return`text check (${this.formatter.wrap(this.args[0])} in (\'${e.join("\', \'")}\'))`}_pushAlterCheckQuery(e,r){throw new Error("Alter table with to add constraints is not permitted in SQLite")}checkRegex(e,r){return this._check(`${this.formatter.wrap(this.getColumnName())} REGEXP ${this.client._escapeBinding(e)}`,r)}};Ge.prototype.json="json";Ge.prototype.jsonb="json";Ge.prototype.double=Ge.prototype.decimal=Ge.prototype.floating="float";Ge.prototype.timestamp="datetime";Ge.prototype.increments=Ge.prototype.bigincrements="integer not null primary key autoincrement";fE.exports=Ge});var mE=c((roe,pE)=>{var f4=zi(),d4=Bu(),p4=Qe(),m4=V();function g4(t,e){var r=m4(t)?f4:d4;return r(t,p4(e,3))}pE.exports=g4});var wE=c((noe,yE)=>{var gE=mE(),y4=gs(),et=Xe(),{isObject:Tc}=we(),w4=lc(),{formatDefault:b4}=zn(),Cc=class extends w4{constructor(){super(...arguments)}createQuery(e,r,n){let s=(r?"create table if not exists ":"create table ")+this.tableName();n&&this.tableNameLike()?s+=" as select * from "+this.tableNameLike()+" where 0=1":(s+=" ("+e.sql.join(", "),s+=this.foreignKeys()||"",s+=this.primaryKeys()||"",s+=this._addChecks(),s+=")"),this.pushQuery(s),n&&this.addColumns(e,this.addColumnsPrefix)}addColumns(e,r,n){if(r===this.alterColumnsPrefix){let i=this,s=n.map(o=>{let a=this.client.customWrapIdentifier(o.getColumnName(),et,o.columnBuilder.queryContext()),u=o.getColumnType(),l=o.modified.defaultTo?b4(o.modified.defaultTo[0],o.type,this.client):null,h=o.modified.nullable&&o.modified.nullable[0]===!1;return{name:a,type:u,defaultTo:l,notNull:h}});this.pushQuery({sql:`PRAGMA table_info(${this.tableName()})`,statementsProducer(o,a){return i.client.ddl(i,o,a).alterColumn(s)}})}else for(let i=0,s=e.sql.length;i<s;i++)this.pushQuery({sql:`alter table ${this.tableName()} add column ${e.sql[i]}`,bindings:e.bindings[i]})}dropUnique(e,r){r=r?this.formatter.wrap(r):this._indexCommand("unique",this.tableNameRaw,e),this.pushQuery(`drop index ${r}`)}dropForeign(e,r){let n=this;e=Array.isArray(e)?e:[e],e=e.map(i=>this.client.customWrapIdentifier(i,et)),r=this.client.customWrapIdentifier(r,et),this.pushQuery({sql:`PRAGMA table_info(${this.tableName()})`,output(i){return n.client.ddl(n,i,this.connection).dropForeign(e,r)}})}dropPrimary(e){let r=this;e=this.client.customWrapIdentifier(e,et),this.pushQuery({sql:`PRAGMA table_info(${this.tableName()})`,output(n){return r.client.ddl(r,n,this.connection).dropPrimary(e)}})}dropIndex(e,r){r=r?this.formatter.wrap(r):this._indexCommand("index",this.tableNameRaw,e),this.pushQuery(`drop index ${r}`)}unique(e,r){let n,i;Tc(r)&&({indexName:r,deferrable:n,predicate:i}=r),n&&n!=="not deferrable"&&this.client.logger.warn(`sqlite3: unique index \\`${r}\\` will not be deferrable ${n} because sqlite3 does not support deferred constraints.`),r=r?this.formatter.wrap(r):this._indexCommand("unique",this.tableNameRaw,e),e=this.formatter.columnize(e);let s=i?" "+this.client.queryCompiler(i).where():"";this.pushQuery(`create unique index ${r} on ${this.tableName()} (${e})${s}`)}index(e,r,n){r=r?this.formatter.wrap(r):this._indexCommand("index",this.tableNameRaw,e),e=this.formatter.columnize(e);let i;Tc(n)&&({predicate:i}=n);let s=i?" "+this.client.queryCompiler(i).where():"";this.pushQuery(`create index ${r} on ${this.tableName()} (${e})${s}`)}primary(e,r){let n=this;e=Array.isArray(e)?e:[e],e=e.map(s=>this.client.customWrapIdentifier(s,et));let i;Tc(r)&&({constraintName:r,deferrable:i}=r),i&&i!=="not deferrable"&&this.client.logger.warn(`sqlite3: primary key constraint \\`${r}\\` will not be deferrable ${i} because sqlite3 does not support deferred constraints.`),r=this.client.customWrapIdentifier(r,et),this.method!=="create"&&this.method!=="createIfNot"&&this.pushQuery({sql:`PRAGMA table_info(${this.tableName()})`,output(s){return n.client.ddl(n,s,this.connection).primary(e,r)}})}foreign(e){let r=this;this.method!=="create"&&this.method!=="createIfNot"&&(e.column=Array.isArray(e.column)?e.column:[e.column],e.column=e.column.map(n=>this.client.customWrapIdentifier(n,et)),e.inTable=this.client.customWrapIdentifier(e.inTable,et),e.references=Array.isArray(e.references)?e.references:[e.references],e.references=e.references.map(n=>this.client.customWrapIdentifier(n,et)),this.pushQuery({sql:`PRAGMA table_info(${this.tableName()})`,statementsProducer(n,i){return r.client.ddl(r,n,i).foreign(e)}}))}primaryKeys(){let e=gE(this.grouped.alterTable||[],{method:"primary"});if(e.length>0&&e[0].args.length>0){let r=e[0].args[0],n=e[0].args[1]||"";n&&(n=" constraint "+this.formatter.wrap(n));let i=this.grouped.columns.filter(s=>s.builder._type==="increments").length>0;return`,${n} ${i?"unique":"primary key"} (${this.formatter.columnize(r)})`}}foreignKeys(){let e="",r=gE(this.grouped.alterTable||[],{method:"foreign"});for(let n=0,i=r.length;n<i;n++){let s=r[n].args[0],o=this.formatter.columnize(s.column),a=this.formatter.columnize(s.references),u=this.formatter.wrap(s.inTable),l=s.keyName||"";l&&(l=" constraint "+this.formatter.wrap(l)),e+=`,${l} foreign key(${o}) references ${u}(${a})`,s.onDelete&&(e+=` on delete ${s.onDelete}`),s.onUpdate&&(e+=` on update ${s.onUpdate}`)}return e}createTableBlock(){return this.getColumns().concat().join(",")}renameColumn(e,r){this.pushQuery({sql:`alter table ${this.tableName()} rename ${this.formatter.wrap(e)} to ${this.formatter.wrap(r)}`})}_setNullableState(e,r){let n=this;this.pushQuery({sql:`PRAGMA table_info(${this.tableName()})`,statementsProducer(i,s){return n.client.ddl(n,i,s).setNullable(e,r)}})}dropColumn(){let e=this,n=y4(arguments).map(i=>this.client.customWrapIdentifier(i,et));this.pushQuery({sql:`PRAGMA table_info(${this.tableName()})`,output(i){return e.client.ddl(e,i,this.connection).dropColumn(n)}})}};yE.exports=Cc});var _E=c((ioe,bE)=>{var _4=bc(),{columnize:x4}=gt(),Oc=class extends _4{constructor(e,r){super(e,r)}createOrReplace(){let e=this.columns,r=this.selectQuery.toString(),n=this.viewName(),i=e?" ("+x4(e,this.viewBuilder,this.client,this.bindingsHolder)+")":"",s=`drop view if exists ${n}`,o=`create view ${n}${i} as ${r}`;this.pushQuery({sql:s}),this.pushQuery({sql:o})}};bE.exports=Oc});var vE=c((soe,xE)=>{function v4(t,e,r){return`INSERT INTO "${e}" SELECT ${r===void 0?"*":r.map(n=>`"${n}"`).join(", ")} FROM "${t}";`}function E4(t){return`DROP TABLE "${t}"`}function q4(t,e){return`ALTER TABLE "${t}" RENAME TO "${e}"`}function S4(t){return`SELECT type, sql FROM sqlite_master WHERE (type=\'table\' OR (type=\'index\' AND sql IS NOT NULL)) AND tbl_name=\'${t}\'`}function T4(){return"PRAGMA foreign_keys"}function C4(t){return`PRAGMA foreign_keys = ${t?"ON":"OFF"}`}function O4(){return"PRAGMA foreign_key_check"}xE.exports={copyData:v4,dropOriginal:E4,renameTable:q4,getTableSql:S4,isForeignCheckEnabled:T4,setForeignCheck:C4,executeForeignCheck:O4}});var qE=c((ooe,EE)=>{function I4(t,e){let r=new RegExp(Object.entries(e).map(([s,o])=>`(?<${s}>${o.source})`).join("|"),"yi"),n=0,i=[];for(;n<t.length;){r.lastIndex=n;let s=t.match(r);if(s!==null){let[o,a]=Object.entries(s.groups).find(([u,l])=>l!==void 0);n+=a.length,o.startsWith("_")||i.push({type:o,text:a})}else throw new Error(`No matching tokenizer rule found at: [${t.substring(n)}]`)}return i}EE.exports={tokenize:I4}});var TE=c((aoe,SE)=>{function A4(t,e=r=>r){return function({index:r=0,input:n}){let i=r,s=[];for(let o of t){let a=o({index:i,input:n});if(a.success)i=a.index,s.push(a.ast);else return a}return{success:!0,ast:e(s),index:i,input:n}}}function k4(t,e=r=>r){return function({index:r=0,input:n}){for(let i of t){let s=i({index:r,input:n});if(s.success)return{success:!0,ast:e(s.ast),index:s.index,input:n}}return{success:!1,ast:null,index:r,input:n}}}function N4(t,e=r=>r){return function({index:r=0,input:n}){let i={},s=r,o=[];do i=t({index:s,input:n}),i.success&&(s=i.index,o.push(i.ast));while(i.success);return o.length>0?{success:!0,ast:e(o),index:s,input:n}:{success:!1,ast:null,index:s,input:n}}}function P4(t,e=r=>r){return function({index:r=0,input:n}){let i=t({index:r,input:n});return i.success?{success:!0,ast:e(i.ast),index:i.index,input:n}:{success:!0,ast:e(null),index:r,input:n}}}function R4(t,e=r=>r){return function({index:r=0,input:n}){let i=t.do({index:r,input:n});return i.success&&t.next({index:i.index,input:n}).success?{success:!0,ast:e(i.ast),index:i.index,input:n}:{success:!1,ast:null,index:r,input:n}}}function j4(t,e=r=>r){return function({index:r=0,input:n}){let i=t.do({index:r,input:n});return i.success&&!t.not({index:r,input:n}).success?{success:!0,ast:e(i.ast),index:i.index,input:n}:{success:!1,ast:null,index:r,input:n}}}function M4(t,e=r=>r.text){return function({index:r=0,input:n}){let i=n[r];return i!==void 0&&(t.type===void 0||t.type===i.type)&&(t.text===void 0||t.text.toUpperCase()===i.text.toUpperCase())?{success:!0,ast:e(i),index:r+1,input:n}:{success:!1,ast:null,index:r,input:n}}}var L4=function({index:t=0,input:e}){return{success:!0,ast:null,index:t,input:e}},$4=function({index:t=0,input:e}){return{success:t===e.length,ast:null,index:t,input:e}};SE.exports={s:A4,a:k4,m:N4,o:P4,l:R4,n:j4,t:M4,e:L4,f:$4}});var WE=c((uoe,BE)=>{var{tokenize:kE}=qE(),{s:O,a:X,m:nr,o:re,l:CE,n:Ic,t:w,e:ri,f:NE}=TE(),PE={keyword:/(?:ABORT|ACTION|ADD|AFTER|ALL|ALTER|ALWAYS|ANALYZE|AND|AS|ASC|ATTACH|AUTOINCREMENT|BEFORE|BEGIN|BETWEEN|BY|CASCADE|CASE|CAST|CHECK|COLLATE|COLUMN|COMMIT|CONFLICT|CONSTRAINT|CREATE|CROSS|CURRENT|CURRENT_DATE|CURRENT_TIME|CURRENT_TIMESTAMP|DATABASE|DEFAULT|DEFERRED|DEFERRABLE|DELETE|DESC|DETACH|DISTINCT|DO|DROP|END|EACH|ELSE|ESCAPE|EXCEPT|EXCLUSIVE|EXCLUDE|EXISTS|EXPLAIN|FAIL|FILTER|FIRST|FOLLOWING|FOR|FOREIGN|FROM|FULL|GENERATED|GLOB|GROUP|GROUPS|HAVING|IF|IGNORE|IMMEDIATE|IN|INDEX|INDEXED|INITIALLY|INNER|INSERT|INSTEAD|INTERSECT|INTO|IS|ISNULL|JOIN|KEY|LAST|LEFT|LIKE|LIMIT|MATCH|MATERIALIZED|NATURAL|NO|NOT|NOTHING|NOTNULL|NULL|NULLS|OF|OFFSET|ON|OR|ORDER|OTHERS|OUTER|OVER|PARTITION|PLAN|PRAGMA|PRECEDING|PRIMARY|QUERY|RAISE|RANGE|RECURSIVE|REFERENCES|REGEXP|REINDEX|RELEASE|RENAME|REPLACE|RESTRICT|RETURNING|RIGHT|ROLLBACK|ROW|ROWS|SAVEPOINT|SELECT|SET|TABLE|TEMP|TEMPORARY|THEN|TIES|TO|TRANSACTION|TRIGGER|UNBOUNDED|UNION|UNIQUE|UPDATE|USING|VACUUM|VALUES|VIEW|VIRTUAL|WHEN|WHERE|WINDOW|WITH|WITHOUT)(?=\\s+|-|\\(|\\)|;|\\+|\\*|\\/|%|==|=|<=|<>|<<|<|>=|>>|>|!=|,|&|~|\\|\\||\\||\\.)/,id:/"[^"]*(?:""[^"]*)*"|`[^`]*(?:``[^`]*)*`|\\[[^[\\]]*\\]|[a-z_][a-z0-9_$]*/,string:/\'[^\']*(?:\'\'[^\']*)*\'/,blob:/x\'(?:[0-9a-f][0-9a-f])+\'/,numeric:/(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e(?:\\+|-)?\\d+)?|0x[0-9a-f]+/,variable:/\\?\\d*|[@$:][a-z0-9_$]+/,operator:/-|\\(|\\)|;|\\+|\\*|\\/|%|==|=|<=|<>|<<|<|>=|>>|>|!=|,|&|~|\\|\\||\\||\\./,_ws:/\\s+/};function F4(t){let e=B4({input:kE(t,PE)});if(!e.success)throw new Error(`Parsing CREATE TABLE failed at [${e.input.slice(e.index).map(r=>r.text).join(" ")}] of "${t}"`);return e.ast}function D4(t){let e=p9({input:kE(t,PE)});if(!e.success)throw new Error(`Parsing CREATE INDEX failed at [${e.input.slice(e.index).map(r=>r.text).join(" ")}] of "${t}"`);return e.ast}function B4(t){return O([w({text:"CREATE"},e=>null),W4,w({text:"TABLE"},e=>null),LE,$E,Ac,w({text:"("},e=>null),RE,n9,w({text:")"},e=>null),U4,NE],e=>Object.assign({},...e.filter(r=>r!==null)))(t)}function W4(t){return X([w({text:"TEMP"}),w({text:"TEMPORARY"}),ri],e=>({temporary:e!==null}))(t)}function U4(t){return re(O([w({text:"WITHOUT"}),w({text:"ROWID"})]),e=>({rowid:e!==null}))(t)}function RE(t){return X([O([OE,w({text:","}),RE],e=>({columns:[e[0]].concat(e[2].columns)})),O([OE],e=>({columns:[e[0]]}))])(t)}function OE(t){return O([O([Nt],e=>({name:e[0]})),H4,Q4],e=>Object.assign({},...e))(t)}function H4(t){return re(O([nr(w({type:"id"})),X([O([w({text:"("}),Bs,w({text:","}),Bs,w({text:")"})],e=>`(${e[1]}, ${e[3]})`),O([w({text:"("}),Bs,w({text:")"})],e=>`(${e[1]})`),ri])],e=>`${e[0].join(" ")}${e[1]||""}`),e=>({type:e}))(t)}function Q4(t){return re(nr(z4),e=>({constraints:Object.assign({primary:null,notnull:null,null:null,unique:null,check:null,default:null,collate:null,references:null,as:null},...e||[])}))(t)}function z4(t){return X([G4,J4,V4,Y4,X4,Z4,e9,t9,r9])(t)}function G4(t){return O([Ce,w({text:"PRIMARY"},e=>null),w({text:"KEY"},e=>null),kc,Zr,K4],e=>({primary:Object.assign({},...e.filter(r=>r!==null))}))(t)}function K4(t){return re(w({text:"AUTOINCREMENT"}),e=>({autoincrement:e!==null}))(t)}function J4(t){return O([Ce,w({text:"NOT"},e=>null),w({text:"NULL"},e=>null),Zr],e=>({notnull:Object.assign({},...e.filter(r=>r!==null))}))(t)}function V4(t){return O([Ce,w({text:"NULL"},e=>null),Zr],e=>({null:Object.assign({},...e.filter(r=>r!==null))}))(t)}function Y4(t){return O([Ce,w({text:"UNIQUE"},e=>null),Zr],e=>({unique:Object.assign({},...e.filter(r=>r!==null))}))(t)}function X4(t){return O([Ce,w({text:"CHECK"},e=>null),w({text:"("},e=>null),O([ir],e=>({expression:e[0]})),w({text:")"},e=>null)],e=>({check:Object.assign({},...e.filter(r=>r!==null))}))(t)}function Z4(t){return O([Ce,w({text:"DEFAULT"},e=>null),X([O([w({text:"("}),ir,w({text:")"})],e=>({value:e[1],expression:!0})),O([b9],e=>({value:e[0],expression:!1})),O([Bs],e=>({value:e[0],expression:!1}))])],e=>({default:Object.assign({},...e.filter(r=>r!==null))}))(t)}function e9(t){return O([Ce,w({text:"COLLATE"},e=>null),w({type:"id"},e=>({collation:e.text}))],e=>({collate:Object.assign({},...e.filter(r=>r!==null))}))(t)}function t9(t){return O([Ce,O([jE],e=>e[0].references)],e=>({references:Object.assign({},...e.filter(r=>r!==null))}))(t)}function r9(t){return O([Ce,re(O([w({text:"GENERATED"}),w({text:"ALWAYS"})]),e=>({generated:e!==null})),w({text:"AS"},e=>null),w({text:"("},e=>null),O([ir],e=>({expression:e[0]})),w({text:")"},e=>null),X([w({text:"STORED"}),w({text:"VIRTUAL"}),ri],e=>({mode:e?e.toUpperCase():null}))],e=>({as:Object.assign({},...e.filter(r=>r!==null))}))(t)}function n9(t){return re(nr(O([w({text:","}),i9],e=>e[1])),e=>({constraints:e||[]}))(t)}function i9(t){return X([s9,o9,a9,u9])(t)}function s9(t){return O([Ce,w({text:"PRIMARY"},e=>null),w({text:"KEY"},e=>null),w({text:"("},e=>null),ti,w({text:")"},e=>null),Zr],e=>Object.assign({type:"PRIMARY KEY"},...e.filter(r=>r!==null)))(t)}function o9(t){return O([Ce,w({text:"UNIQUE"},e=>null),w({text:"("},e=>null),ti,w({text:")"},e=>null),Zr],e=>Object.assign({type:"UNIQUE"},...e.filter(r=>r!==null)))(t)}function Zr(t){return re(O([w({text:"ON"}),w({text:"CONFLICT"}),X([w({text:"ROLLBACK"}),w({text:"ABORT"}),w({text:"FAIL"}),w({text:"IGNORE"}),w({text:"REPLACE"})])],e=>e[2]),e=>({conflict:e?e.toUpperCase():null}))(t)}function a9(t){return O([Ce,w({text:"CHECK"},e=>null),w({text:"("},e=>null),O([ir],e=>({expression:e[0]})),w({text:")"},e=>null)],e=>Object.assign({type:"CHECK"},...e.filter(r=>r!==null)))(t)}function u9(t){return O([Ce,w({text:"FOREIGN"},e=>null),w({text:"KEY"},e=>null),w({text:"("},e=>null),ME,w({text:")"},e=>null),jE],e=>Object.assign({type:"FOREIGN KEY"},...e.filter(r=>r!==null)))(t)}function jE(t){return O([w({text:"REFERENCES"},e=>null),Ac,c9,re(nr(X([l9,h9,f9])),e=>Object.assign({delete:null,update:null,match:null},...e||[])),d9],e=>({references:Object.assign({},...e.filter(r=>r!==null))}))(t)}function c9(t){return re(O([w({text:"("}),ME,w({text:")"})],e=>e[1]),e=>({columns:e?e.columns:[]}))(t)}function ME(t){return O([re(nr(O([Nt,w({text:","})],e=>e[0])),e=>e!==null?e:[]),Nt],e=>({columns:e[0].concat([e[1]])}))(t)}function l9(t){return O([w({text:"ON"}),w({text:"DELETE"}),DE],e=>({delete:e[2]}))(t)}function h9(t){return O([w({text:"ON"}),w({text:"UPDATE"}),DE],e=>({update:e[2]}))(t)}function f9(t){return O([w({text:"MATCH"}),X([w({type:"keyword"}),w({type:"id"})])],e=>({match:e[1]}))(t)}function d9(t){return re(O([re(w({text:"NOT"})),w({text:"DEFERRABLE"}),re(O([w({text:"INITIALLY"}),X([w({text:"DEFERRED"}),w({text:"IMMEDIATE"})])],e=>e[1].toUpperCase()))]),e=>({deferrable:e?{not:e[0]!==null,initially:e[2]}:null}))(t)}function Ce(t){return re(O([w({text:"CONSTRAINT"}),Nt],e=>e[1]),e=>({name:e}))(t)}function p9(t){return O([w({text:"CREATE"},e=>null),m9,w({text:"INDEX"},e=>null),LE,$E,g9,w({text:"ON"},e=>null),Ac,w({text:"("},e=>null),ti,w({text:")"},e=>null),y9,NE],e=>Object.assign({},...e.filter(r=>r!==null)))(t)}function m9(t){return re(w({text:"UNIQUE"}),e=>({unique:e!==null}))(t)}function LE(t){return re(O([w({text:"IF"}),w({text:"NOT"}),w({text:"EXISTS"})]),e=>({exists:e!==null}))(t)}function $E(t){return re(O([Nt,w({text:"."})],e=>e[0]),e=>({schema:e}))(t)}function g9(t){return O([Nt],e=>({index:e[0]}))(t)}function Ac(t){return O([Nt],e=>({table:e[0]}))(t)}function y9(t){return re(O([w({text:"WHERE"}),ir],e=>e[1]),e=>({where:e}))(t)}function ti(t){return X([O([IE,w({text:","}),ti],e=>({columns:[e[0]].concat(e[2].columns)})),O([AE,w({text:","}),ti],e=>({columns:[e[0]].concat(e[2].columns)})),CE({do:IE,next:w({text:")"})},e=>({columns:[e]})),CE({do:AE,next:w({text:")"})},e=>({columns:[e]}))])(t)}function IE(t){return O([O([Nt],e=>({name:e[0],expression:!1})),FE,kc],e=>Object.assign({},...e.filter(r=>r!==null)))(t)}function AE(t){return O([O([w9],e=>({name:e[0],expression:!0})),FE,kc],e=>Object.assign({},...e.filter(r=>r!==null)))(t)}function FE(t){return re(O([w({text:"COLLATE"}),w({type:"id"})],e=>e[1]),e=>({collation:e}))(t)}function kc(t){return X([w({text:"ASC"}),w({text:"DESC"}),ri],e=>({order:e?e.toUpperCase():null}))(t)}function w9(t){return nr(X([Ic({do:w({type:"keyword"}),not:X([w({text:"COLLATE"}),w({text:"ASC"}),w({text:"DESC"})])}),w({type:"id"}),w({type:"string"}),w({type:"blob"}),w({type:"numeric"}),w({type:"variable"}),Ic({do:w({type:"operator"}),not:X([w({text:"("}),w({text:")"}),w({text:","})])}),O([w({text:"("}),re(ir),w({text:")"})],e=>e[1]||[])]))(t)}function ir(t){return nr(X([w({type:"keyword"}),w({type:"id"}),w({type:"string"}),w({type:"blob"}),w({type:"numeric"}),w({type:"variable"}),Ic({do:w({type:"operator"}),not:X([w({text:"("}),w({text:")"})])}),O([w({text:"("}),re(ir),w({text:")"})],e=>e[1]||[])]))(t)}function Nt(t){return X([w({type:"id"}),w({type:"string"})],e=>/^["`[\'][^]*["`\\]\']$/.test(e)?e.substring(1,e.length-1):e)(t)}function DE(t){return X([O([w({text:"SET"}),w({text:"NULL"})],e=>`${e[0]} ${e[1]}`),O([w({text:"SET"}),w({text:"DEFAULT"})],e=>`${e[0]} ${e[1]}`),w({text:"CASCADE"}),w({text:"RESTRICT"}),O([w({text:"NO"}),w({text:"ACTION"})],e=>`${e[0]} ${e[1]}`)],e=>e.toUpperCase())(t)}function b9(t){return X([w({type:"numeric"}),w({type:"string"}),w({type:"id"}),w({type:"blob"}),w({text:"NULL"}),w({text:"TRUE"}),w({text:"FALSE"}),w({text:"CURRENT_TIME"}),w({text:"CURRENT_DATE"}),w({text:"CURRENT_TIMESTAMP"})])(t)}function Bs(t){return O([X([w({text:"+"}),w({text:"-"}),ri]),w({type:"numeric"})],e=>`${e[0]||""}${e[1]}`)(t)}BE.exports={parseCreateTable:F4,parseCreateIndex:D4}});var JE=c((coe,KE)=>{function _9(t,e=r=>r){return v9(t,e)}function x9(t,e=r=>r){return Y9(t,e)}function v9(t,e){return`CREATE${E9(t,e)} TABLE${QE(t,e)} ${zE(t,e)}${Nc(t,e)} (${S9(t,e)}${F9(t,e)})${q9(t,e)}`}function E9(t,e){return t.temporary?" TEMP":""}function q9(t,e){return t.rowid?" WITHOUT ROWID":""}function S9(t,e){return t.columns.map(r=>T9(r,e)).join(", ")}function T9(t,e){return`${or(t.name,e)}${C9(t,e)}${O9(t.constraints,e)}`}function C9(t,e){return t.type!==null?` ${t.type}`:""}function O9(t,e){return`${I9(t,e)}${k9(t,e)}${N9(t,e)}${P9(t,e)}${R9(t,e)}${j9(t,e)}${M9(t,e)}${L9(t,e)}${$9(t,e)}`}function I9(t,e){return t.primary!==null?` ${Oe(t.primary,e)}PRIMARY KEY${Rc(t.primary,e)}${en(t.primary,e)}${A9(t.primary,e)}`:""}function A9(t,e){return t.autoincrement?" AUTOINCREMENT":""}function k9(t,e){return t.notnull!==null?` ${Oe(t.notnull,e)}NOT NULL${en(t.notnull,e)}`:""}function N9(t,e){return t.null!==null?` ${Oe(t.null,e)}NULL${en(t.null,e)}`:""}function P9(t,e){return t.unique!==null?` ${Oe(t.unique,e)}UNIQUE${en(t.unique,e)}`:""}function R9(t,e){return t.check!==null?` ${Oe(t.check,e)}CHECK (${sr(t.check.expression,e)})`:""}function j9(t,e){return t.default!==null?` ${Oe(t.default,e)}DEFAULT ${t.default.expression?`(${sr(t.default.value,e)})`:t.default.value}`:""}function M9(t,e){return t.collate!==null?` ${Oe(t.collate,e)}COLLATE ${t.collate.collation}`:""}function L9(t,e){return t.references!==null?` ${Oe(t.references,e)}${UE(t.references,e)}`:""}function $9(t,e){return t.as!==null?` ${Oe(t.as,e)}${t.as.generated?"GENERATED ALWAYS ":""}AS (${sr(t.as.expression,e)})${t.as.mode!==null?` ${t.as.mode}`:""}`:""}function F9(t,e){return t.constraints.reduce((r,n)=>`${r}, ${D9(n,e)}`,"")}function D9(t,e){switch(t.type){case"PRIMARY KEY":return B9(t,e);case"UNIQUE":return W9(t,e);case"CHECK":return U9(t,e);case"FOREIGN KEY":return H9(t,e)}}function B9(t,e){return`${Oe(t,e)}PRIMARY KEY (${Pc(t,e)})${en(t,e)}`}function W9(t,e){return`${Oe(t,e)}UNIQUE (${Pc(t,e)})${en(t,e)}`}function en(t,e){return t.conflict!==null?` ON CONFLICT ${t.conflict}`:""}function U9(t,e){return`${Oe(t,e)}CHECK (${sr(t.expression,e)})`}function H9(t,e){return`${Oe(t,e)}FOREIGN KEY (${HE(t,e)}) ${UE(t.references,e)}`}function UE(t,e){return`REFERENCES ${Nc(t,e)}${Q9(t,e)}${z9(t,e)}${V9(t.deferrable,e)}`}function Q9(t,e){return t.columns.length>0?` (${HE(t,e)})`:""}function HE(t,e){return t.columns.map(r=>or(r,e)).join(", ")}function z9(t,e){return`${G9(t,e)}${K9(t,e)}${J9(t,e)}`}function G9(t,e){return t.delete!==null?` ON DELETE ${t.delete}`:""}function K9(t,e){return t.update!==null?` ON UPDATE ${t.update}`:""}function J9(t,e){return t.match!==null?` MATCH ${t.match}`:""}function V9(t,e){return t!==null?` ${t.not?"NOT ":""}DEFERRABLE${t.initially!==null?` INITIALLY ${t.initially}`:""}`:""}function Oe(t,e){return t.name!==null?`CONSTRAINT ${or(t.name,e)} `:""}function Y9(t,e){return`CREATE${X9(t,e)} INDEX${QE(t,e)} ${zE(t,e)}${Z9(t,e)} on ${Nc(t,e)} (${Pc(t,e)})${e6(t,e)}`}function X9(t,e){return t.unique?" UNIQUE":""}function QE(t,e){return t.exists?" IF NOT EXISTS":""}function zE(t,e){return t.schema!==null?`${or(t.schema,e)}.`:""}function Z9(t,e){return or(t.index,e)}function Nc(t,e){return or(t.table,e)}function e6(t,e){return t.where!==null?` where ${sr(t.where)}`:""}function Pc(t,e){return t.columns.map(r=>r.expression?r6(r,e):t6(r,e)).join(", ")}function t6(t,e){return`${or(t.name,e)}${GE(t,e)}${Rc(t,e)}`}function r6(t,e){return`${n6(t.name,e)}${GE(t,e)}${Rc(t,e)}`}function GE(t,e){return t.collation!==null?` COLLATE ${t.collation}`:""}function Rc(t,e){return t.order!==null?` ${t.order}`:""}function n6(t,e){return sr(t,e)}function sr(t,e){return t.reduce((r,n)=>Array.isArray(n)?`${r}(${sr(n)})`:r?`${r} ${n}`:n,"")}function or(t,e){return e(t)}KE.exports={compileCreateTable:_9,compileCreateIndex:x9}});var XE=c((loe,YE)=>{function VE(t,e){return t.toLowerCase()===e.toLowerCase()}function i6(t,e){return t.some(r=>VE(r,e))}YE.exports={isEqualId:VE,includesId:i6}});var iq=c((hoe,nq)=>{var s6=Xe(),{nanonum:o6}=Is(),{copyData:ZE,dropOriginal:eq,renameTable:tq,getTableSql:a6,isForeignCheckEnabled:u6,setForeignCheck:jc,executeForeignCheck:rq}=vE(),{parseCreateTable:ar,parseCreateIndex:c6}=WE(),{compileCreateTable:ur,compileCreateIndex:l6}=JE(),{isEqualId:Ws,includesId:cr}=XE(),Mc=class{constructor(e,r,n,i){this.client=e,this.tableCompiler=r,this.pragma=n,this.tableNameRaw=this.tableCompiler.tableNameRaw,this.alteredName=`_knex_temp_alter${o6(3)}`,this.connection=i,this.formatter=s=>this.client.customWrapIdentifier(s,s6),this.wrap=s=>this.client.wrapIdentifierImpl(s)}tableName(){return this.formatter(this.tableNameRaw)}getTableSql(){let e=this.tableName();return this.client.transaction(async r=>{r.disableProcessing();let n=await r.raw(a6(e));return r.enableProcessing(),{createTable:n.filter(i=>i.type==="table")[0].sql,createIndices:n.filter(i=>i.type==="index").map(i=>i.sql)}},{connection:this.connection})}async isForeignCheckEnabled(){return(await this.client.raw(u6()).connection(this.connection))[0].foreign_keys===1}async setForeignCheck(e){await this.client.raw(jc(e)).connection(this.connection)}renameTable(e){return e.raw(tq(this.alteredName,this.tableName()))}dropOriginal(e){return e.raw(eq(this.tableName()))}copyData(e,r){return e.raw(ZE(this.tableName(),this.alteredName,r))}async alterColumn(e){let{createTable:r,createIndices:n}=await this.getTableSql(),i=ar(r);i.table=this.alteredName,i.columns=i.columns.map(o=>{let a=e.find(u=>Ws(u.name,o.name));return a&&(o.type=a.type,o.constraints.default=a.defaultTo!==null?{name:null,value:a.defaultTo,expression:!1}:null,o.constraints.notnull=a.notNull?{name:null,conflict:null}:null,o.constraints.null=a.notNull?null:o.constraints.null),o});let s=ur(i,this.wrap);return this.generateAlterCommands(s,n)}async dropColumn(e){let{createTable:r,createIndices:n}=await this.getTableSql(),i=ar(r);if(i.table=this.alteredName,i.columns=i.columns.filter(u=>u.expression||!cr(e,u.name)),i.columns.length===0)throw new Error("Unable to drop last column from table");i.constraints=i.constraints.filter(u=>u.type==="PRIMARY KEY"||u.type==="UNIQUE"?u.columns.every(l=>l.expression||!cr(e,l.name)):u.type==="FOREIGN KEY"?u.columns.every(l=>!cr(e,l))&&(u.references.table!==i.table||u.references.columns.every(l=>!cr(e,l))):!0);let s=i.columns.map(u=>u.name),o=ur(i,this.wrap),a=[];for(let u of n){let l=c6(u);l.columns=l.columns.filter(h=>h.expression||!cr(e,h.name)),l.columns.length>0&&a.push(l6(l,this.wrap))}return this.alter(o,a,s)}async dropForeign(e,r){let{createTable:n,createIndices:i}=await this.getTableSql(),s=ar(n);s.table=this.alteredName,r||(s.columns=s.columns.map(a=>me($({},a),{references:cr(e,a.name)?null:a.references}))),s.constraints=s.constraints.filter(a=>a.type==="FOREIGN KEY"?r?!a.name||!Ws(a.name,r):a.columns.every(u=>!cr(e,u)):!0);let o=ur(s,this.wrap);return this.alter(o,i)}async dropPrimary(e){let{createTable:r,createIndices:n}=await this.getTableSql(),i=ar(r);i.table=this.alteredName,i.columns=i.columns.map(o=>me($({},o),{primary:null})),i.constraints=i.constraints.filter(o=>o.type==="PRIMARY KEY"?e?!o.name||!Ws(o.name,e):!1:!0);let s=ur(i,this.wrap);return this.alter(s,n)}async primary(e,r){let{createTable:n,createIndices:i}=await this.getTableSql(),s=ar(n);s.table=this.alteredName,s.columns=s.columns.map(a=>me($({},a),{primary:null})),s.constraints=s.constraints.filter(a=>a.type!=="PRIMARY KEY"),s.constraints.push({type:"PRIMARY KEY",name:r||null,columns:e.map(a=>({name:a,expression:!1,collation:null,order:null})),conflict:null});let o=ur(s,this.wrap);return this.alter(o,i)}async foreign(e){let{createTable:r,createIndices:n}=await this.getTableSql(),i=ar(r);i.table=this.alteredName,i.constraints.push({type:"FOREIGN KEY",name:e.keyName||null,columns:e.column,references:{table:e.inTable,columns:e.references,delete:e.onDelete||null,update:e.onUpdate||null,match:null,deferrable:null}});let s=ur(i,this.wrap);return this.generateAlterCommands(s,n)}async setNullable(e,r){let{createTable:n,createIndices:i}=await this.getTableSql(),s=ar(n);s.table=this.alteredName;let o=s.columns.find(u=>Ws(e,u.name));if(!o)throw new Error(`.setNullable: Column ${e} does not exist in table ${this.tableName()}.`);o.constraints.notnull=r?null:{name:null,conflict:null},o.constraints.null=r?o.constraints.null:null;let a=ur(s,this.wrap);return this.generateAlterCommands(a,i)}async alter(e,r,n){let i=await this.isForeignCheckEnabled();i&&await this.setForeignCheck(!1);try{await this.client.transaction(async s=>{await s.raw(e),await this.copyData(s,n),await this.dropOriginal(s),await this.renameTable(s);for(let o of r)await s.raw(o);if(i&&(await s.raw(rq())).length>0)throw new Error("FOREIGN KEY constraint failed")},{connection:this.connection})}finally{i&&await this.setForeignCheck(!0)}}async generateAlterCommands(e,r,n){let i=[],s=[],o=[],a=null;i.push(e),i.push(ZE(this.tableName(),this.alteredName,n)),i.push(eq(this.tableName())),i.push(tq(this.alteredName,this.tableName()));for(let l of r)i.push(l);return await this.isForeignCheckEnabled()&&(s.push(jc(!1)),o.push(jc(!0)),a=rq()),{pre:s,sql:i,check:a,post:o}}};nq.exports=Mc});var oq=c((poe,sq)=>{var h6=Kr();sq.exports=class extends h6{withMaterialized(e,r,n){return this._validateWithArgs(e,r,n,"with"),this.withWrapped(e,r,n,!0)}withNotMaterialized(e,r,n){return this._validateWithArgs(e,r,n,"with"),this.withWrapped(e,r,n,!1)}}});var Lc=c((moe,aq)=>{var f6=ka(),d6=ec(),{promisify:p6}=require("util"),m6=Fs(),g6=Vn(),y6=tE(),w6=sE(),b6=hE(),_6=dE(),x6=wE(),v6=_E(),E6=iq(),q6=yc(),S6=oq(),Us=class extends m6{constructor(e){super(e),e.connection&&e.connection.filename===void 0&&this.logger.warn("Could not find `connection.filename` in config. Please specify the database path and name to avoid errors. (see docs https://knexjs.org/guide/#configuration-options)"),e.useNullAsDefault===void 0&&this.logger.warn("sqlite does not support inserting default values. Set the `useNullAsDefault` flag to hide this warning. (see docs https://knexjs.org/guide/query-builder.html#insert).")}_driver(){return require("sqlite3")}schemaCompiler(){return new b6(this,...arguments)}transaction(){return new y6(this,...arguments)}queryCompiler(e,r){return new w6(this,e,r)}queryBuilder(){return new S6(this)}viewCompiler(e,r){return new v6(this,e,r)}columnCompiler(){return new _6(this,...arguments)}tableCompiler(){return new x6(this,...arguments)}ddl(e,r,n){return new E6(this,e,r,n)}wrapIdentifierImpl(e){return e!=="*"?`\\`${e.replace(/`/g,"``")}\\``:"*"}acquireRawConnection(){return new Promise((e,r)=>{let n=this.driver.OPEN_READWRITE|this.driver.OPEN_CREATE;if(this.connectionSettings.flags){if(!Array.isArray(this.connectionSettings.flags))throw new Error("flags must be an array of strings");this.connectionSettings.flags.forEach(s=>{if(!s.startsWith("OPEN_")||!this.driver[s])throw new Error(`flag ${s} not supported by node-sqlite3`);n=n|this.driver[s]})}let i=new this.driver.Database(this.connectionSettings.filename,n,s=>{if(s)return r(s);e(i)})})}async destroyRawConnection(e){return p6(n=>e.close(n))()}_query(e,r){if(!r.sql)throw new Error("The query is empty");let{method:n}=r,i;switch(n){case"insert":case"update":i=r.returning?"all":"run";break;case"counter":case"del":i="run";break;default:i="all"}return new Promise(function(s,o){if(!e||!e[i])return o(new Error(`Error calling ${i} on connection.`));e[i](r.sql,r.bindings,function(a,u){return a?o(a):(r.response=u,r.context=this,s(r))})})}_stream(e,r,n){if(!r.sql)throw new Error("The query is empty");let i=this;return new Promise(function(s,o){return n.on("error",o),n.on("end",s),i._query(e,r).then(a=>a.response).then(a=>a.forEach(u=>n.write(u))).catch(function(a){n.emit("error",a)}).then(function(){n.end()})})}processResponse(e,r){let n=e.context,{response:i,returning:s}=e;if(e.output)return e.output.call(r,i);switch(e.method){case"select":return i;case"first":return i[0];case"pluck":return d6(i,e.pluck);case"insert":return s&&i?i:[n.lastID];case"update":return s&&i?i:n.changes;case"del":case"counter":return n.changes;default:return i}}poolDefaults(){return f6({min:1,max:1},super.poolDefaults())}formatter(e){return new q6(this,e)}values(e,r,n){return Array.isArray(e)?Array.isArray(e[0])?`( values ${e.map(i=>`(${this.parameterize(i,void 0,r,n)})`).join(", ")})`:`(${this.parameterize(e,void 0,r,n)})`:e instanceof g6?`(${this.parameter(e,r,n)})`:this.parameter(e,r,n)}};Object.assign(Us.prototype,{dialect:"sqlite3",driverName:"sqlite3"});aq.exports=Us});var tt=c(Hs=>{"use strict";Hs.getBooleanOption=(t,e)=>{let r=!1;if(e in t&&typeof(r=t[e])!="boolean")throw new TypeError(`Expected the "${e}" option to be a boolean`);return r};Hs.cppdb=Symbol();Hs.inspect=Symbol.for("nodejs.util.inspect.custom")});var Fc=c((yoe,uq)=>{"use strict";var $c={value:"SqliteError",writable:!0,enumerable:!1,configurable:!0};function lr(t,e){if(new.target!==lr)return new lr(t,e);if(typeof e!="string")throw new TypeError("Expected second argument to be a string");Error.call(this,t),$c.value=""+t,Object.defineProperty(this,"message",$c),Error.captureStackTrace(this,lr),this.code=e}Object.setPrototypeOf(lr,Error);Object.setPrototypeOf(lr.prototype,Error.prototype);Object.defineProperty(lr.prototype,"name",$c);uq.exports=lr});var lq=c((woe,cq)=>{var Qs=require("path").sep||"/";cq.exports=T6;function T6(t){if(typeof t!="string"||t.length<=7||t.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var e=decodeURI(t.substring(7)),r=e.indexOf("/"),n=e.substring(0,r),i=e.substring(r+1);return n=="localhost"&&(n=""),n&&(n=Qs+Qs+n),i=i.replace(/^(.+)\\|/,"$1:"),Qs=="\\\\"&&(i=i.replace(/\\//g,"\\\\")),/^.+\\:/.test(i)||(i=Qs+i),n+i}});var pq=c((tn,dq)=>{var Dc=require("fs"),Gs=require("path"),C6=lq(),zs=Gs.join,O6=Gs.dirname,hq=Dc.accessSync&&function(t){try{Dc.accessSync(t)}catch(e){return!1}return!0}||Dc.existsSync||Gs.existsSync,fq={arrow:process.env.NODE_BINDINGS_ARROW||" \\u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function I6(t){typeof t=="string"?t={bindings:t}:t||(t={}),Object.keys(fq).map(function(u){u in t||(t[u]=fq[u])}),t.module_root||(t.module_root=tn.getRoot(tn.getFileName())),Gs.extname(t.bindings)!=".node"&&(t.bindings+=".node");for(var e=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,i=t.try.length,s,o,a;n<i;n++){s=zs.apply(null,t.try[n].map(function(u){return t[u]||u})),r.push(s);try{return o=t.path?e.resolve(s):e(s),t.path||(o.path=s),o}catch(u){if(u.code!=="MODULE_NOT_FOUND"&&u.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(u.message))throw u}}throw a=new Error(`Could not locate the bindings file. Tried:\n`+r.map(function(u){return t.arrow+u}).join(`\n`)),a.tries=r,a}dq.exports=tn=I6;tn.getFileName=function(e){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,i={},s;Error.stackTraceLimit=10,Error.prepareStackTrace=function(a,u){for(var l=0,h=u.length;l<h;l++)if(s=u[l].getFileName(),s!==__filename)if(e){if(s!==e)return}else return},Error.captureStackTrace(i),i.stack,Error.prepareStackTrace=r,Error.stackTraceLimit=n;var o="file://";return s.indexOf(o)===0&&(s=C6(s)),s};tn.getRoot=function(e){for(var r=O6(e),n;;){if(r==="."&&(r=process.cwd()),hq(zs(r,"package.json"))||hq(zs(r,"node_modules")))return r;if(n===r)throw new Error(\'Could not find module root given file: "\'+e+\'". Do you have a `package.json` file? \');n=r,r=zs(r,"..")}}});var mq=c(Pt=>{"use strict";var{cppdb:Ke}=tt();Pt.prepare=function(e){return this[Ke].prepare(e,this,!1)};Pt.exec=function(e){return this[Ke].exec(e),this};Pt.close=function(){return this[Ke].close(),this};Pt.loadExtension=function(...e){return this[Ke].loadExtension(...e),this};Pt.defaultSafeIntegers=function(...e){return this[Ke].defaultSafeIntegers(...e),this};Pt.unsafeMode=function(...e){return this[Ke].unsafeMode(...e),this};Pt.getters={name:{get:function(){return this[Ke].name},enumerable:!0},open:{get:function(){return this[Ke].open},enumerable:!0},inTransaction:{get:function(){return this[Ke].inTransaction},enumerable:!0},readonly:{get:function(){return this[Ke].readonly},enumerable:!0},memory:{get:function(){return this[Ke].memory},enumerable:!0}}});var wq=c((_oe,yq)=>{"use strict";var{cppdb:A6}=tt(),gq=new WeakMap;yq.exports=function(e){if(typeof e!="function")throw new TypeError("Expected first argument to be a function");let r=this[A6],n=k6(r,this),{apply:i}=Function.prototype,s={default:{value:Ks(i,e,r,n.default)},deferred:{value:Ks(i,e,r,n.deferred)},immediate:{value:Ks(i,e,r,n.immediate)},exclusive:{value:Ks(i,e,r,n.exclusive)},database:{value:this,enumerable:!0}};return Object.defineProperties(s.default.value,s),Object.defineProperties(s.deferred.value,s),Object.defineProperties(s.immediate.value,s),Object.defineProperties(s.exclusive.value,s),s.default.value};var k6=(t,e)=>{let r=gq.get(t);if(!r){let n={commit:t.prepare("COMMIT",e,!1),rollback:t.prepare("ROLLBACK",e,!1),savepoint:t.prepare("SAVEPOINT `	_bs3.	`",e,!1),release:t.prepare("RELEASE `	_bs3.	`",e,!1),rollbackTo:t.prepare("ROLLBACK TO `	_bs3.	`",e,!1)};gq.set(t,r={default:Object.assign({begin:t.prepare("BEGIN",e,!1)},n),deferred:Object.assign({begin:t.prepare("BEGIN DEFERRED",e,!1)},n),immediate:Object.assign({begin:t.prepare("BEGIN IMMEDIATE",e,!1)},n),exclusive:Object.assign({begin:t.prepare("BEGIN EXCLUSIVE",e,!1)},n)})}return r},Ks=(t,e,r,{begin:n,commit:i,rollback:s,savepoint:o,release:a,rollbackTo:u})=>function(){let h,f,d;r.inTransaction?(h=o,f=a,d=u):(h=n,f=i,d=s),h.run();try{let p=t.call(e,this,arguments);return f.run(),p}catch(p){throw r.inTransaction&&(d.run(),d!==s&&f.run()),p}}});var _q=c((xoe,bq)=>{"use strict";var{getBooleanOption:N6,cppdb:P6}=tt();bq.exports=function(e,r){if(r==null&&(r={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");let n=N6(r,"simple"),i=this[P6].prepare(`PRAGMA ${e}`,this,!0);return n?i.pluck().get():i.all()}});var Eq=c((voe,vq)=>{"use strict";var R6=require("fs"),j6=require("path"),{promisify:M6}=require("util"),{cppdb:L6}=tt(),xq=M6(R6.access);vq.exports=async function(e,r){if(r==null&&(r={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");e=e.trim();let n="attached"in r?r.attached:"main",i="progress"in r?r.progress:null;if(!e)throw new TypeError("Backup filename cannot be an empty string");if(e===":memory:")throw new TypeError(\'Invalid backup filename ":memory:"\');if(typeof n!="string")throw new TypeError(\'Expected the "attached" option to be a string\');if(!n)throw new TypeError(\'The "attached" option cannot be an empty string\');if(i!=null&&typeof i!="function")throw new TypeError(\'Expected the "progress" option to be a function\');await xq(j6.dirname(e)).catch(()=>{throw new TypeError("Cannot save backup because the directory does not exist")});let s=await xq(e).then(()=>!1,()=>!0);return $6(this[L6].backup(this,n,e,s),i||null)};var $6=(t,e)=>{let r=0,n=!0;return new Promise((i,s)=>{setImmediate(function o(){try{let a=t.transfer(r);if(!a.remainingPages){t.close(),i(a);return}if(n&&(n=!1,r=100),e){let u=e(a);if(u!==void 0)if(typeof u=="number"&&u===u)r=Math.max(0,Math.min(2147483647,Math.round(u)));else throw new TypeError("Expected progress callback to return a number or undefined")}setImmediate(o)}catch(a){t.close(),s(a)}})})}});var Sq=c((Eoe,qq)=>{"use strict";var{cppdb:F6}=tt();qq.exports=function(e){if(e==null&&(e={}),typeof e!="object")throw new TypeError("Expected first argument to be an options object");let r="attached"in e?e.attached:"main";if(typeof r!="string")throw new TypeError(\'Expected the "attached" option to be a string\');if(!r)throw new TypeError(\'The "attached" option cannot be an empty string\');return this[F6].serialize(r)}});var Cq=c((qoe,Tq)=>{"use strict";var{getBooleanOption:Js,cppdb:D6}=tt();Tq.exports=function(e,r,n){if(r==null&&(r={}),typeof r=="function"&&(n=r,r={}),typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof n!="function")throw new TypeError("Expected last argument to be a function");if(typeof r!="object")throw new TypeError("Expected second argument to be an options object");if(!e)throw new TypeError("User-defined function name cannot be an empty string");let i="safeIntegers"in r?+Js(r,"safeIntegers"):2,s=Js(r,"deterministic"),o=Js(r,"directOnly"),a=Js(r,"varargs"),u=-1;if(!a){if(u=n.length,!Number.isInteger(u)||u<0)throw new TypeError("Expected function.length to be a positive integer");if(u>100)throw new RangeError("User-defined functions cannot have more than 100 arguments")}return this[D6].function(n,e,u,i,s,o),this}});var Aq=c((Soe,Iq)=>{"use strict";var{getBooleanOption:Vs,cppdb:B6}=tt();Iq.exports=function(e,r){if(typeof e!="string")throw new TypeError("Expected first argument to be a string");if(typeof r!="object"||r===null)throw new TypeError("Expected second argument to be an options object");if(!e)throw new TypeError("User-defined function name cannot be an empty string");let n="start"in r?r.start:null,i=Bc(r,"step",!0),s=Bc(r,"inverse",!1),o=Bc(r,"result",!1),a="safeIntegers"in r?+Vs(r,"safeIntegers"):2,u=Vs(r,"deterministic"),l=Vs(r,"directOnly"),h=Vs(r,"varargs"),f=-1;if(!h&&(f=Math.max(Oq(i),s?Oq(s):0),f>0&&(f-=1),f>100))throw new RangeError("User-defined functions cannot have more than 100 arguments");return this[B6].aggregate(n,i,s,o,e,f,a,u,l),this};var Bc=(t,e,r)=>{let n=e in t?t[e]:null;if(typeof n=="function")return n;if(n!=null)throw new TypeError(`Expected the "${e}" option to be a function`);if(r)throw new TypeError(`Missing required option "${e}"`);return null},Oq=({length:t})=>{if(Number.isInteger(t)&&t>=0)return t;throw new TypeError("Expected function.length to be a positive integer")}});var Rq=c((Toe,Pq)=>{"use strict";var{cppdb:W6}=tt();Pq.exports=function(e,r){if(typeof e!="string")throw new TypeError("Expected first argument to be a string");if(!e)throw new TypeError("Virtual table module name cannot be an empty string");let n=!1;if(typeof r=="object"&&r!==null)n=!0,r=V6(Nq(r,"used",e));else{if(typeof r!="function")throw new TypeError("Expected second argument to be a function or a table definition object");r=U6(r)}return this[W6].table(r,e,n),this};function U6(t){return function(r,n,i,...s){let o={module:r,database:n,table:i},a=K6.call(t,o,s);if(typeof a!="object"||a===null)throw new TypeError(`Virtual table module "${r}" did not return a table definition object`);return Nq(a,"returned",r)}}function Nq(t,e,r){if(!ni.call(t,"rows"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition without a "rows" property`);if(!ni.call(t,"columns"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition without a "columns" property`);let n=t.rows;if(typeof n!="function"||Object.getPrototypeOf(n)!==J6)throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "rows" property (should be a generator function)`);let i=t.columns;if(!Array.isArray(i)||!(i=[...i]).every(l=>typeof l=="string"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "columns" property (should be an array of strings)`);if(i.length!==new Set(i).size)throw new TypeError(`Virtual table module "${r}" ${e} a table definition with duplicate column names`);if(!i.length)throw new RangeError(`Virtual table module "${r}" ${e} a table definition with zero columns`);let s;if(ni.call(t,"parameters")){if(s=t.parameters,!Array.isArray(s)||!(s=[...s]).every(l=>typeof l=="string"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "parameters" property (should be an array of strings)`)}else s=G6(n);if(s.length!==new Set(s).size)throw new TypeError(`Virtual table module "${r}" ${e} a table definition with duplicate parameter names`);if(s.length>32)throw new RangeError(`Virtual table module "${r}" ${e} a table definition with more than the maximum number of 32 parameters`);for(let l of s)if(i.includes(l))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with column "${l}" which was ambiguously defined as both a column and parameter`);let o=2;if(ni.call(t,"safeIntegers")){let l=t.safeIntegers;if(typeof l!="boolean")throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "safeIntegers" property (should be a boolean)`);o=+l}let a=!1;if(ni.call(t,"directOnly")&&(a=t.directOnly,typeof a!="boolean"))throw new TypeError(`Virtual table module "${r}" ${e} a table definition with an invalid "directOnly" property (should be a boolean)`);return[`CREATE TABLE x(${[...s.map(kq).map(l=>`${l} HIDDEN`),...i.map(kq)].join(", ")});`,H6(n,new Map(i.map((l,h)=>[l,s.length+h])),r),s,o,a]}function H6(t,e,r){return function*(...i){let s=i.map(o=>Buffer.isBuffer(o)?Buffer.from(o):o);for(let o=0;o<e.size;++o)s.push(null);for(let o of t(...i))if(Array.isArray(o))Q6(o,s,e.size,r),yield s;else if(typeof o=="object"&&o!==null)z6(o,s,e,r),yield s;else throw new TypeError(`Virtual table module "${r}" yielded something that isn\'t a valid row object`)}}function Q6(t,e,r,n){if(t.length!==r)throw new TypeError(`Virtual table module "${n}" yielded a row with an incorrect number of columns`);let i=e.length-r;for(let s=0;s<r;++s)e[s+i]=t[s]}function z6(t,e,r,n){let i=0;for(let s of Object.keys(t)){let o=r.get(s);if(o===void 0)throw new TypeError(`Virtual table module "${n}" yielded a row with an undeclared column "${s}"`);e[o]=t[s],i+=1}if(i!==r.size)throw new TypeError(`Virtual table module "${n}" yielded a row with missing columns`)}function G6({length:t}){if(!Number.isInteger(t)||t<0)throw new TypeError("Expected function.length to be a positive integer");let e=[];for(let r=0;r<t;++r)e.push(`$${r+1}`);return e}var{hasOwnProperty:ni}=Object.prototype,{apply:K6}=Function.prototype,J6=Object.getPrototypeOf(function*(){}),kq=t=>`"${t.replace(/"/g,\'""\')}"`,V6=t=>()=>t});var Mq=c((Coe,jq)=>{"use strict";var Y6=function(){};jq.exports=function(e,r){return Object.assign(new Y6,this)}});var Dq=c((Ooe,Fq)=>{"use strict";var X6=require("fs"),Lq=require("path"),ii=tt(),Z6=Fc(),$q;function fe(t,e){if(new.target==null)return new fe(t,e);let r;if(Buffer.isBuffer(t)&&(r=t,t=":memory:"),t==null&&(t=""),e==null&&(e={}),typeof t!="string")throw new TypeError("Expected first argument to be a string");if(typeof e!="object")throw new TypeError("Expected second argument to be an options object");if("readOnly"in e)throw new TypeError(\'Misspelled option "readOnly" should be "readonly"\');if("memory"in e)throw new TypeError(\'Option "memory" was removed in v7.0.0 (use ":memory:" filename instead)\');let n=t.trim(),i=n===""||n===":memory:",s=ii.getBooleanOption(e,"readonly"),o=ii.getBooleanOption(e,"fileMustExist"),a=ii.getBooleanOption(e,"uriPath"),u="timeout"in e?e.timeout:5e3,l="verbose"in e?e.verbose:null,h="nativeBinding"in e?e.nativeBinding:null;if(s&&i&&!r)throw new TypeError("In-memory/temporary databases cannot be readonly");if(!Number.isInteger(u)||u<0)throw new TypeError(\'Expected the "timeout" option to be a positive integer\');if(u>2147483647)throw new RangeError(\'Option "timeout" cannot be greater than 2147483647\');if(l!=null&&typeof l!="function")throw new TypeError(\'Expected the "verbose" option to be a function\');if(h!=null&&typeof h!="string")throw new TypeError(\'Expected the "nativeBinding" option to be a string\');let f;if(h==null?f=$q||($q=pq()("better_sqlite3.node")):f=require(Lq.resolve(h).replace(/(\\.node)?$/,".node")),f.isInitialized||(f.setErrorConstructor(Z6),f.isInitialized=!0),!i&&!a&&!X6.existsSync(Lq.dirname(n)))throw new TypeError("Cannot open database because the directory does not exist");Object.defineProperties(this,$({[ii.cppdb]:{value:new f.Database(n,t,i,s,o,a,u,l||null,r||null)}},hr.getters))}var hr=mq();fe.prototype.prepare=hr.prepare;fe.prototype.transaction=wq();fe.prototype.pragma=_q();fe.prototype.backup=Eq();fe.prototype.serialize=Sq();fe.prototype.function=Cq();fe.prototype.aggregate=Aq();fe.prototype.table=Rq();fe.prototype.loadExtension=hr.loadExtension;fe.prototype.exec=hr.exec;fe.prototype.close=hr.close;fe.prototype.defaultSafeIntegers=hr.defaultSafeIntegers;fe.prototype.unsafeMode=hr.unsafeMode;fe.prototype[ii.inspect]=Mq();Fq.exports=fe});var Bq=c((Aoe,Wc)=>{"use strict";Wc.exports=Dq();Wc.exports.SqliteError=Fc()});var Uq=c((koe,Wq)=>{var eY=Lc(),Ys=class extends eY{_driver(){return Bq()}async acquireRawConnection(){return new this.driver(this.connectionSettings.filename,{readonly:this.connectionSettings.readonly,uriPath:!0,nativeBinding:this.connectionSettings.nativeBinding})}async destroyRawConnection(e){return e.close()}async _query(e,r){if(!r.sql)throw new Error("The query is empty");if(!e)throw new Error("No connection provided");let n=e.prepare(r.sql),i=this._formatBindings(r.bindings);if(n.reader){let o=await n.all(i);return r.response=o,r}let s=await n.run(i);return r.response=s,r.context={lastID:s.lastInsertRowid,changes:s.changes},r}_formatBindings(e){return e?e.map(r=>r instanceof Date?r.valueOf():typeof r=="boolean"?Number(r):r):[]}};Object.assign(Ys.prototype,{driverName:"better-sqlite3"});Wq.exports=Ys});var Hq=c(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.getDialectByNameOrAlias=void 0;var{resolveClientNameWithAliases:tY}=je(),rY=Object.freeze({"better-sqlite3":()=>Uq(),sqlite3:()=>Lc()});function nY(t){let e=tY(t),r=rY[e];if(!r)throw new Error(`Invalid clientName given: ${t}`);return r()}Xs.getDialectByNameOrAlias=nY});var Gq=c((Poe,zq)=>{var iY=Fs(),{SUPPORTED_CLIENTS:sY}=xs(),Qq=Zv(),{getDialectByNameOrAlias:oY}=Hq();function aY(t){let e,r,n=typeof t=="string"?Object.assign(Qq(t),arguments[2]):t;if(arguments.length===0||!n.client&&!n.dialect)e=iY;else if(typeof n.client=="function")e=n.client;else{let i=n.client||n.dialect;if(!sY.includes(i))throw new Error(`knex: Unknown configuration option \'client\' value ${i}. Note that it is case-sensitive, check documentation for supported values.`);e=oY(i)}return typeof n.connection=="string"?r=Object.assign({},n,{connection:Qq(n.connection).connection}):r=Object.assign({},n),{resolvedConfig:r,Dialect:e}}zq.exports={resolveConfig:aY}});var Jq=c((Roe,Kq)=>{var uY=Fs(),cY=Kr(),lY=ku(),hY=ju(),{KnexTimeoutError:fY}=Fr(),{resolveConfig:dY}=Gq(),pY=ic(),mY=wc(),gY=hc(),yY=cc();function Rt(t){let{resolvedConfig:e,Dialect:r}=dY(...arguments),n=hY(new r(e));return e.userParams&&(n.userParams=e.userParams),n}Rt.Client=uY;Rt.KnexTimeoutError=fY;Rt.QueryBuilder={extend:function(t,e){cY.extend(t,e),lY.push(t)}};Rt.SchemaBuilder={extend:function(t,e){pY.extend(t,e)}};Rt.ViewBuilder={extend:function(t,e){mY.extend(t,e)}};Rt.ColumnBuilder={extend:function(t,e){gY.extend(t,e)}};Rt.TableBuilder={extend:function(t,e){yY.extend(t,e)}};Kq.exports=Rt});var Yq=c((joe,Vq)=>{var wY=Jq();Vq.exports=wY});var Zq=c((Moe,Xq)=>{var si=Yq();si.knex=si;si.default=si;Xq.exports=si});var nS=c(($oe,rS)=>{"use strict";rS.exports=xY;function rn(t){return t instanceof Buffer?Buffer.from(t):new t.constructor(t.buffer.slice(),t.byteOffset,t.length)}function xY(t){if(t=t||{},t.circles)return vY(t);return t.proto?n:r;function e(i,s){for(var o=Object.keys(i),a=new Array(o.length),u=0;u<o.length;u++){var l=o[u],h=i[l];typeof h!="object"||h===null?a[l]=h:h instanceof Date?a[l]=new Date(h):ArrayBuffer.isView(h)?a[l]=rn(h):a[l]=s(h)}return a}function r(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,r);if(i instanceof Map)return new Map(e(Array.from(i),r));if(i instanceof Set)return new Set(e(Array.from(i),r));var s={};for(var o in i)if(Object.hasOwnProperty.call(i,o)!==!1){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(e(Array.from(a),r)):a instanceof Set?s[o]=new Set(e(Array.from(a),r)):ArrayBuffer.isView(a)?s[o]=rn(a):s[o]=r(a)}return s}function n(i){if(typeof i!="object"||i===null)return i;if(i instanceof Date)return new Date(i);if(Array.isArray(i))return e(i,n);if(i instanceof Map)return new Map(e(Array.from(i),n));if(i instanceof Set)return new Set(e(Array.from(i),n));var s={};for(var o in i){var a=i[o];typeof a!="object"||a===null?s[o]=a:a instanceof Date?s[o]=new Date(a):a instanceof Map?s[o]=new Map(e(Array.from(a),n)):a instanceof Set?s[o]=new Set(e(Array.from(a),n)):ArrayBuffer.isView(a)?s[o]=rn(a):s[o]=n(a)}return s}}function vY(t){var e=[],r=[];return t.proto?s:i;function n(o,a){for(var u=Object.keys(o),l=new Array(u.length),h=0;h<u.length;h++){var f=u[h],d=o[f];if(typeof d!="object"||d===null)l[f]=d;else if(d instanceof Date)l[f]=new Date(d);else if(ArrayBuffer.isView(d))l[f]=rn(d);else{var p=e.indexOf(d);p!==-1?l[f]=r[p]:l[f]=a(d)}}return l}function i(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,i);if(o instanceof Map)return new Map(n(Array.from(o),i));if(o instanceof Set)return new Set(n(Array.from(o),i));var a={};e.push(o),r.push(a);for(var u in o)if(Object.hasOwnProperty.call(o,u)!==!1){var l=o[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(n(Array.from(l),i));else if(l instanceof Set)a[u]=new Set(n(Array.from(l),i));else if(ArrayBuffer.isView(l))a[u]=rn(l);else{var h=e.indexOf(l);h!==-1?a[u]=r[h]:a[u]=i(l)}}return e.pop(),r.pop(),a}function s(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return n(o,s);if(o instanceof Map)return new Map(n(Array.from(o),s));if(o instanceof Set)return new Set(n(Array.from(o),s));var a={};e.push(o),r.push(a);for(var u in o){var l=o[u];if(typeof l!="object"||l===null)a[u]=l;else if(l instanceof Date)a[u]=new Date(l);else if(l instanceof Map)a[u]=new Map(n(Array.from(l),s));else if(l instanceof Set)a[u]=new Set(n(Array.from(l),s));else if(ArrayBuffer.isView(l))a[u]=rn(l);else{var h=e.indexOf(l);h!==-1?a[u]=r[h]:a[u]=s(l)}}return e.pop(),r.pop(),a}}});var dr=c((Foe,aS)=>{var EY=require("util"),fr=G()("log4js:configuration"),Zs=[],eo=[],iS=t=>!t,sS=t=>t&&typeof t=="object"&&!Array.isArray(t),qY=t=>/^[A-Za-z][A-Za-z0-9_]*$/g.test(t),SY=t=>t&&typeof t=="number"&&Number.isInteger(t),TY=t=>{eo.push(t),fr(`Added listener, now ${eo.length} listeners`)},CY=t=>{Zs.push(t),fr(`Added pre-processing listener, now ${Zs.length} listeners`)},oS=(t,e,r)=>{(Array.isArray(e)?e:[e]).forEach(i=>{if(i)throw new Error(`Problem with log4js configuration: (${EY.inspect(t,{depth:5})}) - ${r}`)})},OY=t=>{fr("New configuration to be validated: ",t),oS(t,iS(sS(t)),"must be an object."),fr(`Calling pre-processing listeners (${Zs.length})`),Zs.forEach(e=>e(t)),fr("Configuration pre-processing finished."),fr(`Calling configuration listeners (${eo.length})`),eo.forEach(e=>e(t)),fr("Configuration finished.")};aS.exports={configure:OY,addListener:TY,addPreProcessingListener:CY,throwExceptionIf:oS,anObject:sS,anInteger:SY,validIdentifier:qY,not:iS}});var to=c((Doe,Le)=>{"use strict";function uS(t,e){for(var r=t.toString();r.length<e;)r="0"+r;return r}function pr(t){return uS(t,2)}function IY(t){var e=Math.abs(t),r=String(Math.floor(e/60)),n=String(e%60);return r=("0"+r).slice(-2),n=("0"+n).slice(-2),t===0?"Z":(t<0?"+":"-")+r+":"+n}function cS(t,e){typeof t!="string"&&(e=t,t=Le.exports.ISO8601_FORMAT),e||(e=Le.exports.now());var r=pr(e.getDate()),n=pr(e.getMonth()+1),i=pr(e.getFullYear()),s=pr(i.substring(2,4)),o=t.indexOf("yyyy")>-1?i:s,a=pr(e.getHours()),u=pr(e.getMinutes()),l=pr(e.getSeconds()),h=uS(e.getMilliseconds(),3),f=IY(e.getTimezoneOffset()),d=t.replace(/dd/g,r).replace(/MM/g,n).replace(/y{1,4}/g,o).replace(/hh/g,a).replace(/mm/g,u).replace(/ss/g,l).replace(/SSS/g,h).replace(/O/g,f);return d}function jt(t,e,r,n){t["set"+(n?"":"UTC")+e](r)}function AY(t,e,r){var n=t.indexOf("O")<0,i=!1,s=[{pattern:/y{1,4}/,regexp:"\\\\d{1,4}",fn:function(f,d){jt(f,"FullYear",d,n)}},{pattern:/MM/,regexp:"\\\\d{1,2}",fn:function(f,d){jt(f,"Month",d-1,n),f.getMonth()!==d-1&&(i=!0)}},{pattern:/dd/,regexp:"\\\\d{1,2}",fn:function(f,d){i&&jt(f,"Month",f.getMonth()-1,n),jt(f,"Date",d,n)}},{pattern:/hh/,regexp:"\\\\d{1,2}",fn:function(f,d){jt(f,"Hours",d,n)}},{pattern:/mm/,regexp:"\\\\d\\\\d",fn:function(f,d){jt(f,"Minutes",d,n)}},{pattern:/ss/,regexp:"\\\\d\\\\d",fn:function(f,d){jt(f,"Seconds",d,n)}},{pattern:/SSS/,regexp:"\\\\d\\\\d\\\\d",fn:function(f,d){jt(f,"Milliseconds",d,n)}},{pattern:/O/,regexp:"[+-]\\\\d{1,2}:?\\\\d{2}?|Z",fn:function(f,d){d==="Z"?d=0:d=d.replace(":","");var p=Math.abs(d),m=(d>0?-1:1)*(p%100+Math.floor(p/100)*60);f.setUTCMinutes(f.getUTCMinutes()+m)}}],o=s.reduce(function(f,d){return d.pattern.test(f.regexp)?(d.index=f.regexp.match(d.pattern).index,f.regexp=f.regexp.replace(d.pattern,"("+d.regexp+")")):d.index=-1,f},{regexp:t,index:[]}),a=s.filter(function(f){return f.index>-1});a.sort(function(f,d){return f.index-d.index});var u=new RegExp(o.regexp),l=u.exec(e);if(l){var h=r||Le.exports.now();return a.forEach(function(f,d){f.fn(h,l[d+1])}),h}throw new Error("String \'"+e+"\' could not be parsed as \'"+t+"\'")}function kY(t,e,r){if(!t)throw new Error("pattern must be supplied");return AY(t,e,r)}function NY(){return new Date}Le.exports=cS;Le.exports.asString=cS;Le.exports.parse=kY;Le.exports.now=NY;Le.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS";Le.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO";Le.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS";Le.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"});var Qc=c((Boe,xS)=>{var Mt=to(),lS=require("os"),ai=require("util"),oi=require("path"),hS=require("url"),fS=G()("log4js:layouts"),dS={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[91,39],yellow:[33,39]};function pS(t){return t?`\\x1B[${dS[t][0]}m`:""}function mS(t){return t?`\\x1B[${dS[t][1]}m`:""}function PY(t,e){return pS(e)+t+mS(e)}function gS(t,e){return PY(ai.format("[%s] [%s] %s - ",Mt.asString(t.startTime),t.level.toString(),t.categoryName),e)}function yS(t){return gS(t)+ai.format(...t.data)}function ro(t){return gS(t,t.level.colour)+ai.format(...t.data)}function wS(t){return ai.format(...t.data)}function bS(t){return t.data[0]}function _S(t,e){let r="%r %p %c - %m%n",n=/%(-?[0-9]+)?(\\.?-?[0-9]+)?([[\\]cdhmnprzxXyflos%])(\\{([^}]+)\\})?|([^%]+)/;t=t||r;function i(g,x){let v=g.categoryName;if(x){let I=parseInt(x,10),T=v.split(".");I<T.length&&(v=T.slice(T.length-I).join("."))}return v}function s(g,x){let v=Mt.ISO8601_FORMAT;if(x)switch(v=x,v){case"ISO8601":case"ISO8601_FORMAT":v=Mt.ISO8601_FORMAT;break;case"ISO8601_WITH_TZ_OFFSET":case"ISO8601_WITH_TZ_OFFSET_FORMAT":v=Mt.ISO8601_WITH_TZ_OFFSET_FORMAT;break;case"ABSOLUTE":process.emitWarning("Pattern %d{ABSOLUTE} is deprecated in favor of %d{ABSOLUTETIME}. Please use %d{ABSOLUTETIME} instead.","DeprecationWarning","log4js-node-DEP0003"),fS("[log4js-node-DEP0003]","DEPRECATION: Pattern %d{ABSOLUTE} is deprecated and replaced by %d{ABSOLUTETIME}.");case"ABSOLUTETIME":case"ABSOLUTETIME_FORMAT":v=Mt.ABSOLUTETIME_FORMAT;break;case"DATE":process.emitWarning("Pattern %d{DATE} is deprecated due to the confusion it causes when used. Please use %d{DATETIME} instead.","DeprecationWarning","log4js-node-DEP0004"),fS("[log4js-node-DEP0004]","DEPRECATION: Pattern %d{DATE} is deprecated and replaced by %d{DATETIME}.");case"DATETIME":case"DATETIME_FORMAT":v=Mt.DATETIME_FORMAT;break}return Mt.asString(v,g.startTime)}function o(){return lS.hostname().toString()}function a(g){return ai.format(...g.data)}function u(){return lS.EOL}function l(g){return g.level.toString()}function h(g){return Mt.asString("hh:mm:ss",g.startTime)}function f(g){return pS(g.level.colour)}function d(g){return mS(g.level.colour)}function p(){return"%"}function m(g){return g&&g.pid?g.pid.toString():process.pid.toString()}function y(){return m()}function _(g,x){return typeof e[x]!="undefined"?typeof e[x]=="function"?e[x](g):e[x]:null}function q(g,x){let v=g.context[x];return typeof v!="undefined"?typeof v=="function"?v(g):v:null}function A(g,x){let v=g.fileName||"";if(v=function(T){let C="file://";return T.startsWith(C)&&(typeof hS.fileURLToPath=="function"?T=hS.fileURLToPath(T):(T=oi.normalize(T.replace(new RegExp(`^${C}`),"")),process.platform==="win32"&&(T.startsWith("\\\\")?T=T.slice(1):T=oi.sep+oi.sep+T))),T}(v),x){let T=parseInt(x,10),C=v.split(oi.sep);C.length>T&&(v=C.slice(-T).join(oi.sep))}return v}function j(g){return g.lineNumber?`${g.lineNumber}`:""}function L(g){return g.columnNumber?`${g.columnNumber}`:""}function W(g){return g.callStack||""}let pe={c:i,d:s,h:o,m:a,n:u,p:l,r:h,"[":f,"]":d,y,z:m,"%":p,x:_,X:q,f:A,l:j,o:L,s:W};function ne(g,x,v){return pe[g](x,v)}function z(g,x){let v;return g?(v=parseInt(g.slice(1),10),v>0?x.slice(0,v):x.slice(v)):x}function b(g,x){let v;if(g)if(g.charAt(0)==="-")for(v=parseInt(g.slice(1),10);x.length<v;)x+=" ";else for(v=parseInt(g,10);x.length<v;)x=` ${x}`;return x}function E(g,x,v){let I=g;return I=z(x,I),I=b(v,I),I}return function(g){let x="",v,I=t;for(;(v=n.exec(I))!==null;){let T=v[1],C=v[2],k=v[3],R=v[5],B=v[6];if(B)x+=B.toString();else{let Zl=ne(k,g,R);x+=E(Zl,C,T)}I=I.slice(v.index+v[0].length)}return x}}var Hc={messagePassThrough(){return wS},basic(){return yS},colored(){return ro},coloured(){return ro},pattern(t){return _S(t&&t.pattern,t&&t.tokens)},dummy(){return bS}};xS.exports={basicLayout:yS,messagePassThroughLayout:wS,patternLayout:_S,colouredLayout:ro,coloredLayout:ro,dummyLayout:bS,addLayout(t,e){Hc[t]=e},layout(t,e){return Hc[t]&&Hc[t](e)}}});var mr=c((Woe,ES)=>{var ie=dr(),vS=["white","grey","black","blue","cyan","green","magenta","red","yellow"],se=class{constructor(e,r,n){this.level=e,this.levelStr=r,this.colour=n}toString(){return this.levelStr}static getLevel(e,r){return e?e instanceof se?e:(e instanceof Object&&e.levelStr&&(e=e.levelStr),se[e.toString().toUpperCase()]||r):r}static addLevels(e){e&&(Object.keys(e).forEach(n=>{let i=n.toUpperCase();se[i]=new se(e[n].value,i,e[n].colour);let s=se.levels.findIndex(o=>o.levelStr===i);s>-1?se.levels[s]=se[i]:se.levels.push(se[i])}),se.levels.sort((n,i)=>n.level-i.level))}isLessThanOrEqualTo(e){return typeof e=="string"&&(e=se.getLevel(e)),this.level<=e.level}isGreaterThanOrEqualTo(e){return typeof e=="string"&&(e=se.getLevel(e)),this.level>=e.level}isEqualTo(e){return typeof e=="string"&&(e=se.getLevel(e)),this.level===e.level}};se.levels=[];se.addLevels({ALL:{value:Number.MIN_VALUE,colour:"grey"},TRACE:{value:5e3,colour:"blue"},DEBUG:{value:1e4,colour:"cyan"},INFO:{value:2e4,colour:"green"},WARN:{value:3e4,colour:"yellow"},ERROR:{value:4e4,colour:"red"},FATAL:{value:5e4,colour:"magenta"},MARK:{value:9007199254740992,colour:"grey"},OFF:{value:Number.MAX_VALUE,colour:"grey"}});ie.addListener(t=>{let e=t.levels;e&&(ie.throwExceptionIf(t,ie.not(ie.anObject(e)),"levels must be an object"),Object.keys(e).forEach(n=>{ie.throwExceptionIf(t,ie.not(ie.validIdentifier(n)),`level name "${n}" is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)`),ie.throwExceptionIf(t,ie.not(ie.anObject(e[n])),`level "${n}" must be an object`),ie.throwExceptionIf(t,ie.not(e[n].value),`level "${n}" must have a \'value\' property`),ie.throwExceptionIf(t,ie.not(ie.anInteger(e[n].value)),`level "${n}".value must have an integer value`),ie.throwExceptionIf(t,ie.not(e[n].colour),`level "${n}" must have a \'colour\' property`),ie.throwExceptionIf(t,ie.not(vS.indexOf(e[n].colour)>-1),`level "${n}".colour must be one of ${vS.join(", ")}`)}))});ie.addListener(t=>{se.addLevels(t.levels)});ES.exports=se});var PS=c(ci=>{"use strict";var{parse:TS,stringify:CS}=JSON,{keys:RY}=Object,ui=String,OS="string",qS={},no="object",IS=(t,e)=>e,jY=t=>t instanceof ui?ui(t):t,MY=(t,e)=>typeof e===OS?new ui(e):e,AS=(t,e,r,n)=>{let i=[];for(let s=RY(r),{length:o}=s,a=0;a<o;a++){let u=s[a],l=r[u];if(l instanceof ui){let h=t[l];typeof h===no&&!e.has(h)?(e.add(h),r[u]=qS,i.push({k:u,a:[t,e,h,n]})):r[u]=n.call(r,u,h)}else r[u]!==qS&&(r[u]=n.call(r,u,l))}for(let{length:s}=i,o=0;o<s;o++){let{k:a,a:u}=i[o];r[a]=n.call(r,a,AS.apply(null,u))}return r},SS=(t,e,r)=>{let n=ui(e.push(r)-1);return t.set(r,n),n},kS=(t,e)=>{let r=TS(t,MY).map(jY),n=r[0],i=e||IS,s=typeof n===no&&n?AS(r,new Set,n,i):n;return i.call({"":s},"",s)};ci.parse=kS;var NS=(t,e,r)=>{let n=e&&typeof e===no?(h,f)=>h===""||-1<e.indexOf(h)?f:void 0:e||IS,i=new Map,s=[],o=[],a=+SS(i,s,n.call({"":t},"",t)),u=!a;for(;a<s.length;)u=!0,o[a]=CS(s[a++],l,r);return"["+o.join(",")+"]";function l(h,f){if(u)return u=!u,f;let d=n.call(this,h,f);switch(typeof d){case no:if(d===null)return d;case OS:return i.get(d)||SS(i,s,d)}return d}};ci.stringify=NS;var LY=t=>TS(NS(t));ci.toJSON=LY;var $Y=t=>kS(CS(t));ci.fromJSON=$Y});var zc=c((Hoe,MS)=>{var RS=PS(),jS=mr(),nn=class{constructor(e,r,n,i,s){this.startTime=new Date,this.categoryName=e,this.data=n,this.level=r,this.context=Object.assign({},i),this.pid=process.pid,s&&(this.functionName=s.functionName,this.fileName=s.fileName,this.lineNumber=s.lineNumber,this.columnNumber=s.columnNumber,this.callStack=s.callStack)}serialise(){return RS.stringify(this,(e,r)=>(r&&r.message&&r.stack?r=Object.assign({message:r.message,stack:r.stack},r):typeof r=="number"&&(Number.isNaN(r)||!Number.isFinite(r))?r=r.toString():typeof r=="undefined"&&(r=typeof r),r))}static deserialise(e){let r;try{let n=RS.parse(e,(i,s)=>{if(s&&s.message&&s.stack){let o=new Error(s);Object.keys(s).forEach(a=>{o[a]=s[a]}),s=o}return s});n.location={functionName:n.functionName,fileName:n.fileName,lineNumber:n.lineNumber,columnNumber:n.columnNumber,callStack:n.callStack},r=new nn(n.categoryName,jS.getLevel(n.level.levelStr),n.data,n.context,n.location),r.startTime=new Date(n.startTime),r.pid=n.pid,r.cluster=n.cluster}catch(n){r=new nn("log4js",jS.ERROR,["Unable to parse log:",e,"because: ",n])}return r}};MS.exports=nn});var so=c((Qoe,FS)=>{var $e=G()("log4js:clustering"),FY=zc(),DY=dr(),sn=!1,Fe=null;try{Fe=require("cluster")}catch(t){$e("cluster module not present"),sn=!0}var Kc=[],hi=!1,li="NODE_APP_INSTANCE",LS=()=>hi&&process.env[li]==="0",Gc=()=>sn||Fe&&Fe.isMaster||LS(),$S=t=>{Kc.forEach(e=>e(t))},io=(t,e)=>{if($e("cluster message received from worker ",t,": ",e),t.topic&&t.data&&(e=t,t=void 0),e&&e.topic&&e.topic==="log4js:message"){$e("received message: ",e.data);let r=FY.deserialise(e.data);$S(r)}};sn||DY.addListener(t=>{Kc.length=0,{pm2:hi,disableClustering:sn,pm2InstanceVar:li="NODE_APP_INSTANCE"}=t,$e(`clustering disabled ? ${sn}`),$e(`cluster.isMaster ? ${Fe&&Fe.isMaster}`),$e(`pm2 enabled ? ${hi}`),$e(`pm2InstanceVar = ${li}`),$e(`process.env[${li}] = ${process.env[li]}`),hi&&process.removeListener("message",io),Fe&&Fe.removeListener&&Fe.removeListener("message",io),sn||t.disableClustering?$e("Not listening for cluster messages, because clustering disabled."):LS()?($e("listening for PM2 broadcast messages"),process.on("message",io)):Fe&&Fe.isMaster?($e("listening for cluster messages"),Fe.on("message",io)):$e("not listening for messages, because we are not a master process")});FS.exports={onlyOnMaster:(t,e)=>Gc()?t():e,isMaster:Gc,send:t=>{Gc()?$S(t):(hi||(t.cluster={workerId:Fe.worker.id,worker:process.pid}),process.send({topic:"log4js:message",data:t.serialise()}))},onMessage:t=>{Kc.push(t)}}});var WS=c((zoe,BS)=>{function BY(t){if(typeof t=="number"&&Number.isInteger(t))return t;let e={K:1024,M:1024*1024,G:1024*1024*1024},r=Object.keys(e),n=t.slice(-1).toLocaleUpperCase(),i=t.slice(0,-1).trim();if(r.indexOf(n)<0||!Number.isInteger(Number(i)))throw Error(`maxLogSize: "${t}" is invalid`);return i*e[n]}function WY(t,e){let r=Object.assign({},e);return Object.keys(t).forEach(n=>{r[n]&&(r[n]=t[n](e[n]))}),r}function Jc(t){return WY({maxLogSize:BY},t)}var DS={dateFile:Jc,file:Jc,fileSync:Jc};BS.exports.modifyConfig=t=>DS[t.type]?DS[t.type](t):t});var HS=c((Goe,US)=>{var UY=console.log.bind(console);function HY(t,e){return r=>{UY(t(r,e))}}function QY(t,e){let r=e.colouredLayout;return t.layout&&(r=e.layout(t.layout.type,t.layout)),HY(r,t.timezoneOffset)}US.exports.configure=QY});var zS=c(QS=>{function zY(t,e){return r=>{process.stdout.write(`${t(r,e)}\n`)}}function GY(t,e){let r=e.colouredLayout;return t.layout&&(r=e.layout(t.layout.type,t.layout)),zY(r,t.timezoneOffset)}QS.configure=GY});var KS=c((Joe,GS)=>{function KY(t,e){return r=>{process.stderr.write(`${t(r,e)}\n`)}}function JY(t,e){let r=e.colouredLayout;return t.layout&&(r=e.layout(t.layout.type,t.layout)),KY(r,t.timezoneOffset)}GS.exports.configure=JY});var VS=c((Voe,JS)=>{function VY(t,e,r,n){let i=n.getLevel(t),s=n.getLevel(e,n.FATAL);return o=>{let a=o.level;i.isLessThanOrEqualTo(a)&&s.isGreaterThanOrEqualTo(a)&&r(o)}}function YY(t,e,r,n){let i=r(t.appender);return VY(t.level,t.maxLevel,i,n)}JS.exports.configure=YY});var ZS=c((Yoe,XS)=>{var YS=G()("log4js:categoryFilter");function XY(t,e){return typeof t=="string"&&(t=[t]),r=>{YS(`Checking ${r.categoryName} against ${t}`),t.indexOf(r.categoryName)===-1&&(YS("Not excluded, sending to appender"),e(r))}}function ZY(t,e,r){let n=r(t.appender);return XY(t.exclude,n)}XS.exports.configure=ZY});var rT=c((Xoe,tT)=>{var eT=G()("log4js:noLogFilter");function e8(t){return t.filter(r=>r!=null&&r!=="")}function t8(t,e){return r=>{eT(`Checking data: ${r.data} against filters: ${t}`),typeof t=="string"&&(t=[t]),t=e8(t);let n=new RegExp(t.join("|"),"i");(t.length===0||r.data.findIndex(i=>n.test(i))<0)&&(eT("Not excluded, sending to appender"),e(r))}}function r8(t,e,r){let n=r(t.appender);return t8(t.exclude,n)}tT.exports.configure=r8});var _e=c(Vc=>{"use strict";Vc.fromCallback=function(t){return Object.defineProperty(function(){if(typeof arguments[arguments.length-1]=="function")t.apply(this,arguments);else return new Promise((e,r)=>{arguments[arguments.length]=(n,i)=>{if(n)return r(n);e(i)},arguments.length++,t.apply(this,arguments)})},"name",{value:t.name})};Vc.fromPromise=function(t){return Object.defineProperty(function(){let e=arguments[arguments.length-1];if(typeof e!="function")return t.apply(this,arguments);t.apply(this,arguments).then(r=>e(null,r),e)},"name",{value:t.name})}});var iT=c((eae,nT)=>{var Lt=require("constants"),n8=process.cwd,oo=null,i8=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return oo||(oo=n8.call(process)),oo};try{process.cwd()}catch(t){}typeof process.chdir=="function"&&(Yc=process.chdir,process.chdir=function(t){oo=null,Yc.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Yc));var Yc;nT.exports=s8;function s8(t){Lt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=a(t.stat),t.fstat=a(t.fstat),t.lstat=a(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(h,f,d){d&&process.nextTick(d)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(h,f,d,p){p&&process.nextTick(p)},t.lchownSync=function(){}),i8==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(h){function f(d,p,m){var y=Date.now(),_=0;h(d,p,function q(A){if(A&&(A.code==="EACCES"||A.code==="EPERM")&&Date.now()-y<6e4){setTimeout(function(){t.stat(p,function(j,L){j&&j.code==="ENOENT"?h(d,p,q):m(A)})},_),_<100&&(_+=10);return}m&&m(A)})}return Object.setPrototypeOf&&Object.setPrototypeOf(f,h),f}(t.rename)),t.read=typeof t.read!="function"?t.read:function(h){function f(d,p,m,y,_,q){var A;if(q&&typeof q=="function"){var j=0;A=function(L,W,pe){if(L&&L.code==="EAGAIN"&&j<10)return j++,h.call(t,d,p,m,y,_,A);q.apply(this,arguments)}}return h.call(t,d,p,m,y,_,A)}return Object.setPrototypeOf&&Object.setPrototypeOf(f,h),f}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(h){return function(f,d,p,m,y){for(var _=0;;)try{return h.call(t,f,d,p,m,y)}catch(q){if(q.code==="EAGAIN"&&_<10){_++;continue}throw q}}}(t.readSync);function e(h){h.lchmod=function(f,d,p){h.open(f,Lt.O_WRONLY|Lt.O_SYMLINK,d,function(m,y){if(m){p&&p(m);return}h.fchmod(y,d,function(_){h.close(y,function(q){p&&p(_||q)})})})},h.lchmodSync=function(f,d){var p=h.openSync(f,Lt.O_WRONLY|Lt.O_SYMLINK,d),m=!0,y;try{y=h.fchmodSync(p,d),m=!1}finally{if(m)try{h.closeSync(p)}catch(_){}else h.closeSync(p)}return y}}function r(h){Lt.hasOwnProperty("O_SYMLINK")&&h.futimes?(h.lutimes=function(f,d,p,m){h.open(f,Lt.O_SYMLINK,function(y,_){if(y){m&&m(y);return}h.futimes(_,d,p,function(q){h.close(_,function(A){m&&m(q||A)})})})},h.lutimesSync=function(f,d,p){var m=h.openSync(f,Lt.O_SYMLINK),y,_=!0;try{y=h.futimesSync(m,d,p),_=!1}finally{if(_)try{h.closeSync(m)}catch(q){}else h.closeSync(m)}return y}):h.futimes&&(h.lutimes=function(f,d,p,m){m&&process.nextTick(m)},h.lutimesSync=function(){})}function n(h){return h&&function(f,d,p){return h.call(t,f,d,function(m){l(m)&&(m=null),p&&p.apply(this,arguments)})}}function i(h){return h&&function(f,d){try{return h.call(t,f,d)}catch(p){if(!l(p))throw p}}}function s(h){return h&&function(f,d,p,m){return h.call(t,f,d,p,function(y){l(y)&&(y=null),m&&m.apply(this,arguments)})}}function o(h){return h&&function(f,d,p){try{return h.call(t,f,d,p)}catch(m){if(!l(m))throw m}}}function a(h){return h&&function(f,d,p){typeof d=="function"&&(p=d,d=null);function m(y,_){_&&(_.uid<0&&(_.uid+=4294967296),_.gid<0&&(_.gid+=4294967296)),p&&p.apply(this,arguments)}return d?h.call(t,f,d,m):h.call(t,f,m)}}function u(h){return h&&function(f,d){var p=d?h.call(t,f,d):h.call(t,f);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function l(h){if(!h||h.code==="ENOSYS")return!0;var f=!process.getuid||process.getuid()!==0;return!!(f&&(h.code==="EINVAL"||h.code==="EPERM"))}}});var aT=c((tae,oT)=>{var sT=require("stream").Stream;oT.exports=o8;function o8(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);sT.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,u=o.length;a<u;a++){var l=o[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(h,f){if(h){s.emit("error",h),s.readable=!1;return}s.fd=f,s.emit("open",f),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);sT.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var u=s[o];this[u]=i[u]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var cT=c((rae,uT)=>{"use strict";uT.exports=u8;var a8=Object.getPrototypeOf||function(t){return t.__proto__};function u8(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:a8(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}});var oe=c((nae,el)=>{var Y=require("fs"),c8=iT(),l8=aT(),h8=cT(),ao=require("util"),le,co;typeof Symbol=="function"&&typeof Symbol.for=="function"?(le=Symbol.for("graceful-fs.queue"),co=Symbol.for("graceful-fs.previous")):(le="___graceful-fs.queue",co="___graceful-fs.previous");function f8(){}function fT(t,e){Object.defineProperty(t,le,{get:function(){return e}})}var gr=f8;ao.debuglog?gr=ao.debuglog("gfs4"):/\\bgfs4\\b/i.test(process.env.NODE_DEBUG||"")&&(gr=function(){var t=ao.format.apply(ao,arguments);t="GFS4: "+t.split(/\\n/).join(`\nGFS4: `),console.error(t)});Y[le]||(lT=global[le]||[],fT(Y,lT),Y.close=function(t){function e(r,n){return t.call(Y,r,function(i){i||hT(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,co,{value:t}),e}(Y.close),Y.closeSync=function(t){function e(r){t.apply(Y,arguments),hT()}return Object.defineProperty(e,co,{value:t}),e}(Y.closeSync),/\\bgfs4\\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){gr(Y[le]),require("assert").equal(Y[le].length,0)}));var lT;global[le]||fT(global,Y[le]);el.exports=Xc(h8(Y));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!Y.__patched&&(el.exports=Xc(Y),Y.__patched=!0);function Xc(t){c8(t),t.gracefulify=Xc,t.createReadStream=W,t.createWriteStream=pe;var e=t.readFile;t.readFile=r;function r(b,E,g){return typeof E=="function"&&(g=E,E=null),x(b,E,g);function x(v,I,T,C){return e(v,I,function(k){k&&(k.code==="EMFILE"||k.code==="ENFILE")?on([x,[v,I,T],k,C||Date.now(),Date.now()]):typeof T=="function"&&T.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(b,E,g,x){return typeof g=="function"&&(x=g,g=null),v(b,E,g,x);function v(I,T,C,k,R){return n(I,T,C,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?on([v,[I,T,C,k],B,R||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(b,E,g,x){return typeof g=="function"&&(x=g,g=null),v(b,E,g,x);function v(I,T,C,k,R){return s(I,T,C,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?on([v,[I,T,C,k],B,R||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var a=t.copyFile;a&&(t.copyFile=u);function u(b,E,g,x){return typeof g=="function"&&(x=g,g=0),v(b,E,g,x);function v(I,T,C,k,R){return a(I,T,C,function(B){B&&(B.code==="EMFILE"||B.code==="ENFILE")?on([v,[I,T,C,k],B,R||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var l=t.readdir;t.readdir=f;var h=/^v[0-5]\\./;function f(b,E,g){typeof E=="function"&&(g=E,E=null);var x=h.test(process.version)?function(T,C,k,R){return l(T,v(T,C,k,R))}:function(T,C,k,R){return l(T,C,v(T,C,k,R))};return x(b,E,g);function v(I,T,C,k){return function(R,B){R&&(R.code==="EMFILE"||R.code==="ENFILE")?on([x,[I,T,C],R,k||Date.now(),Date.now()]):(B&&B.sort&&B.sort(),typeof C=="function"&&C.call(this,R,B))}}}if(process.version.substr(0,4)==="v0.8"){var d=l8(t);q=d.ReadStream,j=d.WriteStream}var p=t.ReadStream;p&&(q.prototype=Object.create(p.prototype),q.prototype.open=A);var m=t.WriteStream;m&&(j.prototype=Object.create(m.prototype),j.prototype.open=L),Object.defineProperty(t,"ReadStream",{get:function(){return q},set:function(b){q=b},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return j},set:function(b){j=b},enumerable:!0,configurable:!0});var y=q;Object.defineProperty(t,"FileReadStream",{get:function(){return y},set:function(b){y=b},enumerable:!0,configurable:!0});var _=j;Object.defineProperty(t,"FileWriteStream",{get:function(){return _},set:function(b){_=b},enumerable:!0,configurable:!0});function q(b,E){return this instanceof q?(p.apply(this,arguments),this):q.apply(Object.create(q.prototype),arguments)}function A(){var b=this;z(b.path,b.flags,b.mode,function(E,g){E?(b.autoClose&&b.destroy(),b.emit("error",E)):(b.fd=g,b.emit("open",g),b.read())})}function j(b,E){return this instanceof j?(m.apply(this,arguments),this):j.apply(Object.create(j.prototype),arguments)}function L(){var b=this;z(b.path,b.flags,b.mode,function(E,g){E?(b.destroy(),b.emit("error",E)):(b.fd=g,b.emit("open",g))})}function W(b,E){return new t.ReadStream(b,E)}function pe(b,E){return new t.WriteStream(b,E)}var ne=t.open;t.open=z;function z(b,E,g,x){return typeof g=="function"&&(x=g,g=null),v(b,E,g,x);function v(I,T,C,k,R){return ne(I,T,C,function(B,Zl){B&&(B.code==="EMFILE"||B.code==="ENFILE")?on([v,[I,T,C,k],B,R||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}return t}function on(t){gr("ENQUEUE",t[0].name,t[1]),Y[le].push(t),Zc()}var uo;function hT(){for(var t=Date.now(),e=0;e<Y[le].length;++e)Y[le][e].length>2&&(Y[le][e][3]=t,Y[le][e][4]=t);Zc()}function Zc(){if(clearTimeout(uo),uo=void 0,Y[le].length!==0){var t=Y[le].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)gr("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){gr("TIMEOUT",e.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,u=Math.max(s-i,1),l=Math.min(u*1.2,100);a>=l?(gr("RETRY",e.name,r),e.apply(null,r.concat([i]))):Y[le].push(t)}uo===void 0&&(uo=setTimeout(Zc,0))}}});var tl=c(yr=>{"use strict";var dT=_e().fromCallback,De=oe(),d8=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>typeof De[t]=="function");Object.keys(De).forEach(t=>{t!=="promises"&&(yr[t]=De[t])});d8.forEach(t=>{yr[t]=dT(De[t])});yr.exists=function(t,e){return typeof e=="function"?De.exists(t,e):new Promise(r=>De.exists(t,r))};yr.read=function(t,e,r,n,i,s){return typeof s=="function"?De.read(t,e,r,n,i,s):new Promise((o,a)=>{De.read(t,e,r,n,i,(u,l,h)=>{if(u)return a(u);o({bytesRead:l,buffer:h})})})};yr.write=function(t,e,...r){return typeof r[r.length-1]=="function"?De.write(t,e,...r):new Promise((n,i)=>{De.write(t,e,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffer:a})})})};typeof De.realpath.native=="function"&&(yr.realpath.native=dT(De.realpath.native))});var nl=c((sae,mT)=>{"use strict";var rl=require("path");function pT(t){return t=rl.normalize(rl.resolve(t)).split(rl.sep),t.length>0?t[0]:null}var p8=/[<>:"|?*]/;function m8(t){let e=pT(t);return t=t.replace(e,""),p8.test(t)}mT.exports={getRootPath:pT,invalidWin32Path:m8}});var yT=c((oae,gT)=>{"use strict";var g8=oe(),il=require("path"),y8=nl().invalidWin32Path,w8=parseInt("0777",8);function sl(t,e,r,n){if(typeof e=="function"?(r=e,e={}):(!e||typeof e!="object")&&(e={mode:e}),process.platform==="win32"&&y8(t)){let o=new Error(t+" contains invalid WIN32 path characters.");return o.code="EINVAL",r(o)}let i=e.mode,s=e.fs||g8;i===void 0&&(i=w8&~process.umask()),n||(n=null),r=r||function(){},t=il.resolve(t),s.mkdir(t,i,o=>{if(!o)return n=n||t,r(null,n);switch(o.code){case"ENOENT":if(il.dirname(t)===t)return r(o);sl(il.dirname(t),e,(a,u)=>{a?r(a,u):sl(t,e,r,u)});break;default:s.stat(t,(a,u)=>{a||!u.isDirectory()?r(o,n):r(null,n)});break}})}gT.exports=sl});var bT=c((aae,wT)=>{"use strict";var b8=oe(),ol=require("path"),_8=nl().invalidWin32Path,x8=parseInt("0777",8);function al(t,e,r){(!e||typeof e!="object")&&(e={mode:e});let n=e.mode,i=e.fs||b8;if(process.platform==="win32"&&_8(t)){let s=new Error(t+" contains invalid WIN32 path characters.");throw s.code="EINVAL",s}n===void 0&&(n=x8&~process.umask()),r||(r=null),t=ol.resolve(t);try{i.mkdirSync(t,n),r=r||t}catch(s){if(s.code==="ENOENT"){if(ol.dirname(t)===t)throw s;r=al(ol.dirname(t),e,r),al(t,e,r)}else{let o;try{o=i.statSync(t)}catch(a){throw s}if(!o.isDirectory())throw s}}return r}wT.exports=al});var Ie=c((uae,_T)=>{"use strict";var v8=_e().fromCallback,ul=v8(yT()),cl=bT();_T.exports={mkdirs:ul,mkdirsSync:cl,mkdirp:ul,mkdirpSync:cl,ensureDir:ul,ensureDirSync:cl}});var ll=c((cae,vT)=>{"use strict";var de=oe(),xT=require("os"),lo=require("path");function E8(){let t=lo.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));t=lo.join(xT.tmpdir(),t);let e=new Date(1435410243862);de.writeFileSync(t,"https://github.com/jprichardson/node-fs-extra/pull/141");let r=de.openSync(t,"r+");return de.futimesSync(r,e,e),de.closeSync(r),de.statSync(t).mtime>1435410243e3}function q8(t){let e=lo.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));e=lo.join(xT.tmpdir(),e);let r=new Date(1435410243862);de.writeFile(e,"https://github.com/jprichardson/node-fs-extra/pull/141",n=>{if(n)return t(n);de.open(e,"r+",(i,s)=>{if(i)return t(i);de.futimes(s,r,r,o=>{if(o)return t(o);de.close(s,a=>{if(a)return t(a);de.stat(e,(u,l)=>{if(u)return t(u);t(null,l.mtime>1435410243e3)})})})})})}function S8(t){if(typeof t=="number")return Math.floor(t/1e3)*1e3;if(t instanceof Date)return new Date(Math.floor(t.getTime()/1e3)*1e3);throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}function T8(t,e,r,n){de.open(t,"r+",(i,s)=>{if(i)return n(i);de.futimes(s,e,r,o=>{de.close(s,a=>{n&&n(o||a)})})})}function C8(t,e,r){let n=de.openSync(t,"r+");return de.futimesSync(n,e,r),de.closeSync(n)}vT.exports={hasMillisRes:q8,hasMillisResSync:E8,timeRemoveMillis:S8,utimesMillis:T8,utimesMillisSync:C8}});var pi=c((lae,OT)=>{"use strict";var Be=oe(),xe=require("path"),ET=10,qT=5,O8=0,fl=process.versions.node.split("."),ST=Number.parseInt(fl[0],10),TT=Number.parseInt(fl[1],10),I8=Number.parseInt(fl[2],10);function fi(){if(ST>ET)return!0;if(ST===ET){if(TT>qT)return!0;if(TT===qT&&I8>=O8)return!0}return!1}function A8(t,e,r){fi()?Be.stat(t,{bigint:!0},(n,i)=>{if(n)return r(n);Be.stat(e,{bigint:!0},(s,o)=>s?s.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(s):r(null,{srcStat:i,destStat:o}))}):Be.stat(t,(n,i)=>{if(n)return r(n);Be.stat(e,(s,o)=>s?s.code==="ENOENT"?r(null,{srcStat:i,destStat:null}):r(s):r(null,{srcStat:i,destStat:o}))})}function k8(t,e){let r,n;fi()?r=Be.statSync(t,{bigint:!0}):r=Be.statSync(t);try{fi()?n=Be.statSync(e,{bigint:!0}):n=Be.statSync(e)}catch(i){if(i.code==="ENOENT")return{srcStat:r,destStat:null};throw i}return{srcStat:r,destStat:n}}function N8(t,e,r,n){A8(t,e,(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;return a&&a.ino&&a.dev&&a.ino===o.ino&&a.dev===o.dev?n(new Error("Source and destination must not be the same.")):o.isDirectory()&&dl(t,e)?n(new Error(di(t,e,r))):n(null,{srcStat:o,destStat:a})})}function P8(t,e,r){let{srcStat:n,destStat:i}=k8(t,e);if(i&&i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev)throw new Error("Source and destination must not be the same.");if(n.isDirectory()&&dl(t,e))throw new Error(di(t,e,r));return{srcStat:n,destStat:i}}function hl(t,e,r,n,i){let s=xe.resolve(xe.dirname(t)),o=xe.resolve(xe.dirname(r));if(o===s||o===xe.parse(o).root)return i();fi()?Be.stat(o,{bigint:!0},(a,u)=>a?a.code==="ENOENT"?i():i(a):u.ino&&u.dev&&u.ino===e.ino&&u.dev===e.dev?i(new Error(di(t,r,n))):hl(t,e,o,n,i)):Be.stat(o,(a,u)=>a?a.code==="ENOENT"?i():i(a):u.ino&&u.dev&&u.ino===e.ino&&u.dev===e.dev?i(new Error(di(t,r,n))):hl(t,e,o,n,i))}function CT(t,e,r,n){let i=xe.resolve(xe.dirname(t)),s=xe.resolve(xe.dirname(r));if(s===i||s===xe.parse(s).root)return;let o;try{fi()?o=Be.statSync(s,{bigint:!0}):o=Be.statSync(s)}catch(a){if(a.code==="ENOENT")return;throw a}if(o.ino&&o.dev&&o.ino===e.ino&&o.dev===e.dev)throw new Error(di(t,r,n));return CT(t,e,s,n)}function dl(t,e){let r=xe.resolve(t).split(xe.sep).filter(i=>i),n=xe.resolve(e).split(xe.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function di(t,e,r){return`Cannot ${r} \'${t}\' to a subdirectory of itself, \'${e}\'.`}OT.exports={checkPaths:N8,checkPathsSync:P8,checkParentPaths:hl,checkParentPathsSync:CT,isSrcSubdir:dl}});var AT=c((hae,IT)=>{"use strict";IT.exports=function(t){if(typeof Buffer.allocUnsafe=="function")try{return Buffer.allocUnsafe(t)}catch(e){return new Buffer(t)}return new Buffer(t)}});var jT=c((fae,RT)=>{"use strict";var J=oe(),mi=require("path"),R8=Ie().mkdirsSync,j8=ll().utimesMillisSync,gi=pi();function M8(t,e,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`);let{srcStat:n,destStat:i}=gi.checkPathsSync(t,e,"copy");return gi.checkParentPathsSync(t,n,e,"copy"),L8(i,t,e,r)}function L8(t,e,r,n){if(n.filter&&!n.filter(e,r))return;let i=mi.dirname(r);return J.existsSync(i)||R8(i),kT(t,e,r,n)}function kT(t,e,r,n){if(!(n.filter&&!n.filter(e,r)))return $8(t,e,r,n)}function $8(t,e,r,n){let s=(n.dereference?J.statSync:J.lstatSync)(e);if(s.isDirectory())return W8(s,t,e,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return F8(s,t,e,r,n);if(s.isSymbolicLink())return Q8(t,e,r,n)}function F8(t,e,r,n,i){return e?D8(t,r,n,i):NT(t,r,n,i)}function D8(t,e,r,n){if(n.overwrite)return J.unlinkSync(r),NT(t,e,r,n);if(n.errorOnExist)throw new Error(`\'${r}\' already exists`)}function NT(t,e,r,n){return typeof J.copyFileSync=="function"?(J.copyFileSync(e,r),J.chmodSync(r,t.mode),n.preserveTimestamps?j8(r,t.atime,t.mtime):void 0):B8(t,e,r,n)}function B8(t,e,r,n){let s=AT()(65536),o=J.openSync(e,"r"),a=J.openSync(r,"w",t.mode),u=0;for(;u<t.size;){let l=J.readSync(o,s,0,65536,u);J.writeSync(a,s,0,l),u+=l}n.preserveTimestamps&&J.futimesSync(a,t.atime,t.mtime),J.closeSync(o),J.closeSync(a)}function W8(t,e,r,n,i){if(!e)return U8(t,r,n,i);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory \'${n}\' with directory \'${r}\'.`);return PT(r,n,i)}function U8(t,e,r,n){return J.mkdirSync(r),PT(e,r,n),J.chmodSync(r,t.mode)}function PT(t,e,r){J.readdirSync(t).forEach(n=>H8(n,t,e,r))}function H8(t,e,r,n){let i=mi.join(e,t),s=mi.join(r,t),{destStat:o}=gi.checkPathsSync(i,s,"copy");return kT(o,i,s,n)}function Q8(t,e,r,n){let i=J.readlinkSync(e);if(n.dereference&&(i=mi.resolve(process.cwd(),i)),t){let s;try{s=J.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return J.symlinkSync(i,r);throw o}if(n.dereference&&(s=mi.resolve(process.cwd(),s)),gi.isSrcSubdir(i,s))throw new Error(`Cannot copy \'${i}\' to a subdirectory of itself, \'${s}\'.`);if(J.statSync(r).isDirectory()&&gi.isSrcSubdir(s,i))throw new Error(`Cannot overwrite \'${s}\' with \'${i}\'.`);return z8(i,r)}else return J.symlinkSync(i,r)}function z8(t,e){return J.unlinkSync(e),J.symlinkSync(t,e)}RT.exports=M8});var pl=c((dae,MT)=>{"use strict";MT.exports={copySync:jT()}});var rt=c((pae,$T)=>{"use strict";var G8=_e().fromPromise,LT=tl();function K8(t){return LT.access(t).then(()=>!0).catch(()=>!1)}$T.exports={pathExists:G8(K8),pathExistsSync:LT.existsSync}});var GT=c((mae,zT)=>{"use strict";var he=oe(),yi=require("path"),J8=Ie().mkdirs,V8=rt().pathExists,Y8=ll().utimesMillis,wi=pi();function X8(t,e,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`),wi.checkPaths(t,e,"copy",(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;wi.checkParentPaths(t,o,e,"copy",u=>u?n(u):r.filter?BT(FT,a,t,e,r,n):FT(a,t,e,r,n))})}function FT(t,e,r,n,i){let s=yi.dirname(r);V8(s,(o,a)=>{if(o)return i(o);if(a)return ml(t,e,r,n,i);J8(s,u=>u?i(u):ml(t,e,r,n,i))})}function BT(t,e,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?t(e,r,n,i,s):s(),o=>s(o))}function ml(t,e,r,n,i){return n.filter?BT(DT,t,e,r,n,i):DT(t,e,r,n,i)}function DT(t,e,r,n,i){(n.dereference?he.stat:he.lstat)(e,(o,a)=>{if(o)return i(o);if(a.isDirectory())return r5(a,t,e,r,n,i);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return Z8(a,t,e,r,n,i);if(a.isSymbolicLink())return s5(t,e,r,n,i)})}function Z8(t,e,r,n,i,s){return e?e5(t,r,n,i,s):WT(t,r,n,i,s)}function e5(t,e,r,n,i){if(n.overwrite)he.unlink(r,s=>s?i(s):WT(t,e,r,n,i));else return n.errorOnExist?i(new Error(`\'${r}\' already exists`)):i()}function WT(t,e,r,n,i){return typeof he.copyFile=="function"?he.copyFile(e,r,s=>s?i(s):UT(t,r,n,i)):t5(t,e,r,n,i)}function t5(t,e,r,n,i){let s=he.createReadStream(e);s.on("error",o=>i(o)).once("open",()=>{let o=he.createWriteStream(r,{mode:t.mode});o.on("error",a=>i(a)).on("open",()=>s.pipe(o)).once("close",()=>UT(t,r,n,i))})}function UT(t,e,r,n){he.chmod(e,t.mode,i=>i?n(i):r.preserveTimestamps?Y8(e,t.atime,t.mtime,n):n())}function r5(t,e,r,n,i,s){return e?e&&!e.isDirectory()?s(new Error(`Cannot overwrite non-directory \'${n}\' with directory \'${r}\'.`)):HT(r,n,i,s):n5(t,r,n,i,s)}function n5(t,e,r,n,i){he.mkdir(r,s=>{if(s)return i(s);HT(e,r,n,o=>o?i(o):he.chmod(r,t.mode,i))})}function HT(t,e,r,n){he.readdir(t,(i,s)=>i?n(i):QT(s,t,e,r,n))}function QT(t,e,r,n,i){let s=t.pop();return s?i5(t,s,e,r,n,i):i()}function i5(t,e,r,n,i,s){let o=yi.join(r,e),a=yi.join(n,e);wi.checkPaths(o,a,"copy",(u,l)=>{if(u)return s(u);let{destStat:h}=l;ml(h,o,a,i,f=>f?s(f):QT(t,r,n,i,s))})}function s5(t,e,r,n,i){he.readlink(e,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=yi.resolve(process.cwd(),o)),t)he.readlink(r,(a,u)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?he.symlink(o,r,i):i(a):(n.dereference&&(u=yi.resolve(process.cwd(),u)),wi.isSrcSubdir(o,u)?i(new Error(`Cannot copy \'${o}\' to a subdirectory of itself, \'${u}\'.`)):t.isDirectory()&&wi.isSrcSubdir(u,o)?i(new Error(`Cannot overwrite \'${u}\' with \'${o}\'.`)):o5(o,r,i)));else return he.symlink(o,r,i)})}function o5(t,e,r){he.unlink(e,n=>n?r(n):he.symlink(t,e,r))}zT.exports=X8});var gl=c((gae,KT)=>{"use strict";var a5=_e().fromCallback;KT.exports={copy:a5(GT())}});var nC=c((yae,rC)=>{"use strict";var JT=oe(),ZT=require("path"),F=require("assert"),bi=process.platform==="win32";function eC(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||JT[r],r=r+"Sync",t[r]=t[r]||JT[r]}),t.maxBusyTries=t.maxBusyTries||3}function yl(t,e,r){let n=0;typeof e=="function"&&(r=e,e={}),F(t,"rimraf: missing path"),F.strictEqual(typeof t,"string","rimraf: path should be a string"),F.strictEqual(typeof r,"function","rimraf: callback function required"),F(e,"rimraf: invalid options argument provided"),F.strictEqual(typeof e,"object","rimraf: options should be object"),eC(e),VT(t,e,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<e.maxBusyTries){n++;let o=n*100;return setTimeout(()=>VT(t,e,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function VT(t,e,r){F(t),F(e),F(typeof r=="function"),e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&bi)return YT(t,e,n,r);if(i&&i.isDirectory())return ho(t,e,n,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return bi?YT(t,e,s,r):ho(t,e,s,r);if(s.code==="EISDIR")return ho(t,e,s,r)}return r(s)})})}function YT(t,e,r,n){F(t),F(e),F(typeof n=="function"),r&&F(r instanceof Error),e.chmod(t,438,i=>{i?n(i.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?ho(t,e,r,n):e.unlink(t,n)})})}function XT(t,e,r){let n;F(t),F(e),r&&F(r instanceof Error);try{e.chmodSync(t,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?fo(t,e,r):e.unlinkSync(t)}function ho(t,e,r,n){F(t),F(e),r&&F(r instanceof Error),F(typeof n=="function"),e.rmdir(t,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?u5(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function u5(t,e,r){F(t),F(e),F(typeof r=="function"),e.readdir(t,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return e.rmdir(t,r);i.forEach(a=>{yl(ZT.join(t,a),e,u=>{if(!o){if(u)return r(o=u);--s===0&&e.rmdir(t,r)}})})})}function tC(t,e){let r;e=e||{},eC(e),F(t,"rimraf: missing path"),F.strictEqual(typeof t,"string","rimraf: path should be a string"),F(e,"rimraf: missing options"),F.strictEqual(typeof e,"object","rimraf: options should be object");try{r=e.lstatSync(t)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&bi&&XT(t,e,n)}try{r&&r.isDirectory()?fo(t,e,null):e.unlinkSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return bi?XT(t,e,n):fo(t,e,n);if(n.code!=="EISDIR")throw n;fo(t,e,n)}}function fo(t,e,r){F(t),F(e),r&&F(r instanceof Error);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")c5(t,e);else if(n.code!=="ENOENT")throw n}}function c5(t,e){if(F(t),F(e),e.readdirSync(t).forEach(r=>tC(ZT.join(t,r),e)),bi){let r=Date.now();do try{return e.rmdirSync(t,e)}catch(n){}while(Date.now()-r<500)}else return e.rmdirSync(t,e)}rC.exports=yl;yl.sync=tC});var _i=c((wae,sC)=>{"use strict";var l5=_e().fromCallback,iC=nC();sC.exports={remove:l5(iC),removeSync:iC.sync}});var dC=c((bae,fC)=>{"use strict";var h5=_e().fromCallback,uC=oe(),cC=require("path"),lC=Ie(),hC=_i(),oC=h5(function(e,r){r=r||function(){},uC.readdir(e,(n,i)=>{if(n)return lC.mkdirs(e,r);i=i.map(o=>cC.join(e,o)),s();function s(){let o=i.pop();if(!o)return r();hC.remove(o,a=>{if(a)return r(a);s()})}})});function aC(t){let e;try{e=uC.readdirSync(t)}catch(r){return lC.mkdirsSync(t)}e.forEach(r=>{r=cC.join(t,r),hC.removeSync(r)})}fC.exports={emptyDirSync:aC,emptydirSync:aC,emptyDir:oC,emptydir:oC}});var yC=c((_ae,gC)=>{"use strict";var f5=_e().fromCallback,pC=require("path"),xi=oe(),mC=Ie(),d5=rt().pathExists;function p5(t,e){function r(){xi.writeFile(t,"",n=>{if(n)return e(n);e()})}xi.stat(t,(n,i)=>{if(!n&&i.isFile())return e();let s=pC.dirname(t);d5(s,(o,a)=>{if(o)return e(o);if(a)return r();mC.mkdirs(s,u=>{if(u)return e(u);r()})})})}function m5(t){let e;try{e=xi.statSync(t)}catch(n){}if(e&&e.isFile())return;let r=pC.dirname(t);xi.existsSync(r)||mC.mkdirsSync(r),xi.writeFileSync(t,"")}gC.exports={createFile:f5(p5),createFileSync:m5}});var vC=c((xae,xC)=>{"use strict";var g5=_e().fromCallback,bC=require("path"),wr=oe(),_C=Ie(),wC=rt().pathExists;function y5(t,e,r){function n(i,s){wr.link(i,s,o=>{if(o)return r(o);r(null)})}wC(e,(i,s)=>{if(i)return r(i);if(s)return r(null);wr.lstat(t,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);let a=bC.dirname(e);wC(a,(u,l)=>{if(u)return r(u);if(l)return n(t,e);_C.mkdirs(a,h=>{if(h)return r(h);n(t,e)})})})})}function w5(t,e){if(wr.existsSync(e))return;try{wr.lstatSync(t)}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=bC.dirname(e);return wr.existsSync(n)||_C.mkdirsSync(n),wr.linkSync(t,e)}xC.exports={createLink:g5(y5),createLinkSync:w5}});var qC=c((vae,EC)=>{"use strict";var $t=require("path"),vi=oe(),b5=rt().pathExists;function _5(t,e,r){if($t.isAbsolute(t))return vi.lstat(t,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:t,toDst:t}));{let n=$t.dirname(e),i=$t.join(n,t);return b5(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:t}):vi.lstat(t,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:t,toDst:$t.relative(n,t)})))}}function x5(t,e){let r;if($t.isAbsolute(t)){if(r=vi.existsSync(t),!r)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}else{let n=$t.dirname(e),i=$t.join(n,t);if(r=vi.existsSync(i),r)return{toCwd:i,toDst:t};if(r=vi.existsSync(t),!r)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:$t.relative(n,t)}}}EC.exports={symlinkPaths:_5,symlinkPathsSync:x5}});var CC=c((Eae,TC)=>{"use strict";var SC=oe();function v5(t,e,r){if(r=typeof e=="function"?e:r,e=typeof e=="function"?!1:e,e)return r(null,e);SC.lstat(t,(n,i)=>{if(n)return r(null,"file");e=i&&i.isDirectory()?"dir":"file",r(null,e)})}function E5(t,e){let r;if(e)return e;try{r=SC.lstatSync(t)}catch(n){return"file"}return r&&r.isDirectory()?"dir":"file"}TC.exports={symlinkType:v5,symlinkTypeSync:E5}});var RC=c((qae,PC)=>{"use strict";var q5=_e().fromCallback,IC=require("path"),an=oe(),AC=Ie(),S5=AC.mkdirs,T5=AC.mkdirsSync,kC=qC(),C5=kC.symlinkPaths,O5=kC.symlinkPathsSync,NC=CC(),I5=NC.symlinkType,A5=NC.symlinkTypeSync,OC=rt().pathExists;function k5(t,e,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,OC(e,(i,s)=>{if(i)return n(i);if(s)return n(null);C5(t,e,(o,a)=>{if(o)return n(o);t=a.toDst,I5(a.toCwd,r,(u,l)=>{if(u)return n(u);let h=IC.dirname(e);OC(h,(f,d)=>{if(f)return n(f);if(d)return an.symlink(t,e,l,n);S5(h,p=>{if(p)return n(p);an.symlink(t,e,l,n)})})})})})}function N5(t,e,r){if(an.existsSync(e))return;let i=O5(t,e);t=i.toDst,r=A5(i.toCwd,r);let s=IC.dirname(e);return an.existsSync(s)||T5(s),an.symlinkSync(t,e,r)}PC.exports={createSymlink:q5(k5),createSymlinkSync:N5}});var MC=c((Sae,jC)=>{"use strict";var po=yC(),mo=vC(),go=RC();jC.exports={createFile:po.createFile,createFileSync:po.createFileSync,ensureFile:po.createFile,ensureFileSync:po.createFileSync,createLink:mo.createLink,createLinkSync:mo.createLinkSync,ensureLink:mo.createLink,ensureLinkSync:mo.createLinkSync,createSymlink:go.createSymlink,createSymlinkSync:go.createSymlinkSync,ensureSymlink:go.createSymlink,ensureSymlinkSync:go.createSymlinkSync}});var DC=c((Tae,FC)=>{var un;try{un=oe()}catch(t){un=require("fs")}function P5(t,e,r){r==null&&(r=e,e={}),typeof e=="string"&&(e={encoding:e}),e=e||{};var n=e.fs||un,i=!0;"throws"in e&&(i=e.throws),n.readFile(t,e,function(s,o){if(s)return r(s);o=$C(o);var a;try{a=JSON.parse(o,e?e.reviver:null)}catch(u){return i?(u.message=t+": "+u.message,r(u)):r(null,null)}r(null,a)})}function R5(t,e){e=e||{},typeof e=="string"&&(e={encoding:e});var r=e.fs||un,n=!0;"throws"in e&&(n=e.throws);try{var i=r.readFileSync(t,e);return i=$C(i),JSON.parse(i,e.reviver)}catch(s){if(n)throw s.message=t+": "+s.message,s;return null}}function LC(t,e){var r,n=`\n`;typeof e=="object"&&e!==null&&(e.spaces&&(r=e.spaces),e.EOL&&(n=e.EOL));var i=JSON.stringify(t,e?e.replacer:null,r);return i.replace(/\\n/g,n)+n}function j5(t,e,r,n){n==null&&(n=r,r={}),r=r||{};var i=r.fs||un,s="";try{s=LC(e,r)}catch(o){n&&n(o,null);return}i.writeFile(t,s,r,n)}function M5(t,e,r){r=r||{};var n=r.fs||un,i=LC(e,r);return n.writeFileSync(t,i,r)}function $C(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t=t.replace(/^\\uFEFF/,""),t}var L5={readFile:P5,readFileSync:R5,writeFile:j5,writeFileSync:M5};FC.exports=L5});var wo=c((Cae,WC)=>{"use strict";var BC=_e().fromCallback,yo=DC();WC.exports={readJson:BC(yo.readFile),readJsonSync:yo.readFileSync,writeJson:BC(yo.writeFile),writeJsonSync:yo.writeFileSync}});var QC=c((Oae,HC)=>{"use strict";var $5=require("path"),F5=Ie(),D5=rt().pathExists,UC=wo();function B5(t,e,r,n){typeof r=="function"&&(n=r,r={});let i=$5.dirname(t);D5(i,(s,o)=>{if(s)return n(s);if(o)return UC.writeJson(t,e,r,n);F5.mkdirs(i,a=>{if(a)return n(a);UC.writeJson(t,e,r,n)})})}HC.exports=B5});var GC=c((Iae,zC)=>{"use strict";var W5=oe(),U5=require("path"),H5=Ie(),Q5=wo();function z5(t,e,r){let n=U5.dirname(t);W5.existsSync(n)||H5.mkdirsSync(n),Q5.writeJsonSync(t,e,r)}zC.exports=z5});var JC=c((Aae,KC)=>{"use strict";var G5=_e().fromCallback,be=wo();be.outputJson=G5(QC());be.outputJsonSync=GC();be.outputJSON=be.outputJson;be.outputJSONSync=be.outputJsonSync;be.writeJSON=be.writeJson;be.writeJSONSync=be.writeJsonSync;be.readJSON=be.readJson;be.readJSONSync=be.readJsonSync;KC.exports=be});var tO=c((kae,eO)=>{"use strict";var XC=oe(),K5=require("path"),J5=pl().copySync,ZC=_i().removeSync,V5=Ie().mkdirpSync,VC=pi();function Y5(t,e,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i}=VC.checkPathsSync(t,e,"move");return VC.checkParentPathsSync(t,i,e,"move"),V5(K5.dirname(e)),X5(t,e,n)}function X5(t,e,r){if(r)return ZC(e),YC(t,e,r);if(XC.existsSync(e))throw new Error("dest already exists.");return YC(t,e,r)}function YC(t,e,r){try{XC.renameSync(t,e)}catch(n){if(n.code!=="EXDEV")throw n;return Z5(t,e,r)}}function Z5(t,e,r){return J5(t,e,{overwrite:r,errorOnExist:!0}),ZC(t)}eO.exports=Y5});var nO=c((Nae,rO)=>{"use strict";rO.exports={moveSync:tO()}});var uO=c((Pae,aO)=>{"use strict";var e7=oe(),t7=require("path"),r7=gl().copy,oO=_i().remove,n7=Ie().mkdirp,i7=rt().pathExists,iO=pi();function s7(t,e,r,n){typeof r=="function"&&(n=r,r={});let i=r.overwrite||r.clobber||!1;iO.checkPaths(t,e,"move",(s,o)=>{if(s)return n(s);let{srcStat:a}=o;iO.checkParentPaths(t,a,e,"move",u=>{if(u)return n(u);n7(t7.dirname(e),l=>l?n(l):o7(t,e,i,n))})})}function o7(t,e,r,n){if(r)return oO(e,i=>i?n(i):sO(t,e,r,n));i7(e,(i,s)=>i?n(i):s?n(new Error("dest already exists.")):sO(t,e,r,n))}function sO(t,e,r,n){e7.rename(t,e,i=>i?i.code!=="EXDEV"?n(i):a7(t,e,r,n):n())}function a7(t,e,r,n){r7(t,e,{overwrite:r,errorOnExist:!0},s=>s?n(s):oO(t,n))}aO.exports=s7});var lO=c((Rae,cO)=>{"use strict";var u7=_e().fromCallback;cO.exports={move:u7(uO())}});var pO=c((jae,dO)=>{"use strict";var c7=_e().fromCallback,Ei=oe(),hO=require("path"),fO=Ie(),l7=rt().pathExists;function h7(t,e,r,n){typeof r=="function"&&(n=r,r="utf8");let i=hO.dirname(t);l7(i,(s,o)=>{if(s)return n(s);if(o)return Ei.writeFile(t,e,r,n);fO.mkdirs(i,a=>{if(a)return n(a);Ei.writeFile(t,e,r,n)})})}function f7(t,...e){let r=hO.dirname(t);if(Ei.existsSync(r))return Ei.writeFileSync(t,...e);fO.mkdirsSync(r),Ei.writeFileSync(t,...e)}dO.exports={outputFile:c7(h7),outputFileSync:f7}});var bl=c((Mae,wl)=>{"use strict";wl.exports=Object.assign({},tl(),pl(),gl(),dC(),MC(),JC(),Ie(),nO(),lO(),pO(),rt(),_i());var mO=require("fs");Object.getOwnPropertyDescriptor(mO,"promises")&&Object.defineProperty(wl.exports,"promises",{get(){return mO.promises}})});var yO=c((Lae,gO)=>{gO.exports=()=>new Date});var bO=c(($ae,wO)=>{var d7=G()("streamroller:fileNameFormatter"),p7=require("path"),m7=".gz",g7=".";wO.exports=({file:t,keepFileExt:e,needsIndex:r,alwaysIncludeDate:n,compress:i,fileNameSep:s})=>{let o=s||g7,a=p7.join(t.dir,t.name),u=p=>p+t.ext,l=(p,m,y)=>(r||!y)&&m?p+o+m:p,h=(p,m,y)=>(m>0||n)&&y?p+o+y:p,f=(p,m)=>m&&i?p+m7:p,d=e?[h,l,u,f]:[u,h,l,f];return({date:p,index:m})=>(d7(`_formatFileName: date=${p}, index=${m}`),d.reduce((y,_)=>_(y,m,p),a))}});var EO=c((Fae,vO)=>{var br=G()("streamroller:fileNameParser"),_O=".gz",xO=to(),y7=".";vO.exports=({file:t,keepFileExt:e,pattern:r,fileNameSep:n})=>{let i=n||y7,s=(d,p)=>d.endsWith(_O)?(br("it is gzipped"),p.isCompressed=!0,d.slice(0,-1*_O.length)):d,o="__NOT_MATCHING__",f=[s,e?d=>d.startsWith(t.name)&&d.endsWith(t.ext)?(br("it starts and ends with the right things"),d.slice(t.name.length+1,-1*t.ext.length)):o:d=>d.startsWith(t.base)?(br("it starts with the right things"),d.slice(t.base.length+1)):o,r?(d,p)=>{let m=d.split(i),y=m[m.length-1];br("items: ",m,", indexStr: ",y);let _=d;y!==void 0&&y.match(/^\\d+$/)?(_=d.slice(0,-1*(y.length+1)),br(`dateStr is ${_}`),r&&!_&&(_=y,y="0")):y="0";try{let q=xO.parse(r,_,new Date(0,0));return xO.asString(r,q)!==_?d:(p.index=parseInt(y,10),p.date=_,p.timestamp=q.getTime(),"")}catch(q){return br(`Problem parsing ${_} as ${r}, error was: `,q),d}}:(d,p)=>d.match(/^\\d+$/)?(br("it has an index"),p.index=parseInt(d,10),""):d];return d=>{let p={filename:d,index:0,isCompressed:!1};return f.reduce((y,_)=>_(y,p),d)?null:p}}});var SO=c((Dae,qO)=>{var Ae=G()("streamroller:moveAndMaybeCompressFile"),bt=bl(),w7=require("zlib"),b7=function(t){let e={mode:parseInt("0600",8),compress:!1},r=Object.assign({},e,t);return Ae(`_parseOption: moveAndMaybeCompressFile called with option=${JSON.stringify(r)}`),r},_7=async(t,e,r)=>{if(r=b7(r),t===e){Ae("moveAndMaybeCompressFile: source and target are the same, not doing anything");return}if(await bt.pathExists(t))if(Ae(`moveAndMaybeCompressFile: moving file from ${t} to ${e} ${r.compress?"with":"without"} compress`),r.compress)await new Promise((n,i)=>{let s=!1,o=bt.createWriteStream(e,{mode:r.mode,flags:"wx"}).on("open",()=>{s=!0;let a=bt.createReadStream(t).on("open",()=>{a.pipe(w7.createGzip()).pipe(o)}).on("error",u=>{Ae(`moveAndMaybeCompressFile: error reading ${t}`,u),o.destroy(u)})}).on("finish",()=>{Ae(`moveAndMaybeCompressFile: finished compressing ${e}, deleting ${t}`),bt.unlink(t).then(n).catch(a=>{Ae(`moveAndMaybeCompressFile: error deleting ${t}, truncating instead`,a),bt.truncate(t).then(n).catch(u=>{Ae(`moveAndMaybeCompressFile: error truncating ${t}`,u),i(u)})})}).on("error",a=>{s?(Ae(`moveAndMaybeCompressFile: error writing ${e}, deleting`,a),bt.unlink(e).then(()=>{i(a)}).catch(u=>{Ae(`moveAndMaybeCompressFile: error deleting ${e}`,u),i(u)})):(Ae(`moveAndMaybeCompressFile: error creating ${e}`,a),i(a))})}).catch(()=>{});else{Ae(`moveAndMaybeCompressFile: renaming ${t} to ${e}`);try{await bt.move(t,e,{overwrite:!0})}catch(n){Ae(`moveAndMaybeCompressFile: error renaming ${t} to ${e}`,n),Ae("moveAndMaybeCompressFile: trying copy+truncate instead"),await bt.copy(t,e,{overwrite:!0}),await bt.truncate(t)}}};qO.exports=_7});var xo=c((Bae,TO)=>{var ke=G()("streamroller:RollingFileWriteStream"),xr=bl(),_r=require("path"),x7=require("os"),bo=yO(),_o=to(),{Writable:v7}=require("stream"),E7=bO(),q7=EO(),S7=SO(),T7=t=>(ke(`deleteFiles: files to delete: ${t}`),Promise.all(t.map(e=>xr.unlink(e).catch(r=>{ke(`deleteFiles: error when unlinking ${e}, ignoring. Error was ${r}`)})))),_l=class extends v7{constructor(e,r){if(ke(`constructor: creating RollingFileWriteStream. path=${e}`),typeof e!="string"||e.length===0)throw new Error(`Invalid filename: ${e}`);if(e.endsWith(_r.sep))throw new Error(`Filename is a directory: ${e}`);e=e.replace(new RegExp(`^~(?=${_r.sep}.+)`),x7.homedir()),super(r),this.options=this._parseOption(r),this.fileObject=_r.parse(e),this.fileObject.dir===""&&(this.fileObject=_r.parse(_r.join(process.cwd(),e))),this.fileFormatter=E7({file:this.fileObject,alwaysIncludeDate:this.options.alwaysIncludePattern,needsIndex:this.options.maxSize<Number.MAX_SAFE_INTEGER,compress:this.options.compress,keepFileExt:this.options.keepFileExt,fileNameSep:this.options.fileNameSep}),this.fileNameParser=q7({file:this.fileObject,keepFileExt:this.options.keepFileExt,pattern:this.options.pattern,fileNameSep:this.options.fileNameSep}),this.state={currentSize:0},this.options.pattern&&(this.state.currentDate=_o(this.options.pattern,bo())),this.filename=this.fileFormatter({index:0,date:this.state.currentDate}),["a","a+","as","as+"].includes(this.options.flags)&&this._setExistingSizeAndDate(),ke(`constructor: create new file ${this.filename}, state=${JSON.stringify(this.state)}`),this._renewWriteStream()}_setExistingSizeAndDate(){try{let e=xr.statSync(this.filename);this.state.currentSize=e.size,this.options.pattern&&(this.state.currentDate=_o(this.options.pattern,e.mtime))}catch(e){return}}_parseOption(e){let r={maxSize:0,numToKeep:Number.MAX_SAFE_INTEGER,encoding:"utf8",mode:parseInt("0600",8),flags:"a",compress:!1,keepFileExt:!1,alwaysIncludePattern:!1},n=Object.assign({},r,e);if(!n.maxSize)delete n.maxSize;else if(n.maxSize<=0)throw new Error(`options.maxSize (${n.maxSize}) should be > 0`);if(n.numBackups||n.numBackups===0){if(n.numBackups<0)throw new Error(`options.numBackups (${n.numBackups}) should be >= 0`);if(n.numBackups>=Number.MAX_SAFE_INTEGER)throw new Error(`options.numBackups (${n.numBackups}) should be < Number.MAX_SAFE_INTEGER`);n.numToKeep=n.numBackups+1}else if(n.numToKeep<=0)throw new Error(`options.numToKeep (${n.numToKeep}) should be > 0`);return ke(`_parseOption: creating stream with option=${JSON.stringify(n)}`),n}_final(e){this.currentFileStream.end("",this.options.encoding,e)}_write(e,r,n){this._shouldRoll().then(()=>{ke(`_write: writing chunk. file=${this.currentFileStream.path} state=${JSON.stringify(this.state)} chunk=${e}`),this.currentFileStream.write(e,r,i=>{this.state.currentSize+=e.length,n(i)})})}async _shouldRoll(){(this._dateChanged()||this._tooBig())&&(ke(`_shouldRoll: rolling because dateChanged? ${this._dateChanged()} or tooBig? ${this._tooBig()}`),await this._roll())}_dateChanged(){return this.state.currentDate&&this.state.currentDate!==_o(this.options.pattern,bo())}_tooBig(){return this.state.currentSize>=this.options.maxSize}_roll(){return ke("_roll: closing the current stream"),new Promise((e,r)=>{this.currentFileStream.end("",this.options.encoding,()=>{this._moveOldFiles().then(e).catch(r)})})}async _moveOldFiles(){let e=await this._getExistingFiles(),r=this.state.currentDate?e.filter(n=>n.date===this.state.currentDate):e;for(let n=r.length;n>=0;n--){ke(`_moveOldFiles: i = ${n}`);let i=this.fileFormatter({date:this.state.currentDate,index:n}),s=this.fileFormatter({date:this.state.currentDate,index:n+1}),o={compress:this.options.compress&&n===0,mode:this.options.mode};await S7(i,s,o)}this.state.currentSize=0,this.state.currentDate=this.state.currentDate?_o(this.options.pattern,bo()):null,ke(`_moveOldFiles: finished rolling files. state=${JSON.stringify(this.state)}`),this._renewWriteStream(),await new Promise((n,i)=>{this.currentFileStream.write("","utf8",()=>{this._clean().then(n).catch(i)})})}async _getExistingFiles(){let e=await xr.readdir(this.fileObject.dir).catch(()=>[]);ke(`_getExistingFiles: files=${e}`);let r=e.map(i=>this.fileNameParser(i)).filter(i=>i),n=i=>(i.timestamp?i.timestamp:bo().getTime())-i.index;return r.sort((i,s)=>n(i)-n(s)),r}_renewWriteStream(){let e=this.fileFormatter({date:this.state.currentDate,index:0}),r=s=>{try{return xr.mkdirSync(s,{recursive:!0})}catch(o){if(o.code==="ENOENT")return r(_r.dirname(s)),r(s);if(o.code!=="EEXIST"&&o.code!=="EROFS")throw o;try{if(xr.statSync(s).isDirectory())return s;throw o}catch(a){throw o}}};r(this.fileObject.dir);let n={flags:this.options.flags,encoding:this.options.encoding,mode:this.options.mode},i=function(s,o,a){return s[a]=s[o],delete s[o],s};xr.appendFileSync(e,"",i($({},n),"flags","flag")),this.currentFileStream=xr.createWriteStream(e,n),this.currentFileStream.on("error",s=>{this.emit("error",s)})}async _clean(){let e=await this._getExistingFiles();if(ke(`_clean: numToKeep = ${this.options.numToKeep}, existingFiles = ${e.length}`),ke("_clean: existing files are: ",e),this._tooManyFiles(e.length)){let r=e.slice(0,e.length-this.options.numToKeep).map(n=>_r.format({dir:this.fileObject.dir,base:n.filename}));await T7(r)}}_tooManyFiles(e){return this.options.numToKeep>0&&e>this.options.numToKeep}};TO.exports=_l});var OO=c((Uae,CO)=>{var C7=xo(),xl=class extends C7{constructor(e,r,n,i){i||(i={}),r&&(i.maxSize=r),!i.numBackups&&i.numBackups!==0&&(!n&&n!==0&&(n=1),i.numBackups=n),super(e,i),this.backups=i.numBackups,this.size=this.options.maxSize}get theStream(){return this.currentFileStream}};CO.exports=xl});var AO=c((Hae,IO)=>{var O7=xo(),vl=class extends O7{constructor(e,r,n){r&&typeof r=="object"&&(n=r,r=null),n||(n={}),r||(r="yyyy-MM-dd"),n.pattern=r,!n.numBackups&&n.numBackups!==0?(!n.daysToKeep&&n.daysToKeep!==0?n.daysToKeep=1:process.emitWarning("options.daysToKeep is deprecated due to the confusion it causes when used together with file size rolling. Please use options.numBackups instead.","DeprecationWarning","streamroller-DEP0001"),n.numBackups=n.daysToKeep):n.daysToKeep=n.numBackups,super(e,n),this.mode=this.options.mode}get theStream(){return this.currentFileStream}};IO.exports=vl});var El=c((Qae,kO)=>{kO.exports={RollingFileWriteStream:xo(),RollingFileStream:OO(),DateRollingFileStream:AO()}});var MO=c((zae,jO)=>{var NO=G()("log4js:file"),ql=require("path"),I7=El(),RO=require("os"),A7=RO.EOL,vo=!1,Eo=new Set;function PO(){Eo.forEach(t=>{t.sighupHandler()})}function k7(t,e,r,n,i,s){if(typeof t!="string"||t.length===0)throw new Error(`Invalid filename: ${t}`);if(t.endsWith(ql.sep))throw new Error(`Filename is a directory: ${t}`);t=t.replace(new RegExp(`^~(?=${ql.sep}.+)`),RO.homedir()),t=ql.normalize(t),n=!n&&n!==0?5:n,NO("Creating file appender (",t,", ",r,", ",n,", ",i,", ",s,")");function o(l,h,f,d){let p=new I7.RollingFileStream(l,h,f,d);return p.on("error",m=>{console.error("log4js.fileAppender - Writing to file %s, error happened ",l,m)}),p.on("drain",()=>{process.emit("log4js:pause",!1)}),p}let a=o(t,r,n,i),u=function(l){if(!!a.writable){if(i.removeColor===!0){let h=/\\x1b[[0-9;]*m/g;l.data=l.data.map(f=>typeof f=="string"?f.replace(h,""):f)}a.write(e(l,s)+A7,"utf8")||process.emit("log4js:pause",!0)}};return u.reopen=function(){a.end(()=>{a=o(t,r,n,i)})},u.sighupHandler=function(){NO("SIGHUP handler called."),u.reopen()},u.shutdown=function(l){Eo.delete(u),Eo.size===0&&vo&&(process.removeListener("SIGHUP",PO),vo=!1),a.end("","utf-8",l)},Eo.add(u),vo||(process.on("SIGHUP",PO),vo=!0),u}function N7(t,e){let r=e.basicLayout;return t.layout&&(r=e.layout(t.layout.type,t.layout)),t.mode=t.mode||384,k7(t.filename,r,t.maxLogSize,t.backups,t,t.timezoneOffset)}jO.exports.configure=N7});var $O=c((Gae,LO)=>{var P7=El(),R7=require("os"),j7=R7.EOL;function M7(t,e,r){let n=new P7.DateRollingFileStream(t,e,r);return n.on("error",i=>{console.error("log4js.dateFileAppender - Writing to file %s, error happened ",t,i)}),n.on("drain",()=>{process.emit("log4js:pause",!1)}),n}function L7(t,e,r,n,i){n.maxSize=n.maxLogSize;let s=M7(t,e,n),o=function(a){!s.writable||s.write(r(a,i)+j7,"utf8")||process.emit("log4js:pause",!0)};return o.shutdown=function(a){s.end("","utf-8",a)},o}function $7(t,e){let r=e.basicLayout;return t.layout&&(r=e.layout(t.layout.type,t.layout)),t.alwaysIncludePattern||(t.alwaysIncludePattern=!1),t.mode=t.mode||384,L7(t.filename,t.pattern,r,t,t.timezoneOffset)}LO.exports.configure=$7});var WO=c((Kae,BO)=>{var _t=G()("log4js:fileSync"),it=require("path"),nt=require("fs"),FO=require("os"),F7=FO.EOL;function DO(t,e){let r=n=>{try{return nt.mkdirSync(n,{recursive:!0})}catch(i){if(i.code==="ENOENT")return r(it.dirname(n)),r(n);if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(nt.statSync(n).isDirectory())return n;throw i}catch(s){throw i}}};r(it.dirname(t)),nt.appendFileSync(t,"",{mode:e.mode,flag:e.flags})}var Sl=class{constructor(e,r,n,i){if(_t("In RollingFileStream"),r<0)throw new Error(`maxLogSize (${r}) should be > 0`);this.filename=e,this.size=r,this.backups=n,this.options=i,this.currentSize=0;function s(o){let a=0;try{a=nt.statSync(o).size}catch(u){DO(o,i)}return a}this.currentSize=s(this.filename)}shouldRoll(){return _t("should roll with current size %d, and max size %d",this.currentSize,this.size),this.currentSize>=this.size}roll(e){let r=this,n=new RegExp(`^${it.basename(e)}`);function i(l){return n.test(l)}function s(l){return parseInt(l.slice(`${it.basename(e)}.`.length),10)||0}function o(l,h){return s(l)-s(h)}function a(l){let h=s(l);if(_t(`Index of ${l} is ${h}`),r.backups===0)nt.truncateSync(e,0);else if(h<r.backups){try{nt.unlinkSync(`${e}.${h+1}`)}catch(f){}_t(`Renaming ${l} -> ${e}.${h+1}`),nt.renameSync(it.join(it.dirname(e),l),`${e}.${h+1}`)}}function u(){_t("Renaming the old files"),nt.readdirSync(it.dirname(e)).filter(i).sort(o).reverse().forEach(a)}_t("Rolling, rolling, rolling"),u()}write(e,r){let n=this;function i(){_t("writing the chunk to the file"),n.currentSize+=e.length,nt.appendFileSync(n.filename,e)}_t("in write"),this.shouldRoll()&&(this.currentSize=0,this.roll(this.filename)),i()}};function D7(t,e,r,n,i,s){if(typeof t!="string"||t.length===0)throw new Error(`Invalid filename: ${t}`);if(t.endsWith(it.sep))throw new Error(`Filename is a directory: ${t}`);t=t.replace(new RegExp(`^~(?=${it.sep}.+)`),FO.homedir()),t=it.normalize(t),n=!n&&n!==0?5:n,_t("Creating fileSync appender (",t,", ",r,", ",n,", ",i,", ",s,")");function o(u,l,h){let f;return l?f=new Sl(u,l,h,i):f=(d=>(DO(d,i),{write(p){nt.appendFileSync(d,p)}}))(u),f}let a=o(t,r,n);return u=>{a.write(e(u,s)+F7)}}function B7(t,e){let r=e.basicLayout;t.layout&&(r=e.layout(t.layout.type,t.layout));let n={flags:t.flags||"a",encoding:t.encoding||"utf8",mode:t.mode||384};return D7(t.filename,r,t.maxLogSize,t.backups,n,t.timezoneOffset)}BO.exports.configure=B7});var HO=c((Jae,UO)=>{var st=G()("log4js:tcp"),W7=require("net");function U7(t,e){let r=!1,n=[],i,s=3,o="__LOG4JS__";function a(f){st("Writing log event to socket"),r=i.write(`${e(f)}${o}`,"utf8")}function u(){let f;for(st("emptying buffer");f=n.shift();)a(f)}function l(){st(`appender creating socket to ${t.host||"localhost"}:${t.port||5e3}`),o=`${t.endMsg||"__LOG4JS__"}`,i=W7.createConnection(t.port||5e3,t.host||"localhost"),i.on("connect",()=>{st("socket connected"),u(),r=!0}),i.on("drain",()=>{st("drain event received, emptying buffer"),r=!0,u()}),i.on("timeout",i.end.bind(i)),i.on("error",f=>{st("connection error",f),r=!1,u()}),i.on("close",l)}l();function h(f){r?a(f):(st("buffering log event because it cannot write at the moment"),n.push(f))}return h.shutdown=function(f){st("shutdown called"),n.length&&s?(st("buffer has items, waiting 100ms to empty"),s-=1,setTimeout(()=>{h.shutdown(f)},100)):(i.removeAllListeners("close"),i.end(f))},h}function H7(t,e){st(`configure with config = ${t}`);let r=function(n){return n.serialise()};return t.layout&&(r=e.layout(t.layout.type,t.layout)),U7(t,r)}UO.exports.configure=H7});var Ol=c((Vae,Cl)=>{var Tl=require("path"),Ft=G()("log4js:appenders"),We=dr(),QO=so(),Q7=mr(),z7=Qc(),G7=WS(),Je=new Map;Je.set("console",HS());Je.set("stdout",zS());Je.set("stderr",KS());Je.set("logLevelFilter",VS());Je.set("categoryFilter",ZS());Je.set("noLogFilter",rT());Je.set("file",MO());Je.set("dateFile",$O());Je.set("fileSync",WO());Je.set("tcp",HO());var qi=new Map,qo=(t,e)=>{let r;try{let n=`${t}.cjs`;r=require.resolve(n),Ft("Loading module from ",n)}catch(n){r=t,Ft("Loading module from ",t)}try{return require(r)}catch(n){We.throwExceptionIf(e,n.code!=="MODULE_NOT_FOUND",`appender "${t}" could not be loaded (error was: ${n})`);return}},K7=(t,e)=>Je.get(t)||qo(`./${t}`,e)||qo(t,e)||require.main&&require.main.filename&&qo(Tl.join(Tl.dirname(require.main.filename),t),e)||qo(Tl.join(process.cwd(),t),e),So=new Set,zO=(t,e)=>{if(qi.has(t))return qi.get(t);if(!e.appenders[t])return!1;if(So.has(t))throw new Error(`Dependency loop detected for appender ${t}.`);So.add(t),Ft(`Creating appender ${t}`);let r=J7(t,e);return So.delete(t),qi.set(t,r),r},J7=(t,e)=>{let r=e.appenders[t],n=r.type.configure?r.type:K7(r.type,e);return We.throwExceptionIf(e,We.not(n),`appender "${t}" is not valid (type "${r.type}" could not be found)`),n.appender&&(process.emitWarning(`Appender ${r.type} exports an appender function.`,"DeprecationWarning","log4js-node-DEP0001"),Ft("[log4js-node-DEP0001]",`DEPRECATION: Appender ${r.type} exports an appender function.`)),n.shutdown&&(process.emitWarning(`Appender ${r.type} exports a shutdown function.`,"DeprecationWarning","log4js-node-DEP0002"),Ft("[log4js-node-DEP0002]",`DEPRECATION: Appender ${r.type} exports a shutdown function.`)),Ft(`${t}: clustering.isMaster ? ${QO.isMaster()}`),Ft(`${t}: appenderModule is ${require("util").inspect(n)}`),QO.onlyOnMaster(()=>(Ft(`calling appenderModule.configure for ${t} / ${r.type}`),n.configure(G7.modifyConfig(r),z7,i=>zO(i,e),Q7)),()=>{})},GO=t=>{if(qi.clear(),So.clear(),!t)return;let e=[];Object.values(t.categories).forEach(r=>{e.push(...r.appenders)}),Object.keys(t.appenders).forEach(r=>{(e.includes(r)||t.appenders[r].type==="tcp-server"||t.appenders[r].type==="multiprocess")&&zO(r,t)})},KO=()=>{GO()};KO();We.addListener(t=>{We.throwExceptionIf(t,We.not(We.anObject(t.appenders)),\'must have a property "appenders" of type object.\');let e=Object.keys(t.appenders);We.throwExceptionIf(t,We.not(e.length),"must define at least one appender."),e.forEach(r=>{We.throwExceptionIf(t,We.not(t.appenders[r].type),`appender "${r}" is not valid (must be an object with property "type")`)})});We.addListener(GO);Cl.exports=qi;Cl.exports.init=KO});var kl=c((Yae,To)=>{var Si=G()("log4js:categories"),Z=dr(),Il=mr(),JO=Ol(),Dt=new Map;function VO(t,e,r){if(e.inherit===!1)return;let n=r.lastIndexOf(".");if(n<0)return;let i=r.slice(0,n),s=t.categories[i];s||(s={inherit:!0,appenders:[]}),VO(t,s,i),!t.categories[i]&&s.appenders&&s.appenders.length&&s.level&&(t.categories[i]=s),e.appenders=e.appenders||[],e.level=e.level||s.level,s.appenders.forEach(o=>{e.appenders.includes(o)||e.appenders.push(o)}),e.parent=s}function V7(t){if(!t.categories)return;Object.keys(t.categories).forEach(r=>{let n=t.categories[r];VO(t,n,r)})}Z.addPreProcessingListener(t=>V7(t));Z.addListener(t=>{Z.throwExceptionIf(t,Z.not(Z.anObject(t.categories)),\'must have a property "categories" of type object.\');let e=Object.keys(t.categories);Z.throwExceptionIf(t,Z.not(e.length),"must define at least one category."),e.forEach(r=>{let n=t.categories[r];Z.throwExceptionIf(t,[Z.not(n.appenders),Z.not(n.level)],`category "${r}" is not valid (must be an object with properties "appenders" and "level")`),Z.throwExceptionIf(t,Z.not(Array.isArray(n.appenders)),`category "${r}" is not valid (appenders must be an array of appender names)`),Z.throwExceptionIf(t,Z.not(n.appenders.length),`category "${r}" is not valid (appenders must contain at least one appender name)`),Object.prototype.hasOwnProperty.call(n,"enableCallStack")&&Z.throwExceptionIf(t,typeof n.enableCallStack!="boolean",`category "${r}" is not valid (enableCallStack must be boolean type)`),n.appenders.forEach(i=>{Z.throwExceptionIf(t,Z.not(JO.get(i)),`category "${r}" is not valid (appender "${i}" is not defined)`)}),Z.throwExceptionIf(t,Z.not(Il.getLevel(n.level)),`category "${r}" is not valid (level "${n.level}" not recognised; valid levels are ${Il.levels.join(", ")})`)}),Z.throwExceptionIf(t,Z.not(t.categories.default),\'must define a "default" category.\')});var Al=t=>{if(Dt.clear(),!t)return;Object.keys(t.categories).forEach(r=>{let n=t.categories[r],i=[];n.appenders.forEach(s=>{i.push(JO.get(s)),Si(`Creating category ${r}`),Dt.set(r,{appenders:i,level:Il.getLevel(n.level),enableCallStack:n.enableCallStack||!1})})})},YO=()=>{Al()};YO();Z.addListener(Al);var cn=t=>{if(Si(`configForCategory: searching for config for ${t}`),Dt.has(t))return Si(`configForCategory: ${t} exists in config, returning it`),Dt.get(t);let e;return t.indexOf(".")>0?(Si(`configForCategory: ${t} has hierarchy, cloning from parents`),e=$({},cn(t.slice(0,t.lastIndexOf("."))))):(Dt.has("default")||Al({categories:{default:{appenders:["out"],level:"OFF"}}}),Si("configForCategory: cloning default category"),e=$({},Dt.get("default"))),Dt.set(t,e),e},Y7=t=>cn(t).appenders,X7=t=>cn(t).level,Z7=(t,e)=>{cn(t).level=e},eX=t=>cn(t).enableCallStack===!0,tX=(t,e)=>{cn(t).enableCallStack=e};To.exports=Dt;To.exports=Object.assign(To.exports,{appendersForCategory:Y7,getLevelForCategory:X7,setLevelForCategory:Z7,getEnableCallStackForCategory:eX,setEnableCallStackForCategory:tX,init:YO})});var rI=c((Zae,tI)=>{var XO=G()("log4js:logger"),rX=zc(),ot=mr(),nX=so(),Co=kl(),ZO=dr(),iX=/at (?:(.+)\\s+\\()?(?:(.+?):(\\d+)(?::(\\d+))?|([^)]+))\\)?/;function sX(t,e=4){try{let r=t.stack.split(`\n`).slice(e),n=iX.exec(r[0]);if(n&&n.length===6)return{functionName:n[1],fileName:n[2],lineNumber:parseInt(n[3],10),columnNumber:parseInt(n[4],10),callStack:r.join(`\n`)};console.error("log4js.logger - defaultParseCallStack error")}catch(r){console.error("log4js.logger - defaultParseCallStack error",r)}return null}var Ti=class{constructor(e){if(!e)throw new Error("No category provided.");this.category=e,this.context={},this.parseCallStack=sX,XO(`Logger created (${this.category}, ${this.level})`)}get level(){return ot.getLevel(Co.getLevelForCategory(this.category),ot.OFF)}set level(e){Co.setLevelForCategory(this.category,ot.getLevel(e,this.level))}get useCallStack(){return Co.getEnableCallStackForCategory(this.category)}set useCallStack(e){Co.setEnableCallStackForCategory(this.category,e===!0)}log(e,...r){let n=ot.getLevel(e);n?this.isLevelEnabled(n)&&this._log(n,r):ZO.validIdentifier(e)&&r.length>0?(this.log(ot.WARN,"log4js:logger.log: valid log-level not found as first parameter given:",e),this.log(ot.INFO,`[${e}]`,...r)):this.log(ot.INFO,e,...r)}isLevelEnabled(e){return this.level.isLessThanOrEqualTo(e)}_log(e,r){XO(`sending log data (${e}) to appenders`);let n=new rX(this.category,e,r,this.context,this.useCallStack&&this.parseCallStack(new Error));nX.send(n)}addContext(e,r){this.context[e]=r}removeContext(e){delete this.context[e]}clearContext(){this.context={}}setParseCallStackFunction(e){this.parseCallStack=e}};function eI(t){let e=ot.getLevel(t),n=e.toString().toLowerCase().replace(/_([a-z])/g,s=>s[1].toUpperCase()),i=n[0].toUpperCase()+n.slice(1);Ti.prototype[`is${i}Enabled`]=function(){return this.isLevelEnabled(e)},Ti.prototype[n]=function(...s){this.log(e,...s)}}ot.levels.forEach(eI);ZO.addListener(()=>{ot.levels.forEach(eI)});tI.exports=Ti});var sI=c((eue,iI)=>{var ln=mr(),oX=\':remote-addr - - ":method :url HTTP/:http-version" :status :content-length ":referrer" ":user-agent"\';function aX(t){return t.originalUrl||t.url}function uX(t,e,r){let n=s=>{let o=s.concat();for(let a=0;a<o.length;++a)for(let u=a+1;u<o.length;++u)o[a].token==o[u].token&&o.splice(u--,1);return o},i=[];return i.push({token:":url",replacement:aX(t)}),i.push({token:":protocol",replacement:t.protocol}),i.push({token:":hostname",replacement:t.hostname}),i.push({token:":method",replacement:t.method}),i.push({token:":status",replacement:e.__statusCode||e.statusCode}),i.push({token:":response-time",replacement:e.responseTime}),i.push({token:":date",replacement:new Date().toUTCString()}),i.push({token:":referrer",replacement:t.headers.referer||t.headers.referrer||""}),i.push({token:":http-version",replacement:`${t.httpVersionMajor}.${t.httpVersionMinor}`}),i.push({token:":remote-addr",replacement:t.headers["x-forwarded-for"]||t.ip||t._remoteAddress||t.socket&&(t.socket.remoteAddress||t.socket.socket&&t.socket.socket.remoteAddress)}),i.push({token:":user-agent",replacement:t.headers["user-agent"]}),i.push({token:":content-length",replacement:e.getHeader("content-length")||e.__headers&&e.__headers["Content-Length"]||"-"}),i.push({token:/:req\\[([^\\]]+)]/g,replacement(s,o){return t.headers[o.toLowerCase()]}}),i.push({token:/:res\\[([^\\]]+)]/g,replacement(s,o){return e.getHeader(o.toLowerCase())||e.__headers&&e.__headers[o]}}),n(r.concat(i))}function nI(t,e){for(let r=0;r<e.length;r++)t=t.replace(e[r].token,e[r].replacement);return t}function cX(t){let e=null;if(t instanceof RegExp&&(e=t),typeof t=="string"&&(e=new RegExp(t)),Array.isArray(t)){let r=t.map(n=>n.source?n.source:n);e=new RegExp(r.join("|"))}return e}function lX(t,e,r){let n=e;if(r){let i=r.find(s=>{let o=!1;return s.from&&s.to?o=t>=s.from&&t<=s.to:o=s.codes.indexOf(t)!==-1,o});i&&(n=ln.getLevel(i.level,n))}return n}iI.exports=function(e,r){typeof r=="string"||typeof r=="function"?r={format:r}:r=r||{};let n=e,i=ln.getLevel(r.level,ln.INFO),s=r.format||oX;return(o,a,u)=>{if(o._logging!==void 0)return u();if(typeof r.nolog!="function"){let l=cX(r.nolog);if(l&&l.test(o.originalUrl))return u()}if(n.isLevelEnabled(i)||r.level==="auto"){let l=new Date,{writeHead:h}=a;o._logging=!0,a.writeHead=(p,m)=>{a.writeHead=h,a.writeHead(p,m),a.__statusCode=p,a.__headers=m||{}};let f=!1,d=()=>{if(f)return;if(f=!0,typeof r.nolog=="function"&&r.nolog(o,a)===!0){o._logging=!1;return}a.responseTime=new Date-l,a.statusCode&&r.level==="auto"&&(i=ln.INFO,a.statusCode>=300&&(i=ln.WARN),a.statusCode>=400&&(i=ln.ERROR)),i=lX(a.statusCode,i,r.statusRules);let p=uX(o,a,r.tokens||[]);if(r.context&&n.addContext("res",a),typeof s=="function"){let m=s(o,a,y=>nI(y,p));m&&n.log(i,m)}else n.log(i,nI(s,p));r.context&&n.removeContext("res")};a.on("end",d),a.on("finish",d),a.on("error",d),a.on("close",d)}return u()}}});var lI=c((tue,cI)=>{var oI=G()("log4js:recording"),Oo=[];function hX(){return function(t){oI(`received logEvent, number of events now ${Oo.length+1}`),oI("log event was ",t),Oo.push(t)}}function aI(){return Oo.slice()}function uI(){Oo.length=0}cI.exports={configure:hX,replay:aI,playback:aI,reset:uI,erase:uI}});var Nl=c((rue,gI)=>{var Bt=G()("log4js:main"),fX=require("fs"),dX=nS()({proto:!0}),pX=dr(),mX=Qc(),gX=mr(),hI=Ol(),fI=kl(),yX=rI(),wX=so(),bX=sI(),_X=lI(),Ci=!1;function xX(t){if(!Ci)return;Bt("Received log event ",t),fI.appendersForCategory(t.categoryName).forEach(r=>{r(t)})}function vX(t){Bt(`Loading configuration from ${t}`);try{return JSON.parse(fX.readFileSync(t,"utf8"))}catch(e){throw new Error(`Problem reading config from file "${t}". Error was ${e.message}`,e)}}function dI(t){Ci&&pI();let e=t;return typeof e=="string"&&(e=vX(t)),Bt(`Configuration is ${e}`),pX.configure(dX(e)),wX.onMessage(xX),Ci=!0,mI}function EX(){return _X}function pI(t){Bt("Shutdown called. Disabling all log writing."),Ci=!1;let e=Array.from(hI.values());hI.init(),fI.init();let r=e.reduceRight((o,a)=>a.shutdown?o+1:o,0);if(r===0)return Bt("No appenders with shutdown functions found."),t!==void 0&&t();let n=0,i;Bt(`Found ${r} appenders with shutdown functions.`);function s(o){i=i||o,n+=1,Bt(`Appender shutdowns complete: ${n} / ${r}`),n>=r&&(Bt("All shutdown functions completed."),t&&t(i))}return e.filter(o=>o.shutdown).forEach(o=>o.shutdown(s)),null}function qX(t){return Ci||dI(process.env.LOG4JS_CONFIG||{appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"OFF"}}}),new yX(t||"default")}var mI={getLogger:qX,configure:dI,shutdown:pI,connectLogger:bX,levels:gX,addLayout:mX.addLayout,recording:EX};gI.exports=mI});var OI=c(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});function CI(t,e){if(e)return t;throw new Error("Unhandled discriminated union member: "+JSON.stringify(t))}Po.assertNever=CI;Po.default=CI});var JI=c(KI=>{"use strict";Object.defineProperty(KI,"__esModule",{value:!0})});var Jl=c(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.CreatorFieldMode=ve.AttachmentType=ve.TagType=ve.AnnotationType=void 0;var dZ;(function(t){t[t.highlight=1]="highlight",t[t.note=2]="note",t[t.image=3]="image",t[t.ink=4]="ink"})(dZ=ve.AnnotationType||(ve.AnnotationType={}));var pZ;(function(t){t[t.manual=0]="manual",t[t.auto=1]="auto"})(pZ=ve.TagType||(ve.TagType={}));var mZ;(function(t){t[t.importedFile=0]="importedFile",t[t.importedUrl=1]="importedUrl",t[t.linkedFile=2]="linkedFile",t[t.linkedUrl=3]="linkedUrl",t[t.embeddedImage=4]="embeddedImage"})(mZ=ve.AttachmentType||(ve.AttachmentType={}));var gZ;(function(t){t[t.fullName=0]="fullName",t[t.nameOnly=1]="nameOnly"})(gZ=ve.CreatorFieldMode||(ve.CreatorFieldMode={}))});var Vl=c(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.nonRegularItemTypes=Ee.requiredKeys=Ee.isCreatorNameOnly=Ee.isCreatorFullName=Ee.getCreatorName=void 0;var yZ=Sr(),VI=Jl(),wZ=t=>(0,Ee.isCreatorFullName)(t)?[t.firstName,t.lastName].join(" "):(0,Ee.isCreatorNameOnly)(t)?t.lastName:null;Ee.getCreatorName=wZ;var bZ=t=>{let e=t;return e.fieldMode===VI.CreatorFieldMode.fullName&&e.firstName!==null&&e.lastName!==null};Ee.isCreatorFullName=bZ;var _Z=t=>{let e=t;return e.fieldMode===VI.CreatorFieldMode.nameOnly&&e.lastName!==null};Ee.isCreatorNameOnly=_Z;Ee.requiredKeys=new Set((0,yZ.enumerate)()("creators","itemID","itemType","key","libraryID"));Ee.nonRegularItemTypes=["attachment","note","annotation"]});var XI=c(YI=>{"use strict";Object.defineProperty(YI,"__esModule",{value:!0})});var eA=c(ZI=>{"use strict";Object.defineProperty(ZI,"__esModule",{value:!0})});var nA=c((Que,rA)=>{var Ii=class{log(){}isLevelEnabled(){return!1}addContext(){}removeContext(){}clearContext(){}};["Trace","Debug","Info","Warn","Error","Fatal","Mark"].forEach(t=>{Ii.prototype[t.toLowerCase()]=()=>{},Ii.prototype[`is${t}Enabled`]=()=>!1});var xZ=()=>{try{return Nl()}catch(t){return null}},tA=xZ(),vZ=tA?tA.getLogger:()=>new Ii;rA.exports={getLogger:vZ}});var iA=c(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var EZ=nA();Yl.default=(0,EZ.getLogger)("zotero-type")});var oA=c(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.getBacklink=ct.isAnnotationItem=ct.isGeneralItem=void 0;var qZ=Sr(),SZ=Vl(),TZ=iA(),CZ=t=>!SZ.nonRegularItemTypes.includes(t.itemType)&&typeof t.key=="string";ct.isGeneralItem=CZ;var OZ=t=>t.itemType==="annotation"&&!!t.parentItem;ct.isAnnotationItem=OZ;var sA=t=>typeof t.groupID=="number"?`groups/${t.groupID}`:"library",IZ=t=>{let e;if((0,ct.isGeneralItem)(t))e=new URL(`zotero://select/${sA(t)}/items/${t.key}`);else if((0,ct.isAnnotationItem)(t)){e=new URL(`zotero://open-pdf/${sA(t)}/items/${t.parentItem}`);let r;try{r=(0,qZ.toPage)(t.position.pageIndex,!0)}catch(n){TZ.default.warn(n),r=null}typeof r=="number"&&e.searchParams.append("page",r.toString()),t.key&&e.searchParams.append("annotation",t.key)}else return"";return e.toString()};ct.getBacklink=IZ});var uA=c(aA=>{"use strict";Object.defineProperty(aA,"__esModule",{value:!0})});var cA=c(qe=>{"use strict";var AZ=qe&&qe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fn=qe&&qe.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&AZ(e,t,r)};Object.defineProperty(qe,"__esModule",{value:!0});qe.DB=void 0;qe.DB=JI();fn(Jl(),qe);fn(Vl(),qe);fn(XI(),qe);fn(eA(),qe);fn(oA(),qe);fn(uA(),qe)});var gA=Et(ih()),yA=Et(Sr());var bI=require("fs");var eS=Et(Zq()),bY=!1,_Y=(t,e)=>(0,eS.default)(Uc(t,e)),Uc=(t,e)=>({client:"better-sqlite3",connection:{filename:`file:${t}?mode=ro&immutable=1`,nativeBinding:e,readonly:!0},useNullAsDefault:!0,debug:bY,pool:{min:1,max:1}}),tS=_Y;var yI=Et(Sr()),wI=Et(Nl()),SX="INFO",D=(0,yI.initLogger)("db-worker",SX,wI.default);var Io=class extends Error{constructor(){super("Database not set")}};var Pl=async t=>(await bI.promises.stat(t)).mtimeMs,ce,Wt,hn=class{constructor(){Bo(this,ce,null);Bo(this,Wt,null);this.opened=!1}get db(){var e;return(e=ae(this,ce))==null?void 0:e.db}async isUpToDate(){return ae(this,ce)?ae(this,ce).mtime===await Pl(ae(this,ce).path):null}async open(e,r){var n;ki(this,Wt,r);try{if((n=ae(this,ce))!=null&&n.db){D.info("Database opened before, closing: ",ae(this,ce).db.name),this.opened=!1,await ae(this,ce).db.destroy();let i=await Pl(e);ae(this,ce).db.initialize(Uc(e,ae(this,Wt))),ae(this,ce).mtime=i,ae(this,ce).path=e}else ki(this,ce,{db:tS(e,ae(this,Wt)),mtime:await Pl(e),path:e});return D.info("Database opened: ",e),this.opened=!0,!0}catch(i){if(i.code!=="ENOENT")throw i;return this.opened=!1,!1}}refresh(){var e;if(!((e=ae(this,ce))!=null&&e.path))throw new Io;if(!ae(this,Wt))throw new Error("Failed to refresh database: no native binding path set before");return this.open(ae(this,ce).path,ae(this,Wt))}async close(){var e;this.opened=!1,await((e=ae(this,ce))==null?void 0:e.db.destroy()),ki(this,ce,null)}};ce=new WeakMap,Wt=new WeakMap;var ee={main:new hn,bbt:new hn},Ao={},ko={},No={};var TX=async(t,e,r)=>await t.select("itemID","key","libraryID","groupID","itemAnnotations.type","authorName","text","comment","color","pageLabel","sortIndex","position","isExternal").from("itemAnnotations").join("items",i=>i.using("itemID")).join("libraries",i=>i.using("libraryID")).leftJoin("groups",i=>i.using("libraryID")).where("parentItemID",e).whereNotNull("itemID").andWhere("libraryID",r).whereNotIn("itemID",t.select("itemID").from("deletedItems")),_I=TX;var CX=async(t,e,r)=>await t.select("items.itemID","items.key","parentItemID","parentItems.key as parentItem","items.libraryID","groupID","itemAnnotations.type","authorName","text","comment","color","pageLabel","sortIndex","position","isExternal").from("itemAnnotations").join("items",i=>i.using("itemID")).join("items as parentItems",i=>i.on("parentItemID","parentItems.itemID")).join("libraries",i=>i.on("libraries.libraryID","items.libraryID")).leftJoin("groups",i=>i.on("groups.libraryID","items.libraryID")).whereIn("items.key",e).whereNotNull("items.itemID").andWhere("items.libraryID",r).whereNotIn("items.itemID",t.select("itemID").from("deletedItems")),xI=CX;var vI=async(t,e)=>{var s;let r=ee.main.db;if(!r)throw new Error("failed to get annotations: no main database opened");D.debug(`Reading Zotero database for annotations of attachment ${t}`);let n=await _I(r,t,e),{key:i}=(s=await r.first("key").from("items").where("itemID",t))!=null?s:{};if(!i)throw new Error(`failed to get key of attachment ${t}`);return D.debug(`Finished reading Zotero database for annotations of attachment ${t}, count: ${n.length}`),n.map(l=>{var h=l,{sortIndex:o,position:a}=h,u=Er(h,["sortIndex","position"]);return $(me($({},u),{itemType:"annotation",parentItemID:t,parentItem:i}),EI(a,o))})},EI=(t,e)=>{var r;return{sortIndex:(r=e==null?void 0:e.split("|").map(n=>parseInt(n,10)))!=null?r:[],position:JSON.parse(t)}},qI=async(t,e)=>{let r=ee.main.db;if(!r)throw new Error("failed to get annotations from keys: no main database opened");return D.debug(`Reading Zotero database for annotations from keys ${t}`),(await xI(r,t,e)).reduce((i,u)=>{var l=u,{sortIndex:s,position:o}=l,a=Er(l,["sortIndex","position"]);return i[a.key]=$(me($({},a),{itemType:"annotation"}),EI(o,s)),i},{})};var OX=async(t,e,r)=>await t.select("itemAttachments.itemID","path","key").count({count:"itemAnnotations.itemID"}).from("itemAttachments").join("items",i=>i.using("itemID")).leftJoin("itemAnnotations",i=>i.on("itemAttachments.itemID","itemAnnotations.parentItemID")).where("itemAttachments.parentItemID",e).andWhere("libraryID",r).whereNotNull("itemAttachments.itemID").whereNotIn("itemAttachments.itemID",t.select("itemID").from("deletedItems")).groupBy("itemAttachments.itemID"),SI=OX;var IX=async(t,e)=>{let r=ee.main.db;if(!r)throw new Error("failed to get attachments: no main database opened");D.debug(`Reading Zotero database for attachments of item ${t}`);let n=await SI(r,t,e);return D.debug(`Finished reading Zotero database for attachments of item ${t}, count: ${n.length}`),n},TI=IX;var II=Et(OI());var AX=async(t,e)=>{let r;if(typeof t=="number"){let n=No[e];if(!n)throw new Error("Query before init");r=n[t]}else if(typeof t=="string"){let n=ko[e];if(!n)throw new Error("Query before init");r=n[t]}else(0,II.default)(t);return r!=null?r:null},AI=AX;var kX=t=>t.select("libraryID","type","groupID").from("libraries").leftJoin("groups",e=>e.using("libraryID")).orderBy("libraryID"),kI=kX;var NX=async()=>{let t=ee.main.db;if(!t)throw new Error("failed to get libs: no main database opened");D.debug("Reading Zotero database for libraries");let e=await kI(t);return D.info("Finished reading Zotero database for libraries"),e},NI=NX;var PI=async(t,e,r)=>{D.debug("open database",t,e,r);let n=ee.main.open(e,t),i=null;i=ee.bbt.open(r,t);let[s,o]=await Promise.all([n,i]);return s||D.error(`Failed to open main database, no database found at ${e}`),o||D.info(`Unable to open bbt database, no database found at ${e}`),[s,o]},RI=async()=>{var t;return D.debug("refresh database"),await Promise.all([ee.main.refresh(),(t=ee.bbt.refresh())!=null?t:!1])};var Fo=Et(Sr());function xt(t){return Array.isArray?Array.isArray(t):WI(t)==="[object Array]"}var PX=1/0;function RX(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-PX?"-0":e}function jX(t){return t==null?"":RX(t)}function at(t){return typeof t=="string"}function DI(t){return typeof t=="number"}function MX(t){return t===!0||t===!1||LX(t)&&WI(t)=="[object Boolean]"}function BI(t){return typeof t=="object"}function LX(t){return BI(t)&&t!==null}function Ne(t){return t!=null}function Rl(t){return!t.trim().length}function WI(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var $X="Incorrect \'index\' type",FX=t=>`Invalid value for key ${t}`,DX=t=>`Pattern length exceeds max of ${t}.`,BX=t=>`Missing ${t} property in key`,WX=t=>`Property \'weight\' in key \'${t}\' must be a positive integer`,jI=Object.prototype.hasOwnProperty,jl=class{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(n=>{let i=UI(n);r+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,r+=i.weight}),this._keys.forEach(n=>{n.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function UI(t){let e=null,r=null,n=null,i=1,s=null;if(at(t)||xt(t))n=t,e=MI(t),r=Ml(t);else{if(!jI.call(t,"name"))throw new Error(BX("name"));let o=t.name;if(n=o,jI.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(WX(o));e=MI(o),r=Ml(o),s=t.getFn}return{path:e,id:r,weight:i,src:n,getFn:s}}function MI(t){return xt(t)?t:t.split(".")}function Ml(t){return xt(t)?t.join("."):t}function UX(t,e){let r=[],n=!1,i=(s,o,a)=>{if(!!Ne(s))if(!o[a])r.push(s);else{let u=o[a],l=s[u];if(!Ne(l))return;if(a===o.length-1&&(at(l)||DI(l)||MX(l)))r.push(jX(l));else if(xt(l)){n=!0;for(let h=0,f=l.length;h<f;h+=1)i(l[h],o,a+1)}else o.length&&i(l,o,a+1)}};return i(t,at(e)?e.split("."):e,0),n?r:r[0]}var HX={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},QX={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},zX={location:0,threshold:.6,distance:100},GX={useExtendedSearch:!1,getFn:UX,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},P=$($($($({},QX),HX),zX),GX),KX=/[^ ]+/g;function JX(t=1,e=3){let r=new Map,n=Math.pow(10,e);return{get(i){let s=i.match(KX).length;if(r.has(s))return r.get(s);let o=1/Math.pow(s,.5*t),a=parseFloat(Math.round(o*n)/n);return r.set(s,a),a},clear(){r.clear()}}}var Oi=class{constructor({getFn:e=P.getFn,fieldNormWeight:r=P.fieldNormWeight}={}){this.norm=JX(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,n)=>{this._keysMap[r.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,at(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();at(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,n=this.size();r<n;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!Ne(e)||Rl(e))return;let n={v:e,i:r,n:this.norm.get(e)};this.records.push(n)}_addObject(e,r){let n={i:r,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(e):this.getFn(e,i.path);if(!!Ne(o)){if(xt(o)){let a=[],u=[{nestedArrIndex:-1,value:o}];for(;u.length;){let{nestedArrIndex:l,value:h}=u.pop();if(!!Ne(h))if(at(h)&&!Rl(h)){let f={v:h,i:l,n:this.norm.get(h)};a.push(f)}else xt(h)&&h.forEach((f,d)=>{u.push({nestedArrIndex:d,value:f})})}n.$[s]=a}else if(at(o)&&!Rl(o)){let a={v:o,n:this.norm.get(o)};n.$[s]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function HI(t,e,{getFn:r=P.getFn,fieldNormWeight:n=P.fieldNormWeight}={}){let i=new Oi({getFn:r,fieldNormWeight:n});return i.setKeys(t.map(UI)),i.setSources(e),i.create(),i}function VX(t,{getFn:e=P.getFn,fieldNormWeight:r=P.fieldNormWeight}={}){let{keys:n,records:i}=t,s=new Oi({getFn:e,fieldNormWeight:r});return s.setKeys(n),s.setIndexRecords(i),s}function Ro(t,{errors:e=0,currentLocation:r=0,expectedLocation:n=0,distance:i=P.distance,ignoreLocation:s=P.ignoreLocation}={}){let o=e/t.length;if(s)return o;let a=Math.abs(n-r);return i?o+a/i:a?1:o}function YX(t=[],e=P.minMatchCharLength){let r=[],n=-1,i=-1,s=0;for(let o=t.length;s<o;s+=1){let a=t[s];a&&n===-1?n=s:!a&&n!==-1&&(i=s-1,i-n+1>=e&&r.push([n,i]),n=-1)}return t[s-1]&&s-n>=e&&r.push([n,s-1]),r}var vr=32;function XX(t,e,r,{location:n=P.location,distance:i=P.distance,threshold:s=P.threshold,findAllMatches:o=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,includeMatches:u=P.includeMatches,ignoreLocation:l=P.ignoreLocation}={}){if(e.length>vr)throw new Error(DX(vr));let h=e.length,f=t.length,d=Math.max(0,Math.min(n,f)),p=s,m=d,y=a>1||u,_=y?Array(f):[],q;for(;(q=t.indexOf(e,m))>-1;){let ne=Ro(e,{currentLocation:q,expectedLocation:d,distance:i,ignoreLocation:l});if(p=Math.min(ne,p),m=q+h,y){let z=0;for(;z<h;)_[q+z]=1,z+=1}}m=-1;let A=[],j=1,L=h+f,W=1<<h-1;for(let ne=0;ne<h;ne+=1){let z=0,b=L;for(;z<b;)Ro(e,{errors:ne,currentLocation:d+b,expectedLocation:d,distance:i,ignoreLocation:l})<=p?z=b:L=b,b=Math.floor((L-z)/2+z);L=b;let E=Math.max(1,d-b+1),g=o?f:Math.min(d+b,f)+h,x=Array(g+2);x[g+1]=(1<<ne)-1;for(let I=g;I>=E;I-=1){let T=I-1,C=r[t.charAt(T)];if(y&&(_[T]=+!!C),x[I]=(x[I+1]<<1|1)&C,ne&&(x[I]|=(A[I+1]|A[I])<<1|1|A[I+1]),x[I]&W&&(j=Ro(e,{errors:ne,currentLocation:T,expectedLocation:d,distance:i,ignoreLocation:l}),j<=p)){if(p=j,m=T,m<=d)break;E=Math.max(1,2*d-m)}}if(Ro(e,{errors:ne+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:l})>p)break;A=x}let pe={isMatch:m>=0,score:Math.max(.001,j)};if(y){let ne=YX(_,a);ne.length?u&&(pe.indices=ne):pe.isMatch=!1}return pe}function ZX(t){let e={};for(let r=0,n=t.length;r<n;r+=1){let i=t.charAt(r);e[i]=(e[i]||0)|1<<n-r-1}return e}var jo=class{constructor(e,{location:r=P.location,threshold:n=P.threshold,distance:i=P.distance,includeMatches:s=P.includeMatches,findAllMatches:o=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:u=P.isCaseSensitive,ignoreLocation:l=P.ignoreLocation}={}){if(this.options={location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:l},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let h=(d,p)=>{this.chunks.push({pattern:d,alphabet:ZX(d),startIndex:p})},f=this.pattern.length;if(f>vr){let d=0,p=f%vr,m=f-p;for(;d<m;)h(this.pattern.substr(d,vr),d),d+=vr;if(p){let y=f-vr;h(this.pattern.substr(y),y)}}else h(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:n}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return n&&(m.indices=[[0,e.length-1]]),m}let{location:i,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:u,ignoreLocation:l}=this.options,h=[],f=0,d=!1;this.chunks.forEach(({pattern:m,alphabet:y,startIndex:_})=>{let{isMatch:q,score:A,indices:j}=XX(e,m,y,{location:i+_,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:u,includeMatches:n,ignoreLocation:l});q&&(d=!0),f+=A,q&&j&&(h=[...h,...j])});let p={isMatch:d,score:d?f/this.chunks.length:1};return d&&n&&(p.indices=h),p}},ut=class{constructor(e){this.pattern=e}static isMultiMatch(e){return LI(e,this.multiRegex)}static isSingleMatch(e){return LI(e,this.singleRegex)}search(){}};function LI(t,e){let r=t.match(e);return r?r[1]:null}var Ll=class extends ut{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},$l=class extends ut{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}},Fl=class extends ut{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\\^"(.*)"$/}static get singleRegex(){return/^\\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},Dl=class extends ut{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\\^"(.*)"$/}static get singleRegex(){return/^!\\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},Bl=class extends ut{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\\$$/}static get singleRegex(){return/^(.*)\\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},Wl=class extends ut{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\\$$/}static get singleRegex(){return/^!(.*)\\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},Mo=class extends ut{constructor(e,{location:r=P.location,threshold:n=P.threshold,distance:i=P.distance,includeMatches:s=P.includeMatches,findAllMatches:o=P.findAllMatches,minMatchCharLength:a=P.minMatchCharLength,isCaseSensitive:u=P.isCaseSensitive,ignoreLocation:l=P.ignoreLocation}={}){super(e),this._bitapSearch=new jo(e,{location:r,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:u,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},Lo=class extends ut{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^\'"(.*)"$/}static get singleRegex(){return/^\'(.*)$/}search(e){let r=0,n,i=[],s=this.pattern.length;for(;(n=e.indexOf(this.pattern,r))>-1;)r=n+s,i.push([n,r-1]);let o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}},Ul=[Ll,Lo,Fl,Dl,Wl,Bl,$l,Mo],$I=Ul.length,eZ=/ +(?=(?:[^\\"]*\\"[^\\"]*\\")*[^\\"]*$)/,tZ="|";function rZ(t,e={}){return t.split(tZ).map(r=>{let n=r.trim().split(eZ).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=n.length;s<o;s+=1){let a=n[s],u=!1,l=-1;for(;!u&&++l<$I;){let h=Ul[l],f=h.isMultiMatch(a);f&&(i.push(new h(f,e)),u=!0)}if(!u)for(l=-1;++l<$I;){let h=Ul[l],f=h.isSingleMatch(a);if(f){i.push(new h(f,e));break}}}return i})}var nZ=new Set([Mo.type,Lo.type]),Hl=class{constructor(e,{isCaseSensitive:r=P.isCaseSensitive,includeMatches:n=P.includeMatches,minMatchCharLength:i=P.minMatchCharLength,ignoreLocation:s=P.ignoreLocation,findAllMatches:o=P.findAllMatches,location:a=P.location,threshold:u=P.threshold,distance:l=P.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:n,minMatchCharLength:i,findAllMatches:o,ignoreLocation:s,location:a,threshold:u,distance:l},this.pattern=r?e:e.toLowerCase(),this.query=rZ(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let s=0,o=[],a=0;for(let u=0,l=r.length;u<l;u+=1){let h=r[u];o.length=0,s=0;for(let f=0,d=h.length;f<d;f+=1){let p=h[f],{isMatch:m,indices:y,score:_}=p.search(e);if(m){if(s+=1,a+=_,n){let q=p.constructor.type;nZ.has(q)?o=[...o,...y]:o.push(y)}}else{a=0,s=0,o.length=0;break}}if(s){let f={isMatch:!0,score:a/s};return n&&(f.indices=o),f}}return{isMatch:!1,score:1}}},Ql=[];function iZ(...t){Ql.push(...t)}function zl(t,e){for(let r=0,n=Ql.length;r<n;r+=1){let i=Ql[r];if(i.condition(t,e))return new i(t,e)}return new jo(t,e)}var $o={AND:"$and",OR:"$or"},Gl={PATH:"$path",PATTERN:"$val"},Kl=t=>!!(t[$o.AND]||t[$o.OR]),sZ=t=>!!t[Gl.PATH],oZ=t=>!xt(t)&&BI(t)&&!Kl(t),FI=t=>({[$o.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function QI(t,e,{auto:r=!0}={}){let n=i=>{let s=Object.keys(i),o=sZ(i);if(!o&&s.length>1&&!Kl(i))return n(FI(i));if(oZ(i)){let u=o?i[Gl.PATH]:s[0],l=o?i[Gl.PATTERN]:i[u];if(!at(l))throw new Error(FX(u));let h={keyId:Ml(u),pattern:l};return r&&(h.searcher=zl(l,e)),h}let a={children:[],operator:s[0]};return s.forEach(u=>{let l=i[u];xt(l)&&l.forEach(h=>{a.children.push(n(h))})}),a};return Kl(t)||(t=FI(t)),n(t)}function aZ(t,{ignoreFieldNorm:e=P.ignoreFieldNorm}){t.forEach(r=>{let n=1;r.matches.forEach(({key:i,norm:s,score:o})=>{let a=i?i.weight:null;n*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(e?1:s))}),r.score=n})}function uZ(t,e){let r=t.matches;e.matches=[],Ne(r)&&r.forEach(n=>{if(!Ne(n.indices)||!n.indices.length)return;let{indices:i,value:s}=n,o={indices:i,value:s};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),e.matches.push(o)})}function cZ(t,e){e.score=t.score}function lZ(t,e,{includeMatches:r=P.includeMatches,includeScore:n=P.includeScore}={}){let i=[];return r&&i.push(uZ),n&&i.push(cZ),t.map(s=>{let{idx:o}=s,a={item:e[o],refIndex:o};return i.length&&i.forEach(u=>{u(s,a)}),a})}var vt=class{constructor(e,r={},n){this.options=$($({},P),r),this.options.useExtendedSearch,this._keyStore=new jl(this.options.keys),this.setCollection(e,n)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof Oi))throw new Error($X);this._myIndex=r||HI(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!Ne(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let n=0,i=this._docs.length;n<i;n+=1){let s=this._docs[n];e(s,n)&&(this.removeAt(n),n-=1,i-=1,r.push(s))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:n,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options,u=at(e)?at(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return aZ(u,{ignoreFieldNorm:a}),s&&u.sort(o),DI(r)&&r>-1&&(u=u.slice(0,r)),lZ(u,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(e){let r=zl(e,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:o,n:a})=>{if(!Ne(s))return;let{isMatch:u,score:l,indices:h}=r.searchIn(s);u&&i.push({item:s,idx:o,matches:[{score:l,value:s,norm:a,indices:h}]})}),i}_searchLogical(e){let r=QI(e,this.options),n=(a,u,l)=>{if(!a.children){let{keyId:f,searcher:d}=a,p=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(u,f),searcher:d});return p&&p.length?[{idx:l,item:u,matches:p}]:[]}let h=[];for(let f=0,d=a.children.length;f<d;f+=1){let p=a.children[f],m=n(p,u,l);if(m.length)h.push(...m);else if(a.operator===$o.AND)return[]}return h},i=this._myIndex.records,s={},o=[];return i.forEach(({$:a,i:u})=>{if(Ne(a)){let l=n(r,a,u);l.length&&(s[u]||(s[u]={idx:u,item:a,matches:[]},o.push(s[u])),l.forEach(({matches:h})=>{s[u].matches.push(...h)}))}}),o}_searchObjectList(e){let r=zl(e,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:a})=>{if(!Ne(o))return;let u=[];n.forEach((l,h)=>{u.push(...this._findMatches({key:l,value:o[h],searcher:r}))}),u.length&&s.push({idx:a,item:o,matches:u})}),s}_findMatches({key:e,value:r,searcher:n}){if(!Ne(r))return[];let i=[];if(xt(r))r.forEach(({v:s,i:o,n:a})=>{if(!Ne(s))return;let{isMatch:u,score:l,indices:h}=n.searchIn(s);u&&i.push({score:l,key:e,value:s,idx:o,norm:a,indices:h})});else{let{v:s,n:o}=r,{isMatch:a,score:u,indices:l}=n.searchIn(s);a&&i.push({score:u,key:e,value:s,norm:o,indices:l})}return i}};vt.version="6.6.2";vt.createIndex=HI;vt.parseIndex=VX;vt.config=P;vt.parseQuery=QI;iZ(Hl);var hZ=t=>t.select("itemID","citekey").from("citekeys"),zI=hZ;var fZ=async(t,e)=>await t.select("itemID","firstName","lastName","fieldMode","creatorType","orderIndex").from("items").leftJoin("itemCreators",n=>n.using("itemID")).join("creators",n=>n.using("creatorID")).join("creatorTypes",n=>n.using("creatorTypeID")).where("libraryID",e).whereNotNull("itemID").orderBy("itemID","orderIndex"),GI=fZ;var Xl=Et(cA()),lA=async(t,e)=>await t.select("libraryID","groupID","key","itemID","typeName as itemType").from("items").join("itemTypesCombined",n=>n.using("itemTypeID")).leftJoin("groups",n=>n.using("libraryID")).whereNotNull("itemID").where("libraryID",e).whereNotIn("itemType",Xl.nonRegularItemTypes).whereNotIn("itemID",t.select("itemID").from("deletedItems")),hA=async(t,e)=>await t.select("itemID","fieldName","value").from("items").join("itemData",n=>n.using("itemID")).join("itemDataValues",n=>n.using("valueID")).join("fieldsCombined",n=>n.using("fieldID")).join("itemTypesCombined",n=>n.using("itemTypeID")).where("libraryID",e).whereNotNull("itemID").whereNotIn("typeName",Xl.nonRegularItemTypes).whereNotIn("itemID",t.select("itemID").from("deletedItems"));var kZ={keys:["title"],ignoreLocation:!0,ignoreFieldNorm:!0,includeMatches:!0,shouldSort:!0},NZ=async t=>{let{items:e,itemFields:r,creators:n}=await PZ(t),i=await RZ(),s=e.reduce((l,d)=>{var p=d,{itemID:h}=p,f=Er(p,["itemID"]);if(h){let m=me($({},f),{itemID:h,creators:[],citekey:null});l[h]=m}return l},{});for(let{itemID:l,fieldName:h,value:f}of r)!l||!h||(h==="date"&&(f=(0,Fo.multipartToSQL)(f).split("-")[0]),l in s?(s[l][h]=s[l][h]||[]).push(f):console.error(`Field: No item found for itemID ${l}`,h,f));for(let a of n){let u=a,{itemID:l}=u,h=Er(u,["itemID"]);l in s?s[l].creators.push(h):console.error(`Creator: No item found for itemID ${l}`,h)}for(let{itemID:l,citekey:h}of i)l in s?s[l].citekey=h:console.error(`Citekey: No item found for itemID ${l}`,h);D.trace("Start fuse indexing");let o=Object.values(s);Ao[t]=new vt(o,kZ),D.info("Library index initialized"),ko[t]=o.reduce((l,h)=>(l[(0,Fo.getItemKeyGroupID)(h,!0)]=h,l),{}),No[t]=o.reduce((l,h)=>(h.itemID!==null&&(l[h.itemID]=h),l),{})},fA=NZ,PZ=async t=>{D.debug("Reading main Zotero database for index");let e=ee.main.db;if(!e)throw new Error("failed to init index: no main database opened");let r={items:await lA(e,t),itemFields:await hA(e,t),creators:await GI(e,t)};return D.info("Finished reading main Zotero database for index"),r},RZ=async()=>{if(D.debug("Reading Better BibTex database"),!ee.bbt.opened)return D.info("Better BibTex database not enabled, skipping..."),[];let t=ee.bbt.db;if(!t)throw new Error("failed to init index: no Better BibTex database opened");let e=await zI(t);return D.info("Finished reading Better BibTex"),e};var jZ=async(t,e,r)=>{let n=Ao[t];if(!n)throw new Error("Query before init");let i;if(e===null){let s=n==null?void 0:n._docs;s?((r==null?void 0:r.limit)!==void 0&&(s=s.slice(0,r.limit)),i=s.map((o,a)=>({item:o,refIndex:a}))):i=[]}else i=n.search(e,r);return i},dA=jZ;var MZ=(t,e,r)=>t.select("itemID","tagID","type","name").from("itemTags").join("items",n=>n.using("itemID")).join("tags",n=>n.using("tagID")).whereIn("itemID",e).whereNotNull("tagID").andWhere("libraryID",r),pA=MZ;var LZ=async(t,e)=>{let r=ee.main.db;if(!r)throw new Error("failed to get tags: no main database opened");D.debug(`Reading Zotero database for tags of item ${t.join(", ")}`);let n=await pA(r,t,e);return D.debug(`Finished reading Zotero database for tags of item ${t.join(", ")}, count: ${n.length}`),n.reduce((i,s)=>(i[s.itemID].push(s),i),Object.fromEntries(t.map(i=>[i,[]])))},mA=LZ;var $Z={getLibs:NI,initIndex:fA,openDb:PI,query:dA,getTags:mA,getAttachments:TI,getAnnotations:vI,getAnnotFromKey:qI,getItem:AI,refreshDb:RI,isUpToDate:()=>ee.main.isUpToDate(),checkDbStatus:t=>ee[t].opened,raw:async(t,e)=>{let{db:r}=ee.main;if(!r)throw new Error("failed to query raw: no main database opened");return await r.raw(t,...e)},setLoglevel:t=>{D.level=t}};(0,gA.worker)((0,yA.logError)($Z));\n/*! (c) 2020 Andrea Giammarchi */\n/**\n * workerpool.js\n * https://github.com/josdejong/workerpool\n *\n * Offload tasks to a pool of workers on node.js and in the browser.\n *\n * @version 6.2.1-mod.13\n * @date    2022-10-04\n *\n * @license\n * Copyright (C) 2014-2022 Jos de Jong <wjosdejong@gmail.com>\n *\n * Licensed under the Apache License, Version 2.0 (the "License"); you may not\n * use this file except in compliance with the License. You may obtain a copy\n * of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n';function Y4(){return URL.createObjectURL(new Blob([Q4],{type:"text/javascript"}))}var Z4=({groupID:e,key:t},r)=>{let n=[r,"cache"];return e?n.push("groups",e.toString()):n.push("library"),(0,J4.join)(...n,t+".png")},X4=(e,t)=>{for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]-t[r];return 0}});var p_=v((IK,Om)=>{"use strict";function e9(e){var t=void 0;typeof e=="string"?t=[e]:t=e.raw;for(var r="",n=0;n<t.length;n++)r+=t[n].replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`"),n<(arguments.length<=1?0:arguments.length-1)&&(r+=arguments.length<=n+1?void 0:arguments[n+1]);var i=r.split(`
`),o=null;return i.forEach(function(s){var a=s.match(/^(\s+)\S+/);if(a){var u=a[1].length;o?o=Math.min(o,u):o=u}}),o!==null&&(r=i.map(function(s){return s[0]===" "?s.slice(o):s}).join(`
`)),r=r.trim(),r.replace(/\\n/g,`
`)}typeof Om<"u"&&(Om.exports=e9)});var h_=v((FK,d_)=>{d_.exports=e=>e!=null&&typeof e=="object"&&e.constructor!==RegExp});var g_=v((NK,m_)=>{"use strict";function Im(e){if(!(this instanceof Im))return new Im(e);this.err=null,this.value=null;try{this.value=JSON.parse(e)}catch(t){this.err=t}}m_.exports=Im});var Nc=v(wa=>{"use strict";var Fm=wa&&wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wa,"__esModule",{value:!0});var t9=Fm(p_()),r9=Fm(h_()),y_=Fm(g_()),ba="twhZNwxI1aFG3r4";function v_(e,...t){let r="";for(let n=0;n<e.length;n++)if(r+=e[n],n<t.length){let i=t[n],o=!1;if(y_.default(i).value&&(i=y_.default(i).value,o=!0),i&&i[ba]||o){let s=r.split(`
`),a=s[s.length-1].search(/\S/),u=a>0?" ".repeat(a):"";(o?JSON.stringify(i,null,2):i[ba]).split(`
`).forEach((f,p)=>{p>0?r+=`
`+u+f:r+=f})}else if(typeof i=="string"&&i.includes(`
`)){let s=r.match(/(?:^|\n)( *)$/);if(typeof i=="string"){let a=s?s[1]:"";r+=i.split(`
`).map((u,l)=>(u=ba+u,l===0?u:`${a}${u}`)).join(`
`)}else r+=i}else r+=i}return r=t9.default(r),r.split(ba).join("")}v_.pretty=e=>r9.default(e)?{[ba]:JSON.stringify(e,null,2)}:e;wa.default=v_});var H_=v(ae=>{"use strict";var Ao,Da,Zc,eg;typeof performance=="object"&&typeof performance.now=="function"?(B_=performance,ae.unstable_now=function(){return B_.now()}):(Km=Date,$_=Km.now(),ae.unstable_now=function(){return Km.now()-$_});var B_,Km,$_;typeof window>"u"||typeof MessageChannel!="function"?(So=null,Jm=null,Qm=function(){if(So!==null)try{var e=ae.unstable_now();So(!0,e),So=null}catch(t){throw setTimeout(Qm,0),t}},Ao=function(e){So!==null?setTimeout(Ao,0,e):(So=e,setTimeout(Qm,0))},Da=function(e,t){Jm=setTimeout(e,t)},Zc=function(){clearTimeout(Jm)},ae.unstable_shouldYield=function(){return!1},eg=ae.unstable_forceFrameRate=function(){}):(z_=window.setTimeout,W_=window.clearTimeout,typeof console<"u"&&(U_=window.cancelAnimationFrame,typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof U_!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")),Fa=!1,Na=null,Jc=-1,Ym=5,Zm=0,ae.unstable_shouldYield=function(){return ae.unstable_now()>=Zm},eg=function(){},ae.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ym=0<e?Math.floor(1e3/e):5},Xm=new MessageChannel,Qc=Xm.port2,Xm.port1.onmessage=function(){if(Na!==null){var e=ae.unstable_now();Zm=e+Ym;try{Na(!0,e)?Qc.postMessage(null):(Fa=!1,Na=null)}catch(t){throw Qc.postMessage(null),t}}else Fa=!1},Ao=function(e){Na=e,Fa||(Fa=!0,Qc.postMessage(null))},Da=function(e,t){Jc=z_(function(){e(ae.unstable_now())},t)},Zc=function(){W_(Jc),Jc=-1});var So,Jm,Qm,z_,W_,U_,Fa,Na,Jc,Ym,Zm,Xm,Qc;function tg(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(i!==void 0&&0<Yc(i,t))e[n]=t,e[r]=i,r=n;else break e}}function or(e){return e=e[0],e===void 0?null:e}function Xc(e){var t=e[0];if(t!==void 0){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,s=e[o],a=o+1,u=e[a];if(s!==void 0&&0>Yc(s,r))u!==void 0&&0>Yc(u,s)?(e[n]=u,e[a]=r,n=a):(e[n]=s,e[o]=r,n=o);else if(u!==void 0&&0>Yc(u,r))e[n]=u,e[a]=r,n=a;else break e}}return t}return null}function Yc(e,t){var r=e.sortIndex-t.sortIndex;return r!==0?r:e.id-t.id}var kr=[],xn=[],y9=1,Ht=null,Ze=3,ef=!1,wi=!1,Pa=!1;function rg(e){for(var t=or(xn);t!==null;){if(t.callback===null)Xc(xn);else if(t.startTime<=e)Xc(xn),t.sortIndex=t.expirationTime,tg(kr,t);else break;t=or(xn)}}function ng(e){if(Pa=!1,rg(e),!wi)if(or(kr)!==null)wi=!0,Ao(ig);else{var t=or(xn);t!==null&&Da(ng,t.startTime-e)}}function ig(e,t){wi=!1,Pa&&(Pa=!1,Zc()),ef=!0;var r=Ze;try{for(rg(t),Ht=or(kr);Ht!==null&&(!(Ht.expirationTime>t)||e&&!ae.unstable_shouldYield());){var n=Ht.callback;if(typeof n=="function"){Ht.callback=null,Ze=Ht.priorityLevel;var i=n(Ht.expirationTime<=t);t=ae.unstable_now(),typeof i=="function"?Ht.callback=i:Ht===or(kr)&&Xc(kr),rg(t)}else Xc(kr);Ht=or(kr)}if(Ht!==null)var o=!0;else{var s=or(xn);s!==null&&Da(ng,s.startTime-t),o=!1}return o}finally{Ht=null,Ze=r,ef=!1}}var v9=eg;ae.unstable_IdlePriority=5;ae.unstable_ImmediatePriority=1;ae.unstable_LowPriority=4;ae.unstable_NormalPriority=3;ae.unstable_Profiling=null;ae.unstable_UserBlockingPriority=2;ae.unstable_cancelCallback=function(e){e.callback=null};ae.unstable_continueExecution=function(){wi||ef||(wi=!0,Ao(ig))};ae.unstable_getCurrentPriorityLevel=function(){return Ze};ae.unstable_getFirstCallbackNode=function(){return or(kr)};ae.unstable_next=function(e){switch(Ze){case 1:case 2:case 3:var t=3;break;default:t=Ze}var r=Ze;Ze=t;try{return e()}finally{Ze=r}};ae.unstable_pauseExecution=function(){};ae.unstable_requestPaint=v9;ae.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=Ze;Ze=e;try{return t()}finally{Ze=r}};ae.unstable_scheduleCallback=function(e,t,r){var n=ae.unstable_now();switch(typeof r=="object"&&r!==null?(r=r.delay,r=typeof r=="number"&&0<r?n+r:n):r=n,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=r+i,e={id:y9++,callback:t,priorityLevel:e,startTime:r,expirationTime:i,sortIndex:-1},r>n?(e.sortIndex=r,tg(xn,e),or(kr)===null&&e===or(xn)&&(Pa?Zc():Pa=!0,Da(ng,r-n))):(e.sortIndex=i,tg(kr,e),wi||ef||(wi=!0,Ao(ig))),e};ae.unstable_wrapCallback=function(e){var t=Ze;return function(){var r=Ze;Ze=t;try{return e.apply(this,arguments)}finally{Ze=r}}}});var G_=v((sQ,V_)=>{"use strict";V_.exports=H_()});var DC=v(Yt=>{"use strict";var Kf=le(),ye=ac(),Be=G_();function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Kf)throw Error(I(227));var sA=new Set,cu={};function Fi(e,t){Go(e,t),Go(e+"Capture",t)}function Go(e,t){for(cu[e]=t,e=0;e<t.length;e++)sA.add(t[e])}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K_=Object.prototype.hasOwnProperty,J_={},Q_={};function w9(e){return K_.call(Q_,e)?!0:K_.call(J_,e)?!1:b9.test(e)?Q_[e]=!0:(J_[e]=!0,!1)}function x9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function E9(e,t,r,n){if(t===null||typeof t>"u"||x9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var dy=/[\-:]([a-z])/g;function hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dy,hy);He[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dy,hy);He[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dy,hy);He[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function my(e,t,r,n){var i=He.hasOwnProperty(t)?He[t]:null,o=i!==null?i.type===0:n?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(E9(t,r,i,n)&&(r=null),n||i===null?w9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ni=Kf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ga=60103,Ei=60106,kn=60107,gy=60108,Za=60114,yy=60109,vy=60110,Jf=60112,Xa=60113,Sf=60120,Qf=60115,by=60116,wy=60121,xy=60128,aA=60129,Ey=60130,Cg=60131;typeof Symbol=="function"&&Symbol.for&&(Pe=Symbol.for,Ga=Pe("react.element"),Ei=Pe("react.portal"),kn=Pe("react.fragment"),gy=Pe("react.strict_mode"),Za=Pe("react.profiler"),yy=Pe("react.provider"),vy=Pe("react.context"),Jf=Pe("react.forward_ref"),Xa=Pe("react.suspense"),Sf=Pe("react.suspense_list"),Qf=Pe("react.memo"),by=Pe("react.lazy"),wy=Pe("react.block"),Pe("react.scope"),xy=Pe("react.opaque.id"),aA=Pe("react.debug_trace_mode"),Ey=Pe("react.offscreen"),Cg=Pe("react.legacy_hidden"));var Pe,Y_=typeof Symbol=="function"&&Symbol.iterator;function Ma(e){return e===null||typeof e!="object"?null:(e=Y_&&e[Y_]||e["@@iterator"],typeof e=="function"?e:null)}var og;function Ka(e){if(og===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);og=t&&t[1]||""}return`
`+og+e}var sg=!1;function tf(e,t){if(!e||sg)return"";sg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=a);break}}}finally{sg=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ka(e):""}function k9(e){switch(e.tag){case 5:return Ka(e.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 2:case 15:return e=tf(e.type,!1),e;case 11:return e=tf(e.type.render,!1),e;case 22:return e=tf(e.type._render,!1),e;case 1:return e=tf(e.type,!0),e;default:return""}}function Lo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case Ei:return"Portal";case Za:return"Profiler";case gy:return"StrictMode";case Xa:return"Suspense";case Sf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vy:return(e.displayName||"Context")+".Consumer";case yy:return(e._context.displayName||"Context")+".Provider";case Jf:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Qf:return Lo(e.type);case wy:return Lo(e._render);case by:t=e._payload,e=e._init;try{return Lo(e(t))}catch{}}return null}function Mn(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function uA(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _9(e){var t=uA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rf(e){e._valueTracker||(e._valueTracker=_9(e))}function lA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=uA(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Af(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tg(e,t){var r=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Z_(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cA(e,t){t=t.checked,t!=null&&my(e,"checked",t,!1)}function Og(e,t){cA(e,t);var r=Mn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ig(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ig(e,t.type,Mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function X_(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ig(e,t,r){(t!=="number"||Af(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function S9(e){var t="";return Kf.Children.forEach(e,function(r){r!=null&&(t+=r)}),t}function Fg(e,t){return e=ye({children:void 0},t),(t=S9(t.children))&&(e.children=t),e}function Ro(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ng(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mn(r)}}function fA(e,t){var r=Mn(t.value),n=Mn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function tS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}var Dg={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function pA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pA(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var nf,dA=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!==Dg.svg||"innerHTML"in e)e.innerHTML=t;else{for(nf=nf||document.createElement("div"),nf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=nf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function fu(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var eu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A9=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(e){A9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eu[t]=eu[e]})});function hA(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||eu.hasOwnProperty(e)&&eu[e]?(""+t).trim():t+"px"}function mA(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=hA(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var C9=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mg(e,t){if(t){if(C9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function jg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ky(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lg=null,qo=null,Bo=null;function rS(e){if(e=Su(e)){if(typeof Lg!="function")throw Error(I(280));var t=e.stateNode;t&&(t=rp(t),Lg(e.stateNode,e.type,t))}}function gA(e){qo?Bo?Bo.push(e):Bo=[e]:qo=e}function yA(){if(qo){var e=qo,t=Bo;if(Bo=qo=null,rS(e),t)for(e=0;e<t.length;e++)rS(t[e])}}function _y(e,t){return e(t)}function vA(e,t,r,n,i){return e(t,r,n,i)}function Sy(){}var bA=_y,ki=!1,ag=!1;function Ay(){(qo!==null||Bo!==null)&&(Sy(),yA())}function T9(e,t,r){if(ag)return e(t,r);ag=!0;try{return bA(e,t,r)}finally{ag=!1,Ay()}}function pu(e,t){var r=e.stateNode;if(r===null)return null;var n=rp(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Rg=!1;if(Gr)try{Co={},Object.defineProperty(Co,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",Co,Co),window.removeEventListener("test",Co,Co)}catch{Rg=!1}var Co;function O9(e,t,r,n,i,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(c){this.onError(c)}}var tu=!1,Cf=null,Tf=!1,qg=null,I9={onError:function(e){tu=!0,Cf=e}};function F9(e,t,r,n,i,o,s,a,u){tu=!1,Cf=null,O9.apply(I9,arguments)}function N9(e,t,r,n,i,o,s,a,u){if(F9.apply(this,arguments),tu){if(tu){var l=Cf;tu=!1,Cf=null}else throw Error(I(198));Tf||(Tf=!0,qg=l)}}function Di(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&1026)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wA(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nS(e){if(Di(e)!==e)throw Error(I(188))}function D9(e){var t=e.alternate;if(!t){if(t=Di(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return nS(i),e;if(o===n)return nS(i),t;o=o.sibling}throw Error(I(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function xA(e){if(e=D9(e),!e)return null;for(var t=e;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function iS(e,t){for(var r=e.alternate;t!==null;){if(t===e||t===r)return!0;t=t.return}return!1}var EA,Cy,kA,_A,Bg=!1,_r=[],Cn=null,Tn=null,On=null,du=new Map,hu=new Map,ja=[],oS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $g(e,t,r,n,i){return{blockedOn:e,domEventName:t,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function sS(e,t){switch(e){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":du.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hu.delete(t.pointerId)}}function La(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e=$g(t,r,n,i,o),t!==null&&(t=Su(t),t!==null&&Cy(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function P9(e,t,r,n,i){switch(t){case"focusin":return Cn=La(Cn,e,t,r,n,i),!0;case"dragenter":return Tn=La(Tn,e,t,r,n,i),!0;case"mouseover":return On=La(On,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return du.set(o,La(du.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,hu.set(o,La(hu.get(o)||null,e,t,r,n,i)),!0}return!1}function M9(e){var t=_i(e.target);if(t!==null){var r=Di(t);if(r!==null){if(t=r.tag,t===13){if(t=wA(r),t!==null){e.blockedOn=t,_A(e.lanePriority,function(){Be.unstable_runWithPriority(e.priority,function(){kA(r)})});return}}else if(t===3&&r.stateNode.hydrate){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function mf(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Fy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null)return t=Su(r),t!==null&&Cy(t),e.blockedOn=r,!1;t.shift()}return!0}function aS(e,t,r){mf(e)&&r.delete(t)}function j9(){for(Bg=!1;0<_r.length;){var e=_r[0];if(e.blockedOn!==null){e=Su(e.blockedOn),e!==null&&EA(e);break}for(var t=e.targetContainers;0<t.length;){var r=Fy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r!==null){e.blockedOn=r;break}t.shift()}e.blockedOn===null&&_r.shift()}Cn!==null&&mf(Cn)&&(Cn=null),Tn!==null&&mf(Tn)&&(Tn=null),On!==null&&mf(On)&&(On=null),du.forEach(aS),hu.forEach(aS)}function Ra(e,t){e.blockedOn===t&&(e.blockedOn=null,Bg||(Bg=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,j9)))}function SA(e){function t(i){return Ra(i,e)}if(0<_r.length){Ra(_r[0],e);for(var r=1;r<_r.length;r++){var n=_r[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cn!==null&&Ra(Cn,e),Tn!==null&&Ra(Tn,e),On!==null&&Ra(On,e),du.forEach(t),hu.forEach(t),r=0;r<ja.length;r++)n=ja[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ja.length&&(r=ja[0],r.blockedOn===null);)M9(r),r.blockedOn===null&&ja.shift()}function of(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fo={animationend:of("Animation","AnimationEnd"),animationiteration:of("Animation","AnimationIteration"),animationstart:of("Animation","AnimationStart"),transitionend:of("Transition","TransitionEnd")},ug={},AA={};Gr&&(AA=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Yf(e){if(ug[e])return ug[e];if(!Fo[e])return e;var t=Fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in AA)return ug[e]=t[r];return e}var CA=Yf("animationend"),TA=Yf("animationiteration"),OA=Yf("animationstart"),IA=Yf("transitionend"),FA=new Map,Ty=new Map,L9=["abort","abort",CA,"animationEnd",TA,"animationIteration",OA,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",IA,"transitionEnd","waiting","waiting"];function Oy(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ty.set(n,t),FA.set(n,i),Fi(i,[n])}}var R9=Be.unstable_now;R9();var fe=8;function Oo(e){if((1&e)!==0)return fe=15,1;if((2&e)!==0)return fe=14,2;if((4&e)!==0)return fe=13,4;var t=24&e;return t!==0?(fe=12,t):(e&32)!==0?(fe=11,32):(t=192&e,t!==0?(fe=10,t):(e&256)!==0?(fe=9,256):(t=3584&e,t!==0?(fe=8,t):(e&4096)!==0?(fe=7,4096):(t=4186112&e,t!==0?(fe=6,t):(t=62914560&e,t!==0?(fe=5,t):e&67108864?(fe=4,67108864):(e&134217728)!==0?(fe=3,134217728):(t=805306368&e,t!==0?(fe=2,t):(1073741824&e)!==0?(fe=1,1073741824):(fe=8,e))))))}function q9(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function B9(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(I(358,e))}}function mu(e,t){var r=e.pendingLanes;if(r===0)return fe=0;var n=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(o!==0)n=o,i=fe=15;else if(o=r&134217727,o!==0){var u=o&~s;u!==0?(n=Oo(u),i=fe):(a&=o,a!==0&&(n=Oo(a),i=fe))}else o=r&~s,o!==0?(n=Oo(o),i=fe):a!==0&&(n=Oo(a),i=fe);if(n===0)return 0;if(n=31-jn(n),n=r&((0>n?0:1<<n)<<1)-1,t!==0&&t!==n&&(t&s)===0){if(Oo(t),i<=fe)return t;fe=i}if(t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-jn(t),i=1<<r,n|=e[r],t&=~i;return n}function NA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Of(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return e=Io(24&~t),e===0?Of(10,t):e;case 10:return e=Io(192&~t),e===0?Of(8,t):e;case 8:return e=Io(3584&~t),e===0&&(e=Io(4186112&~t),e===0&&(e=512)),e;case 2:return t=Io(805306368&~t),t===0&&(t=268435456),t}throw Error(I(358,e))}function Io(e){return e&-e}function lg(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Zf(e,t,r){e.pendingLanes|=t;var n=t-1;e.suspendedLanes&=n,e.pingedLanes&=n,e=e.eventTimes,t=31-jn(t),e[t]=r}var jn=Math.clz32?Math.clz32:W9,$9=Math.log,z9=Math.LN2;function W9(e){return e===0?32:31-($9(e)/z9|0)|0}var U9=Be.unstable_UserBlockingPriority,H9=Be.unstable_runWithPriority,gf=!0;function V9(e,t,r,n){ki||Sy();var i=Iy,o=ki;ki=!0;try{vA(i,e,t,r,n)}finally{(ki=o)||Ay()}}function G9(e,t,r,n){H9(U9,Iy.bind(null,e,t,r,n))}function Iy(e,t,r,n){if(gf){var i;if((i=(t&4)===0)&&0<_r.length&&-1<oS.indexOf(e))e=$g(null,e,t,r,n),_r.push(e);else{var o=Fy(e,t,r,n);if(o===null)i&&sS(e,n);else{if(i){if(-1<oS.indexOf(e)){e=$g(o,e,t,r,n),_r.push(e);return}if(P9(o,e,t,r,n))return;sS(e,n)}HA(e,t,n,null,r)}}}}function Fy(e,t,r,n){var i=ky(n);if(i=_i(i),i!==null){var o=Di(i);if(o===null)i=null;else{var s=o.tag;if(s===13){if(i=wA(o),i!==null)return i;i=null}else if(s===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return HA(e,t,n,i,r),null}var _n=null,Ny=null,yf=null;function DA(){if(yf)return yf;var e,t=Ny,r=t.length,n,i="value"in _n?_n.value:_n.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return yf=i.slice(e,1<n?1-n:void 0)}function vf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function sf(){return!0}function uS(){return!1}function Nt(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?sf:uS,this.isPropagationStopped=uS,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=sf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=sf)},persist:function(){},isPersistent:sf}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dy=Nt(Yo),_u=ye({},Yo,{view:0,detail:0}),K9=Nt(_u),cg,fg,qa,Xf=ye({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Py,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qa&&(qa&&e.type==="mousemove"?(cg=e.screenX-qa.screenX,fg=e.screenY-qa.screenY):fg=cg=0,qa=e),cg)},movementY:function(e){return"movementY"in e?e.movementY:fg}}),lS=Nt(Xf),J9=ye({},Xf,{dataTransfer:0}),Q9=Nt(J9),Y9=ye({},_u,{relatedTarget:0}),pg=Nt(Y9),Z9=ye({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),X9=Nt(Z9),e6=ye({},Yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t6=Nt(e6),r6=ye({},Yo,{data:0}),cS=Nt(r6),n6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=o6[e])?!!t[e]:!1}function Py(){return s6}var a6=ye({},_u,{key:function(e){if(e.key){var t=n6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?i6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Py,charCode:function(e){return e.type==="keypress"?vf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u6=Nt(a6),l6=ye({},Xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fS=Nt(l6),c6=ye({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Py}),f6=Nt(c6),p6=ye({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),d6=Nt(p6),h6=ye({},Xf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m6=Nt(h6),g6=[9,13,27,32],My=Gr&&"CompositionEvent"in window,ru=null;Gr&&"documentMode"in document&&(ru=document.documentMode);var y6=Gr&&"TextEvent"in window&&!ru,PA=Gr&&(!My||ru&&8<ru&&11>=ru),pS=String.fromCharCode(32),dS=!1;function MA(e,t){switch(e){case"keyup":return g6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jA(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var No=!1;function v6(e,t){switch(e){case"compositionend":return jA(t);case"keypress":return t.which!==32?null:(dS=!0,pS);case"textInput":return e=t.data,e===pS&&dS?null:e;default:return null}}function b6(e,t){if(No)return e==="compositionend"||!My&&MA(e,t)?(e=DA(),yf=Ny=_n=null,No=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return PA&&t.locale!=="ko"?null:t.data;default:return null}}var w6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!w6[e.type]:t==="textarea"}function LA(e,t,r,n){gA(n),t=If(t,"onChange"),0<t.length&&(r=new Dy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var nu=null,gu=null;function x6(e){zA(e,0)}function ep(e){var t=Po(e);if(lA(t))return e}function E6(e,t){if(e==="change")return t}var RA=!1;Gr&&(Gr?(uf="oninput"in document,uf||(dg=document.createElement("div"),dg.setAttribute("oninput","return;"),uf=typeof dg.oninput=="function"),af=uf):af=!1,RA=af&&(!document.documentMode||9<document.documentMode));var af,uf,dg;function mS(){nu&&(nu.detachEvent("onpropertychange",qA),gu=nu=null)}function qA(e){if(e.propertyName==="value"&&ep(gu)){var t=[];if(LA(t,gu,e,ky(e)),e=x6,ki)e(t);else{ki=!0;try{_y(e,t)}finally{ki=!1,Ay()}}}}function k6(e,t,r){e==="focusin"?(mS(),nu=t,gu=r,nu.attachEvent("onpropertychange",qA)):e==="focusout"&&mS()}function _6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ep(gu)}function S6(e,t){if(e==="click")return ep(t)}function A6(e,t){if(e==="input"||e==="change")return ep(t)}function C6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:C6,T6=Object.prototype.hasOwnProperty;function yu(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!T6.call(t,r[n])||!Vt(e[r[n]],t[r[n]]))return!1;return!0}function gS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yS(e,t){var r=gS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=gS(r)}}function BA(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BA(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vS(){for(var e=window,t=Af();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Af(e.document)}return t}function zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var O6=Gr&&"documentMode"in document&&11>=document.documentMode,Do=null,Wg=null,iu=null,Ug=!1;function bS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ug||Do==null||Do!==Af(n)||(n=Do,"selectionStart"in n&&zg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),iu&&yu(iu,n)||(iu=n,n=If(Wg,"onSelect"),0<n.length&&(t=new Dy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Do)))}Oy("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Oy("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Oy(L9,2);for(hg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),lf=0;lf<hg.length;lf++)Ty.set(hg[lf],0);var hg,lf;Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$A=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ja));function wS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,N9(n,t,void 0,e),e.currentTarget=null}function zA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;wS(i,a,l),o=u}else for(s=0;s<n.length;s++){if(a=n[s],u=a.instance,l=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;wS(i,a,l),o=u}}}if(Tf)throw e=qg,Tf=!1,qg=null,e}function de(e,t){var r=GA(t),n=e+"__bubble";r.has(n)||(UA(t,e,2,!1),r.add(n))}var xS="_reactListening"+Math.random().toString(36).slice(2);function WA(e){e[xS]||(e[xS]=!0,sA.forEach(function(t){$A.has(t)||ES(t,!1,e,null),ES(t,!0,e,null)}))}function ES(e,t,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=r;if(e==="selectionchange"&&r.nodeType!==9&&(o=r.ownerDocument),n!==null&&!t&&$A.has(e)){if(e!=="scroll")return;i|=2,o=n}var s=GA(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),UA(o,e,i,t),s.add(a))}function UA(e,t,r,n){var i=Ty.get(t);switch(i===void 0?2:i){case 0:i=V9;break;case 1:i=G9;break;default:i=Iy}r=i.bind(null,t,r,e),i=void 0,!Rg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function HA(e,t,r,n,i){var o=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=_i(a),s===null)return;if(u=s.tag,u===5||u===6){n=o=s;continue e}a=a.parentNode}}n=n.return}T9(function(){var l=o,c=ky(r),f=[];e:{var p=FA.get(e);if(p!==void 0){var d=Dy,m=e;switch(e){case"keypress":if(vf(r)===0)break e;case"keydown":case"keyup":d=u6;break;case"focusin":m="focus",d=pg;break;case"focusout":m="blur",d=pg;break;case"beforeblur":case"afterblur":d=pg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=lS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Q9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=f6;break;case CA:case TA:case OA:d=X9;break;case IA:d=d6;break;case"scroll":d=K9;break;case"wheel":d=m6;break;case"copy":case"cut":case"paste":d=t6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=fS}var b=(t&4)!==0,h=!b&&e==="scroll",g=b?p!==null?p+"Capture":null:p;b=[];for(var y=l,x;y!==null;){x=y;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,g!==null&&(k=pu(y,g),k!=null&&b.push(vu(y,k,x)))),h)break;y=y.return}0<b.length&&(p=new d(p,m,null,r,c),f.push({event:p,listeners:b}))}}if((t&7)===0){e:{if(p=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",p&&(t&16)===0&&(m=r.relatedTarget||r.fromElement)&&(_i(m)||m[Zo]))break e;if((d||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,d?(m=r.relatedTarget||r.toElement,d=l,m=m?_i(m):null,m!==null&&(h=Di(m),m!==h||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=l),d!==m)){if(b=lS,k="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(b=fS,k="onPointerLeave",g="onPointerEnter",y="pointer"),h=d==null?p:Po(d),x=m==null?p:Po(m),p=new b(k,y+"leave",d,r,c),p.target=h,p.relatedTarget=x,k=null,_i(c)===l&&(b=new b(g,y+"enter",m,r,c),b.target=x,b.relatedTarget=h,k=b),h=k,d&&m)t:{for(b=d,g=m,y=0,x=b;x;x=To(x))y++;for(x=0,k=g;k;k=To(k))x++;for(;0<y-x;)b=To(b),y--;for(;0<x-y;)g=To(g),x--;for(;y--;){if(b===g||g!==null&&b===g.alternate)break t;b=To(b),g=To(g)}b=null}else b=null;d!==null&&kS(f,p,d,b,!1),m!==null&&h!==null&&kS(f,h,m,b,!0)}}e:{if(p=l?Po(l):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var j=E6;else if(hS(p))if(RA)j=A6;else{j=_6;var F=k6}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=S6);if(j&&(j=j(e,l))){LA(f,j,r,c);break e}F&&F(e,p,l),e==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&Ig(p,"number",p.value)}switch(F=l?Po(l):window,e){case"focusin":(hS(F)||F.contentEditable==="true")&&(Do=F,Wg=l,iu=null);break;case"focusout":iu=Wg=Do=null;break;case"mousedown":Ug=!0;break;case"contextmenu":case"mouseup":case"dragend":Ug=!1,bS(f,r,c);break;case"selectionchange":if(O6)break;case"keydown":case"keyup":bS(f,r,c)}var W;if(My)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else No?MA(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(PA&&r.locale!=="ko"&&(No||q!=="onCompositionStart"?q==="onCompositionEnd"&&No&&(W=DA()):(_n=c,Ny="value"in _n?_n.value:_n.textContent,No=!0)),F=If(l,q),0<F.length&&(q=new cS(q,e,null,r,c),f.push({event:q,listeners:F}),W?q.data=W:(W=jA(r),W!==null&&(q.data=W)))),(W=y6?v6(e,r):b6(e,r))&&(l=If(l,"onBeforeInput"),0<l.length&&(c=new cS("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:l}),c.data=W))}zA(f,t)})}function vu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function If(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=pu(e,r),o!=null&&n.unshift(vu(e,o,i)),o=pu(e,t),o!=null&&n.push(vu(e,o,i))),e=e.return}return n}function To(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kS(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,u=a.alternate,l=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&l!==null&&(a=l,i?(u=pu(r,o),u!=null&&s.unshift(vu(r,u,a))):i||(u=pu(r,o),u!=null&&s.push(vu(r,u,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}function Ff(){}var mg=null,gg=null;function VA(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hg(e,t){return e==="textarea"||e==="option"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _S=typeof setTimeout=="function"?setTimeout:void 0,I6=typeof clearTimeout=="function"?clearTimeout:void 0;function jy(e){e.nodeType===1?e.textContent="":e.nodeType===9&&(e=e.body,e!=null&&(e.textContent=""))}function $o(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break}return e}function SS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yg=0;function F6(e){return{$$typeof:xy,toString:e,valueOf:e}}var tp=Math.random().toString(36).slice(2),Sn="__reactFiber$"+tp,Nf="__reactProps$"+tp,Zo="__reactContainer$"+tp,AS="__reactEvents$"+tp;function _i(e){var t=e[Sn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Zo]||r[Sn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=SS(e);e!==null;){if(r=e[Sn])return r;e=SS(e)}return t}e=r,r=e.parentNode}return null}function Su(e){return e=e[Sn]||e[Zo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Po(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function rp(e){return e[Nf]||null}function GA(e){var t=e[AS];return t===void 0&&(t=e[AS]=new Set),t}var Vg=[],Mo=-1;function Bn(e){return{current:e}}function he(e){0>Mo||(e.current=Vg[Mo],Vg[Mo]=null,Mo--)}function ke(e,t){Mo++,Vg[Mo]=e.current,e.current=t}var Ln={},rt=Bn(Ln),_t=Bn(!1),Ti=Ln;function Ko(e,t){var r=e.type.contextTypes;if(!r)return Ln;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function St(e){return e=e.childContextTypes,e!=null}function Df(){he(_t),he(rt)}function CS(e,t,r){if(rt.current!==Ln)throw Error(I(168));ke(rt,t),ke(_t,r)}function KA(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(I(108,Lo(t)||"Unknown",i));return ye({},r,n)}function bf(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ln,Ti=rt.current,ke(rt,e),ke(_t,_t.current),!0}function TS(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=KA(e,t,Ti),n.__reactInternalMemoizedMergedChildContext=e,he(_t),he(rt),ke(rt,e)):he(_t),ke(_t,r)}var Ly=null,Ci=null,N6=Be.unstable_runWithPriority,Ry=Be.unstable_scheduleCallback,Gg=Be.unstable_cancelCallback,D6=Be.unstable_shouldYield,OS=Be.unstable_requestPaint,Kg=Be.unstable_now,P6=Be.unstable_getCurrentPriorityLevel,np=Be.unstable_ImmediatePriority,JA=Be.unstable_UserBlockingPriority,QA=Be.unstable_NormalPriority,YA=Be.unstable_LowPriority,ZA=Be.unstable_IdlePriority,vg={},M6=OS!==void 0?OS:function(){},zr=null,wf=null,bg=!1,IS=Kg(),et=1e4>IS?Kg:function(){return Kg()-IS};function Jo(){switch(P6()){case np:return 99;case JA:return 98;case QA:return 97;case YA:return 96;case ZA:return 95;default:throw Error(I(332))}}function XA(e){switch(e){case 99:return np;case 98:return JA;case 97:return QA;case 96:return YA;case 95:return ZA;default:throw Error(I(332))}}function Oi(e,t){return e=XA(e),N6(e,t)}function bu(e,t,r){return e=XA(e),Ry(e,t,r)}function Or(){if(wf!==null){var e=wf;wf=null,Gg(e)}eC()}function eC(){if(!bg&&zr!==null){bg=!0;var e=0;try{var t=zr;Oi(99,function(){for(;e<t.length;e++){var r=t[e];do r=r(!0);while(r!==null)}}),zr=null}catch(r){throw zr!==null&&(zr=zr.slice(e+1)),Ry(np,Or),r}finally{bg=!1}}}var j6=Ni.ReactCurrentBatchConfig;function sr(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Pf=Bn(null),Mf=null,jo=null,jf=null;function qy(){jf=jo=Mf=null}function By(e){var t=Pf.current;he(Pf),e.type._context._currentValue=t}function tC(e,t){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t){if(r===null||(r.childLanes&t)===t)break;r.childLanes|=t}else e.childLanes|=t,r!==null&&(r.childLanes|=t);e=e.return}}function zo(e,t){Mf=e,jf=jo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ar=!0),e.firstContext=null)}function Jt(e,t){if(jf!==e&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(jf=e,t=1073741823),t={context:e,observedBits:t,next:null},jo===null){if(Mf===null)throw Error(I(308));jo=t,Mf.dependencies={lanes:0,firstContext:t,responders:null}}else jo=jo.next=t;return e._currentValue}var En=!1;function $y(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function In(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t){if(e=e.updateQueue,e!==null){e=e.shared;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function FS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wu(e,t,r,n){var i=e.updateQueue;En=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,l=u.next;u.next=null,s===null?o=l:s.next=l,s=u;var c=e.alternate;if(c!==null){c=c.updateQueue;var f=c.lastBaseUpdate;f!==s&&(f===null?c.firstBaseUpdate=l:f.next=l,c.lastBaseUpdate=u)}}if(o!==null){f=i.baseState,s=0,c=l=u=null;do{a=o.lane;var p=o.eventTime;if((n&a)===a){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var d=e,m=o;switch(a=t,p=r,m.tag){case 1:if(d=m.payload,typeof d=="function"){f=d.call(p,f,a);break e}f=d;break e;case 3:d.flags=d.flags&-4097|64;case 0:if(d=m.payload,a=typeof d=="function"?d.call(p,f,a):d,a==null)break e;f=ye({},f,a);break e;case 2:En=!0}}o.callback!==null&&(e.flags|=32,a=i.effects,a===null?i.effects=[o]:a.push(o))}else p={eventTime:p,lane:a,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(l=c=p,u=f):c=c.next=p,s|=a;if(o=o.next,o===null){if(a=i.shared.pending,a===null)break;o=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);c===null&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,Cu|=s,e.lanes=s,e.memoizedState=f}}function NS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(I(191,i));i.call(n)}}}var nC=new Kf.Component().refs;function Lf(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ye({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ip={isMounted:function(e){return(e=e._reactInternals)?Di(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),i=Nn(e),o=In(n,i);o.payload=t,r!=null&&(o.callback=r),Fn(e,o),Dn(e,i,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),i=Nn(e),o=In(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),Fn(e,o),Dn(e,i,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=Nn(e),i=In(r,n);i.tag=2,t!=null&&(i.callback=t),Fn(e,i),Dn(e,n,r)}};function DS(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!yu(r,n)||!yu(i,o):!0}function iC(e,t,r){var n=!1,i=Ln,o=t.contextType;return typeof o=="object"&&o!==null?o=Jt(o):(i=St(t)?Ti:rt.current,n=t.contextTypes,o=(n=n!=null)?Ko(e,i):Ln),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ip,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function PS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ip.enqueueReplaceState(t,t.state,null)}function Jg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=nC,$y(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Jt(o):(o=St(t)?Ti:rt.current,i.context=Ko(e,o)),wu(e,r,i,n),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Lf(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ip.enqueueReplaceState(i,i.state,null),wu(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4)}var cf=Array.isArray;function Ba(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=n.refs;s===nC&&(s=n.refs={}),o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function ff(e,t){if(e.type!=="textarea")throw Error(I(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function oC(e){function t(h,g){if(e){var y=h.lastEffect;y!==null?(y.nextEffect=g,h.lastEffect=g):h.firstEffect=h.lastEffect=g,g.nextEffect=null,g.flags=8}}function r(h,g){if(!e)return null;for(;g!==null;)t(h,g),g=g.sibling;return null}function n(h,g){for(h=new Map;g!==null;)g.key!==null?h.set(g.key,g):h.set(g.index,g),g=g.sibling;return h}function i(h,g){return h=qn(h,g),h.index=0,h.sibling=null,h}function o(h,g,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<g?(h.flags=2,g):y):(h.flags=2,g)):g}function s(h){return e&&h.alternate===null&&(h.flags=2),h}function a(h,g,y,x){return g===null||g.tag!==6?(g=_g(y,h.mode,x),g.return=h,g):(g=i(g,y),g.return=h,g)}function u(h,g,y,x){return g!==null&&g.elementType===y.type?(x=i(g,y.props),x.ref=Ba(h,g,y),x.return=h,x):(x=_f(y.type,y.key,y.props,null,h.mode,x),x.ref=Ba(h,g,y),x.return=h,x)}function l(h,g,y,x){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Sg(y,h.mode,x),g.return=h,g):(g=i(g,y.children||[]),g.return=h,g)}function c(h,g,y,x,k){return g===null||g.tag!==7?(g=Vo(y,h.mode,x,k),g.return=h,g):(g=i(g,y),g.return=h,g)}function f(h,g,y){if(typeof g=="string"||typeof g=="number")return g=_g(""+g,h.mode,y),g.return=h,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ga:return y=_f(g.type,g.key,g.props,null,h.mode,y),y.ref=Ba(h,null,g),y.return=h,y;case Ei:return g=Sg(g,h.mode,y),g.return=h,g}if(cf(g)||Ma(g))return g=Vo(g,h.mode,y,null),g.return=h,g;ff(h,g)}return null}function p(h,g,y,x){var k=g!==null?g.key:null;if(typeof y=="string"||typeof y=="number")return k!==null?null:a(h,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ga:return y.key===k?y.type===kn?c(h,g,y.props.children,x,k):u(h,g,y,x):null;case Ei:return y.key===k?l(h,g,y,x):null}if(cf(y)||Ma(y))return k!==null?null:c(h,g,y,x,null);ff(h,y)}return null}function d(h,g,y,x,k){if(typeof x=="string"||typeof x=="number")return h=h.get(y)||null,a(g,h,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ga:return h=h.get(x.key===null?y:x.key)||null,x.type===kn?c(g,h,x.props.children,k,x.key):u(g,h,x,k);case Ei:return h=h.get(x.key===null?y:x.key)||null,l(g,h,x,k)}if(cf(x)||Ma(x))return h=h.get(y)||null,c(g,h,x,k,null);ff(g,x)}return null}function m(h,g,y,x){for(var k=null,j=null,F=g,W=g=0,q=null;F!==null&&W<y.length;W++){F.index>W?(q=F,F=null):q=F.sibling;var w=p(h,F,y[W],x);if(w===null){F===null&&(F=q);break}e&&F&&w.alternate===null&&t(h,F),g=o(w,g,W),j===null?k=w:j.sibling=w,j=w,F=q}if(W===y.length)return r(h,F),k;if(F===null){for(;W<y.length;W++)F=f(h,y[W],x),F!==null&&(g=o(F,g,W),j===null?k=F:j.sibling=F,j=F);return k}for(F=n(h,F);W<y.length;W++)q=d(F,h,W,y[W],x),q!==null&&(e&&q.alternate!==null&&F.delete(q.key===null?W:q.key),g=o(q,g,W),j===null?k=q:j.sibling=q,j=q);return e&&F.forEach(function(C){return t(h,C)}),k}function b(h,g,y,x){var k=Ma(y);if(typeof k!="function")throw Error(I(150));if(y=k.call(y),y==null)throw Error(I(151));for(var j=k=null,F=g,W=g=0,q=null,w=y.next();F!==null&&!w.done;W++,w=y.next()){F.index>W?(q=F,F=null):q=F.sibling;var C=p(h,F,w.value,x);if(C===null){F===null&&(F=q);break}e&&F&&C.alternate===null&&t(h,F),g=o(C,g,W),j===null?k=C:j.sibling=C,j=C,F=q}if(w.done)return r(h,F),k;if(F===null){for(;!w.done;W++,w=y.next())w=f(h,w.value,x),w!==null&&(g=o(w,g,W),j===null?k=w:j.sibling=w,j=w);return k}for(F=n(h,F);!w.done;W++,w=y.next())w=d(F,h,W,w.value,x),w!==null&&(e&&w.alternate!==null&&F.delete(w.key===null?W:w.key),g=o(w,g,W),j===null?k=w:j.sibling=w,j=w);return e&&F.forEach(function(E){return t(h,E)}),k}return function(h,g,y,x){var k=typeof y=="object"&&y!==null&&y.type===kn&&y.key===null;k&&(y=y.props.children);var j=typeof y=="object"&&y!==null;if(j)switch(y.$$typeof){case Ga:e:{for(j=y.key,k=g;k!==null;){if(k.key===j){switch(k.tag){case 7:if(y.type===kn){r(h,k.sibling),g=i(k,y.props.children),g.return=h,h=g;break e}break;default:if(k.elementType===y.type){r(h,k.sibling),g=i(k,y.props),g.ref=Ba(h,k,y),g.return=h,h=g;break e}}r(h,k);break}else t(h,k);k=k.sibling}y.type===kn?(g=Vo(y.props.children,h.mode,x,y.key),g.return=h,h=g):(x=_f(y.type,y.key,y.props,null,h.mode,x),x.ref=Ba(h,g,y),x.return=h,h=x)}return s(h);case Ei:e:{for(k=y.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(h,g.sibling),g=i(g,y.children||[]),g.return=h,h=g;break e}else{r(h,g);break}else t(h,g);g=g.sibling}g=Sg(y,h.mode,x),g.return=h,h=g}return s(h)}if(typeof y=="string"||typeof y=="number")return y=""+y,g!==null&&g.tag===6?(r(h,g.sibling),g=i(g,y),g.return=h,h=g):(r(h,g),g=_g(y,h.mode,x),g.return=h,h=g),s(h);if(cf(y))return m(h,g,y,x);if(Ma(y))return b(h,g,y,x);if(j&&ff(h,y),typeof y>"u"&&!k)switch(h.tag){case 1:case 22:case 0:case 11:case 15:throw Error(I(152,Lo(h.type)||"Component"))}return r(h,g)}}var Rf=oC(!0),sC=oC(!1),Au={},Cr=Bn(Au),xu=Bn(Au),Eu=Bn(Au);function Si(e){if(e===Au)throw Error(I(174));return e}function Qg(e,t){switch(ke(Eu,t),ke(xu,e),ke(Cr,Au),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pg(t,e)}he(Cr),ke(Cr,t)}function Qo(){he(Cr),he(xu),he(Eu)}function MS(e){Si(Eu.current);var t=Si(Cr.current),r=Pg(t,e.type);t!==r&&(ke(xu,e),ke(Cr,r))}function zy(e){xu.current===e&&(he(Cr),he(xu))}var Ee=Bn(0);function qf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ur=null,An=null,Tr=!1;function aC(e,t){var r=Gt(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.flags=8,e.lastEffect!==null?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function jS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Yg(e){if(Tr){var t=An;if(t){var r=t;if(!jS(e,t)){if(t=$o(r.nextSibling),!t||!jS(e,t)){e.flags=e.flags&-1025|2,Tr=!1,Ur=e;return}aC(Ur,r)}Ur=e,An=$o(t.firstChild)}else e.flags=e.flags&-1025|2,Tr=!1,Ur=e}}function LS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ur=e}function pf(e){if(e!==Ur)return!1;if(!Tr)return LS(e),Tr=!0,!1;var t=e.type;if(e.tag!==5||t!=="head"&&t!=="body"&&!Hg(t,e.memoizedProps))for(t=An;t;)aC(e,t),t=$o(t.nextSibling);if(LS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){An=$o(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}An=null}}else An=Ur?$o(e.stateNode.nextSibling):null;return!0}function wg(){An=Ur=null,Tr=!1}var Wo=[];function Wy(){for(var e=0;e<Wo.length;e++)Wo[e]._workInProgressVersionPrimary=null;Wo.length=0}var ou=Ni.ReactCurrentDispatcher,Kt=Ni.ReactCurrentBatchConfig,ku=0,Ae=null,Xe=null,We=null,Bf=!1,su=!1;function Et(){throw Error(I(321))}function Uy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vt(e[r],t[r]))return!1;return!0}function Hy(e,t,r,n,i,o){if(ku=o,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ou.current=e===null||e.memoizedState===null?R6:q6,e=r(n,i),su){o=0;do{if(su=!1,!(25>o))throw Error(I(301));o+=1,We=Xe=null,t.updateQueue=null,ou.current=B6,e=r(n,i)}while(su)}if(ou.current=Uf,t=Xe!==null&&Xe.next!==null,ku=0,We=Xe=Ae=null,Bf=!1,t)throw Error(I(300));return e}function Ai(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ae.memoizedState=We=e:We=We.next=e,We}function Pi(){if(Xe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=Xe.next;var t=We===null?Ae.memoizedState:We.next;if(t!==null)We=t,Xe=e;else{if(e===null)throw Error(I(310));Xe=e,e={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},We===null?Ae.memoizedState=We=e:We=We.next=e}return We}function Sr(e,t){return typeof t=="function"?t(e):t}function $a(e){var t=Pi(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Xe,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=s=o=null,u=i;do{var l=u.lane;if((ku&l)===l)a!==null&&(a=a.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===e?u.eagerState:e(n,u.action);else{var c={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};a===null?(s=a=c,o=n):a=a.next=c,Ae.lanes|=l,Cu|=l}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=s,Vt(n,t.memoizedState)||(ar=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function za(e){var t=Pi(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Vt(o,t.memoizedState)||(ar=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function RS(e,t,r){var n=t._getVersion;n=n(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?e=i===n:(e=e.mutableReadLanes,(e=(ku&e)===e)&&(t._workInProgressVersionPrimary=n,Wo.push(t))),e)return r(t._source);throw Wo.push(t),Error(I(350))}function uC(e,t,r,n){var i=ft;if(i===null)throw Error(I(349));var o=t._getVersion,s=o(t._source),a=ou.current,u=a.useState(function(){return RS(i,t,r)}),l=u[1],c=u[0];u=We;var f=e.memoizedState,p=f.refs,d=p.getSnapshot,m=f.source;f=f.subscribe;var b=Ae;return e.memoizedState={refs:p,source:t,subscribe:n},a.useEffect(function(){p.getSnapshot=r,p.setSnapshot=l;var h=o(t._source);if(!Vt(s,h)){h=r(t._source),Vt(c,h)||(l(h),h=Nn(b),i.mutableReadLanes|=h&i.pendingLanes),h=i.mutableReadLanes,i.entangledLanes|=h;for(var g=i.entanglements,y=h;0<y;){var x=31-jn(y),k=1<<x;g[x]|=h,y&=~k}}},[r,t,n]),a.useEffect(function(){return n(t._source,function(){var h=p.getSnapshot,g=p.setSnapshot;try{g(h(t._source));var y=Nn(b);i.mutableReadLanes|=y&i.pendingLanes}catch(x){g(function(){throw x})}})},[t,n]),Vt(d,r)&&Vt(m,t)&&Vt(f,n)||(e={pending:null,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:c},e.dispatch=l=Ky.bind(null,Ae,e),u.queue=e,u.baseQueue=null,c=RS(i,t,r),u.memoizedState=u.baseState=c),c}function lC(e,t,r){var n=Pi();return uC(n,e,t,r)}function Wa(e){var t=Ai();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:e},e=e.dispatch=Ky.bind(null,Ae,e),[t.memoizedState,e]}function $f(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ae.updateQueue,t===null?(t={lastEffect:null},Ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qS(e){var t=Ai();return e={current:e},t.memoizedState=e}function zf(){return Pi().memoizedState}function Zg(e,t,r,n){var i=Ai();Ae.flags|=e,i.memoizedState=$f(1|t,r,void 0,n===void 0?null:n)}function Vy(e,t,r,n){var i=Pi();n=n===void 0?null:n;var o=void 0;if(Xe!==null){var s=Xe.memoizedState;if(o=s.destroy,n!==null&&Uy(n,s.deps)){$f(t,r,o,n);return}}Ae.flags|=e,i.memoizedState=$f(1|t,r,o,n)}function BS(e,t){return Zg(516,4,e,t)}function Wf(e,t){return Vy(516,4,e,t)}function cC(e,t){return Vy(4,2,e,t)}function fC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pC(e,t,r){return r=r!=null?r.concat([e]):null,Vy(4,2,fC.bind(null,t,e),r)}function Gy(){}function dC(e,t){var r=Pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Uy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function hC(e,t){var r=Pi();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Uy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function L6(e,t){var r=Jo();Oi(98>r?98:r,function(){e(!0)}),Oi(97<r?97:r,function(){var n=Kt.transition;Kt.transition=1;try{e(!1),t()}finally{Kt.transition=n}})}function Ky(e,t,r){var n=Ft(),i=Nn(e),o={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(s===null?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===Ae||s!==null&&s===Ae)su=Bf=!0;else{if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,u=s(a,r);if(o.eagerReducer=s,o.eagerState=u,Vt(u,a))return}catch{}finally{}Dn(e,i,n)}}var Uf={readContext:Jt,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useOpaqueIdentifier:Et,unstable_isNewReconciler:!1},R6={readContext:Jt,useCallback:function(e,t){return Ai().memoizedState=[e,t===void 0?null:t],e},useContext:Jt,useEffect:BS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zg(4,2,fC.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zg(4,2,e,t)},useMemo:function(e,t){var r=Ai();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ai();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},e=e.dispatch=Ky.bind(null,Ae,e),[n.memoizedState,e]},useRef:qS,useState:Wa,useDebugValue:Gy,useDeferredValue:function(e){var t=Wa(e),r=t[0],n=t[1];return BS(function(){var i=Kt.transition;Kt.transition=1;try{n(e)}finally{Kt.transition=i}},[e]),r},useTransition:function(){var e=Wa(!1),t=e[0];return e=L6.bind(null,e[1]),qS(e),[e,t]},useMutableSource:function(e,t,r){var n=Ai();return n.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:r},uC(n,e,t,r)},useOpaqueIdentifier:function(){if(Tr){var e=!1,t=F6(function(){throw e||(e=!0,r("r:"+(yg++).toString(36))),Error(I(355))}),r=Wa(t)[1];return(Ae.mode&2)===0&&(Ae.flags|=516,$f(5,function(){r("r:"+(yg++).toString(36))},void 0,null)),t}return t="r:"+(yg++).toString(36),Wa(t),t},unstable_isNewReconciler:!1},q6={readContext:Jt,useCallback:dC,useContext:Jt,useEffect:Wf,useImperativeHandle:pC,useLayoutEffect:cC,useMemo:hC,useReducer:$a,useRef:zf,useState:function(){return $a(Sr)},useDebugValue:Gy,useDeferredValue:function(e){var t=$a(Sr),r=t[0],n=t[1];return Wf(function(){var i=Kt.transition;Kt.transition=1;try{n(e)}finally{Kt.transition=i}},[e]),r},useTransition:function(){var e=$a(Sr)[0];return[zf().current,e]},useMutableSource:lC,useOpaqueIdentifier:function(){return $a(Sr)[0]},unstable_isNewReconciler:!1},B6={readContext:Jt,useCallback:dC,useContext:Jt,useEffect:Wf,useImperativeHandle:pC,useLayoutEffect:cC,useMemo:hC,useReducer:za,useRef:zf,useState:function(){return za(Sr)},useDebugValue:Gy,useDeferredValue:function(e){var t=za(Sr),r=t[0],n=t[1];return Wf(function(){var i=Kt.transition;Kt.transition=1;try{n(e)}finally{Kt.transition=i}},[e]),r},useTransition:function(){var e=za(Sr)[0];return[zf().current,e]},useMutableSource:lC,useOpaqueIdentifier:function(){return za(Sr)[0]},unstable_isNewReconciler:!1},$6=Ni.ReactCurrentOwner,ar=!1;function kt(e,t,r,n){t.child=e===null?sC(t,null,r,n):Rf(t,e.child,r,n)}function $S(e,t,r,n,i){r=r.render;var o=t.ref;return zo(t,i),n=Hy(e,t,r,n,o,i),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Hr(e,t,i)):(t.flags|=1,kt(e,t,n,i),t.child)}function zS(e,t,r,n,i,o){if(e===null){var s=r.type;return typeof s=="function"&&!e0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,mC(e,t,s,n,i,o)):(e=_f(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}return s=e.child,(i&o)===0&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:yu,r(i,n)&&e.ref===t.ref)?Hr(e,t,o):(t.flags|=1,e=qn(s,n),e.ref=t.ref,e.return=t,t.child=e)}function mC(e,t,r,n,i,o){if(e!==null&&yu(e.memoizedProps,n)&&e.ref===t.ref)if(ar=!1,(o&i)!==0)(e.flags&16384)!==0&&(ar=!0);else return t.lanes=e.lanes,Hr(e,t,o);return Xg(e,t,r,n,o)}function xg(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((t.mode&4)===0)t.memoizedState={baseLanes:0},hf(t,r);else if((r&1073741824)!==0)t.memoizedState={baseLanes:0},hf(t,o!==null?o.baseLanes:r);else return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},hf(t,e),null;else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,hf(t,n);return kt(e,t,i,r),t.child}function gC(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=128)}function Xg(e,t,r,n,i){var o=St(r)?Ti:rt.current;return o=Ko(t,o),zo(t,i),r=Hy(e,t,r,n,o,i),e!==null&&!ar?(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Hr(e,t,i)):(t.flags|=1,kt(e,t,r,i),t.child)}function WS(e,t,r,n,i){if(St(r)){var o=!0;bf(t)}else o=!1;if(zo(t,i),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),iC(t,r,n),Jg(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=Jt(l):(l=St(r)?Ti:rt.current,l=Ko(t,l));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||u!==l)&&PS(t,s,n,l),En=!1;var p=t.memoizedState;s.state=p,wu(t,n,s,i),u=t.memoizedState,a!==n||p!==u||_t.current||En?(typeof c=="function"&&(Lf(t,r,c,n),u=t.memoizedState),(a=En||DS(t,r,a,n,p,u,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4)):(typeof s.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=n,t.memoizedState=u),s.props=n,s.state=u,s.context=l,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4),n=!1)}else{s=t.stateNode,rC(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:sr(t.type,a),s.props=l,f=t.pendingProps,p=s.context,u=r.contextType,typeof u=="object"&&u!==null?u=Jt(u):(u=St(r)?Ti:rt.current,u=Ko(t,u));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==u)&&PS(t,s,n,u),En=!1,p=t.memoizedState,s.state=p,wu(t,n,s,i);var m=t.memoizedState;a!==f||p!==m||_t.current||En?(typeof d=="function"&&(Lf(t,r,d,n),m=t.memoizedState),(l=En||DS(t,r,l,n,p,m,u))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=u,n=l):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),n=!1)}return ey(e,t,r,n,o,i)}function ey(e,t,r,n,i,o){gC(e,t);var s=(t.flags&64)!==0;if(!n&&!s)return i&&TS(t,r,!1),Hr(e,t,o);n=t.stateNode,$6.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Rf(t,e.child,null,o),t.child=Rf(t,null,a,o)):kt(e,t,a,o),t.memoizedState=n.state,i&&TS(t,r,!0),t.child}function US(e){var t=e.stateNode;t.pendingContext?CS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&CS(e,t.context,!1),Qg(e,t.containerInfo)}var df={dehydrated:null,retryLane:0};function HS(e,t,r){var n=t.pendingProps,i=Ee.current,o=!1,s;return(s=(t.flags&64)!==0)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-65):e!==null&&e.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),ke(Ee,i&1),e===null?(n.fallback!==void 0&&Yg(t),e=n.children,i=n.fallback,o?(e=VS(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=df,e):typeof n.unstable_expectedLoadTime=="number"?(e=VS(t,e,i,r),t.child.memoizedState={baseLanes:r},t.memoizedState=df,t.lanes=33554432,e):(r=t0({mode:"visible",children:e},t.mode,r,null),r.return=t,t.child=r)):e.memoizedState!==null?o?(n=KS(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=df,n):(r=GS(e,t,n.children,r),t.memoizedState=null,r):o?(n=KS(e,t,n.children,n.fallback,r),o=t.child,i=e.child.memoizedState,o.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},o.childLanes=e.childLanes&~r,t.memoizedState=df,n):(r=GS(e,t,n.children,r),t.memoizedState=null,r)}function VS(e,t,r,n){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},(i&2)===0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=t0(t,i,0,null),r=Vo(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r}function GS(e,t,r,n){var i=e.child;return e=i.sibling,r=qn(i,{mode:"visible",children:r}),(t.mode&2)===0&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=r}function KS(e,t,r,n,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:r};return(o&2)===0&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=a,s=r.lastEffect,s!==null?(t.firstEffect=r.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):r=qn(s,a),e!==null?n=qn(e,n):(n=Vo(n,o,i,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function JS(e,t){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),tC(e.return,t)}function Eg(e,t,r,n,i,o){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=o)}function QS(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(kt(e,t,n.children,r),n=Ee.current,(n&2)!==0)n=n&1|2,t.flags|=64;else{if(e!==null&&(e.flags&64)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&JS(e,r);else if(e.tag===19)JS(e,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(Ee,n),(t.mode&2)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&qf(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Eg(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&qf(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Eg(t,!0,r,null,o,t.lastEffect);break;case"together":Eg(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cu|=t.lanes,(r&t.childLanes)!==0){if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}return null}var yC,ty,vC,bC;yC=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ty=function(){};vC=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Si(Cr.current);var o=null;switch(r){case"input":i=Tg(e,i),n=Tg(e,n),o=[];break;case"option":i=Fg(e,i),n=Fg(e,n),o=[];break;case"select":i=ye({},i,{value:void 0}),n=ye({},n,{value:void 0}),o=[];break;case"textarea":i=Ng(e,i),n=Ng(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ff)}Mg(r,n);var s;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(cu.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in n){var u=n[l];if(a=i?.[l],n.hasOwnProperty(l)&&u!==a&&(u!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(o||(o=[]),o.push(l,r)),r=u;else l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(l,u)):l==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(l,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(cu.hasOwnProperty(l)?(u!=null&&l==="onScroll"&&de("scroll",e),o||a===u||(o=[])):typeof u=="object"&&u!==null&&u.$$typeof===xy?u.toString():(o=o||[]).push(l,u))}r&&(o=o||[]).push("style",r);var l=o;(t.updateQueue=l)&&(t.flags|=4)}};bC=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ua(e,t){if(!Tr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function z6(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return St(t.type)&&Df(),null;case 3:return Qo(),he(_t),he(rt),Wy(),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(pf(t)?t.flags|=4:n.hydrate||(t.flags|=256)),ty(t),null;case 5:zy(t);var i=Si(Eu.current);if(r=t.type,e!==null&&t.stateNode!=null)vC(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!n){if(t.stateNode===null)throw Error(I(166));return null}if(e=Si(Cr.current),pf(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Sn]=t,n[Nf]=o,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(e=0;e<Ja.length;e++)de(Ja[e],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":Z_(n,o),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},de("invalid",n);break;case"textarea":eS(n,o),de("invalid",n)}Mg(r,o),e=null;for(var s in o)o.hasOwnProperty(s)&&(i=o[s],s==="children"?typeof i=="string"?n.textContent!==i&&(e=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(e=["children",""+i]):cu.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&de("scroll",n));switch(r){case"input":rf(n),X_(n,o,!0);break;case"textarea":rf(n),tS(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Ff)}n=e,t.updateQueue=n,n!==null&&(t.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,e===Dg.html&&(e=pA(r)),e===Dg.html?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Sn]=t,e[Nf]=n,yC(e,t,!1,!1),t.stateNode=e,s=jg(r,n),r){case"dialog":de("cancel",e),de("close",e),i=n;break;case"iframe":case"object":case"embed":de("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ja.length;i++)de(Ja[i],e);i=n;break;case"source":de("error",e),i=n;break;case"img":case"image":case"link":de("error",e),de("load",e),i=n;break;case"details":de("toggle",e),i=n;break;case"input":Z_(e,n),i=Tg(e,n),de("invalid",e);break;case"option":i=Fg(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ye({},n,{value:void 0}),de("invalid",e);break;case"textarea":eS(e,n),i=Ng(e,n),de("invalid",e);break;default:i=n}Mg(r,i);var a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?mA(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&dA(e,u)):o==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&fu(e,u):typeof u=="number"&&fu(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(cu.hasOwnProperty(o)?u!=null&&o==="onScroll"&&de("scroll",e):u!=null&&my(e,o,u,s))}switch(r){case"input":rf(e),X_(e,n,!1);break;case"textarea":rf(e),tS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ro(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ro(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ff)}VA(r,n)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(e&&t.stateNode!=null)bC(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));r=Si(Eu.current),Si(Cr.current),pf(t)?(n=t.stateNode,r=t.memoizedProps,n[Sn]=t,n.nodeValue!==r&&(t.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Sn]=t,t.stateNode=n)}return null;case 13:return he(Ee),n=t.memoizedState,(t.flags&64)!==0?(t.lanes=r,t):(n=n!==null,r=!1,e===null?t.memoizedProps.fallback!==void 0&&pf(t):r=e.memoizedState!==null,n&&!r&&(t.mode&2)!==0&&(e===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Ee.current&1)!==0?Ue===0&&(Ue=3):((Ue===0||Ue===3)&&(Ue=4),ft===null||(Cu&134217727)===0&&(es&134217727)===0||Uo(ft,tt))),(n||r)&&(t.flags|=4),null);case 4:return Qo(),ty(t),e===null&&WA(t.stateNode.containerInfo),null;case 10:return By(t),null;case 17:return St(t.type)&&Df(),null;case 19:if(he(Ee),n=t.memoizedState,n===null)return null;if(o=(t.flags&64)!==0,s=n.rendering,s===null)if(o)Ua(n,!1);else{if(Ue!==0||e!==null&&(e.flags&64)!==0)for(e=t.child;e!==null;){if(s=qf(e),s!==null){for(t.flags|=64,Ua(n,!1),o=s.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),n.lastEffect===null&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Ee,Ee.current&1|2),t.child}e=e.sibling}n.tail!==null&&et()>ay&&(t.flags|=64,o=!0,Ua(n,!1),t.lanes=33554432)}else{if(!o)if(e=qf(s),e!==null){if(t.flags|=64,o=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ua(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!Tr)return t=t.lastEffect=n.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*et()-n.renderingStartTime>ay&&r!==1073741824&&(t.flags|=64,o=!0,Ua(n,!1),t.lanes=33554432);n.isBackwards?(s.sibling=t.child,t.child=s):(r=n.last,r!==null?r.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=et(),r.sibling=null,t=Ee.current,ke(Ee,o?t&1|2:t&1),r):null;case 23:case 24:return Xy(),e!==null&&e.memoizedState!==null!=(t.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(I(156,t.tag))}function W6(e){switch(e.tag){case 1:St(e.type)&&Df();var t=e.flags;return t&4096?(e.flags=t&-4097|64,e):null;case 3:if(Qo(),he(_t),he(rt),Wy(),t=e.flags,(t&64)!==0)throw Error(I(285));return e.flags=t&-4097|64,e;case 5:return zy(e),null;case 13:return he(Ee),t=e.flags,t&4096?(e.flags=t&-4097|64,e):null;case 19:return he(Ee),null;case 4:return Qo(),null;case 10:return By(e),null;case 23:case 24:return Xy(),null;default:return null}}function Jy(e,t){try{var r="",n=t;do r+=k9(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i}}function ry(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var U6=typeof WeakMap=="function"?WeakMap:Map;function wC(e,t,r){r=In(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Vf||(Vf=!0,uy=n),ry(e,t)},r}function xC(e,t,r){r=In(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return ry(e,t),n(i)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this),ry(e,t));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}var H6=typeof WeakSet=="function"?WeakSet:Set;function YS(e){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Pn(e,r)}else t.current=null}function V6(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&e!==null){var r=e.memoizedProps,n=e.memoizedState;e=t.stateNode,t=e.getSnapshotBeforeUpdate(t.elementType===t.type?r:sr(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&jy(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(I(163))}function G6(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{if((e.tag&3)===3){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}if(t=r.updateQueue,t=t!==null?t.lastEffect:null,t!==null){e=t=t.next;do{var i=e;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(IC(r,e),t$(r,e)),e=n}while(e!==t)}return;case 1:e=r.stateNode,r.flags&4&&(t===null?e.componentDidMount():(n=r.elementType===r.type?t.memoizedProps:sr(r.type,t.memoizedProps),e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),t=r.updateQueue,t!==null&&NS(r,t,e);return;case 3:if(t=r.updateQueue,t!==null){if(e=null,r.child!==null)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}NS(r,t,e)}return;case 5:e=r.stateNode,t===null&&r.flags&4&&VA(r.type,r.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&SA(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(I(163))}function ZS(e,t){for(var r=e;;){if(r.tag===5){var n=r.stateNode;if(t)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=hA("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=t?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function XS(e,t){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(Ly,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)IC(t,r);else{n=t;try{i()}catch(o){Pn(n,o)}}r=r.next}while(r!==e)}break;case 1:if(YS(t),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Pn(t,o)}break;case 5:YS(t);break;case 4:EC(e,t)}}function eA(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function tA(e){return e.tag===5||e.tag===3||e.tag===4}function rA(e){e:{for(var t=e.return;t!==null;){if(tA(t))break e;t=t.return}throw Error(I(160))}var r=t;switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:t=t.containerInfo,n=!0;break;case 4:t=t.containerInfo,n=!0;break;default:throw Error(I(161))}r.flags&16&&(fu(t,""),r.flags&=-17);e:t:for(r=e;;){for(;r.sibling===null;){if(r.return===null||tA(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?ny(e,r,t):iy(e,r,t)}function ny(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ff));else if(n!==4&&(e=e.child,e!==null))for(ny(e,t,r),e=e.sibling;e!==null;)ny(e,t,r),e=e.sibling}function iy(e,t,r){var n=e.tag,i=n===5||n===6;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(iy(e,t,r),e=e.sibling;e!==null;)iy(e,t,r),e=e.sibling}function EC(e,t){for(var r=t,n=!1,i,o;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(I(160));switch(i=n.stateNode,n.tag){case 5:o=!1;break e;case 3:i=i.containerInfo,o=!0;break e;case 4:i=i.containerInfo,o=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=e,a=r,u=a;;)if(XS(s,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}o?(s=i,a=r.stateNode,s.nodeType===8?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,o=!0,r.child.return=r,r=r.child;continue}}else if(XS(e,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function kg(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(e=n.destroy,n.destroy=void 0,e!==void 0&&e()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=t.stateNode,r!=null){n=t.memoizedProps;var i=e!==null?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(r[Nf]=n,e==="input"&&n.type==="radio"&&n.name!=null&&cA(r,n),jg(e,i),t=jg(e,n),i=0;i<o.length;i+=2){var s=o[i],a=o[i+1];s==="style"?mA(r,a):s==="dangerouslySetInnerHTML"?dA(r,a):s==="children"?fu(r,a):my(r,s,a,t)}switch(e){case"input":Og(r,n);break;case"textarea":fA(r,n);break;case"select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,o=n.value,o!=null?Ro(r,!!n.multiple,o,!1):e!==!!n.multiple&&(n.defaultValue!=null?Ro(r,!!n.multiple,n.defaultValue,!0):Ro(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(I(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:r=t.stateNode,r.hydrate&&(r.hydrate=!1,SA(r.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(Zy=et(),ZS(t.child,!0)),nA(t);return;case 19:nA(t);return;case 17:return;case 23:case 24:ZS(t,t.memoizedState!==null);return}throw Error(I(163))}function nA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new H6),t.forEach(function(n){var i=i$.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function K6(e,t){return e!==null&&(e=e.memoizedState,e===null||e.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var J6=Math.ceil,Hf=Ni.ReactCurrentDispatcher,Qy=Ni.ReactCurrentOwner,Y=0,ft=null,Me=null,tt=0,Ii=0,oy=Bn(0),Ue=0,op=null,Xo=0,Cu=0,es=0,Yy=0,sy=null,Zy=0,ay=1/0;function ts(){ay=et()+500}var R=null,Vf=!1,uy=null,Ar=null,Rn=!1,au=null,Qa=90,ly=[],cy=[],Vr=null,uu=0,fy=null,xf=-1,Wr=0,Ef=0,lu=null,kf=!1;function Ft(){return(Y&48)!==0?et():xf!==-1?xf:xf=et()}function Nn(e){if(e=e.mode,(e&2)===0)return 1;if((e&4)===0)return Jo()===99?1:2;if(Wr===0&&(Wr=Xo),j6.transition!==0){Ef!==0&&(Ef=sy!==null?sy.pendingLanes:0),e=Wr;var t=4186112&~Ef;return t&=-t,t===0&&(e=4186112&~e,t=e&-e,t===0&&(t=8192)),t}return e=Jo(),(Y&4)!==0&&e===98?e=Of(12,Wr):(e=q9(e),e=Of(e,Wr)),e}function Dn(e,t,r){if(50<uu)throw uu=0,fy=null,Error(I(185));if(e=sp(e,t),e===null)return null;Zf(e,t,r),e===ft&&(es|=t,Ue===4&&Uo(e,tt));var n=Jo();t===1?(Y&8)!==0&&(Y&48)===0?py(e):(Qt(e,r),Y===0&&(ts(),Or())):((Y&4)===0||n!==98&&n!==99||(Vr===null?Vr=new Set([e]):Vr.add(e)),Qt(e,r)),sy=e}function sp(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}function Qt(e,t){for(var r=e.callbackNode,n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-jn(s),u=1<<a,l=o[a];if(l===-1){if((u&n)===0||(u&i)!==0){l=t,Oo(u);var c=fe;o[a]=10<=c?l+250:6<=c?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(n=mu(e,e===ft?tt:0),t=fe,n===0)r!==null&&(r!==vg&&Gg(r),e.callbackNode=null,e.callbackPriority=0);else{if(r!==null){if(e.callbackPriority===t)return;r!==vg&&Gg(r)}t===15?(r=py.bind(null,e),zr===null?(zr=[r],wf=Ry(np,eC)):zr.push(r),r=vg):t===14?r=bu(99,py.bind(null,e)):(r=B9(t),r=bu(r,kC.bind(null,e))),e.callbackPriority=t,e.callbackNode=r}}function kC(e){if(xf=-1,Ef=Wr=0,(Y&48)!==0)throw Error(I(327));var t=e.callbackNode;if($n()&&e.callbackNode!==t)return null;var r=mu(e,e===ft?tt:0);if(r===0)return null;var n=r,i=Y;Y|=16;var o=CC();(ft!==e||tt!==n)&&(ts(),Ho(e,n));do try{Z6();break}catch(a){AC(e,a)}while(1);if(qy(),Hf.current=o,Y=i,Me!==null?n=0:(ft=null,tt=0,n=Ue),(Xo&es)!==0)Ho(e,0);else if(n!==0){if(n===2&&(Y|=64,e.hydrate&&(e.hydrate=!1,jy(e.containerInfo)),r=NA(e),r!==0&&(n=Ya(e,r))),n===1)throw t=op,Ho(e,0),Uo(e,r),Qt(e,et()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=r,n){case 0:case 1:throw Error(I(345));case 2:xi(e);break;case 3:if(Uo(e,r),(r&62914560)===r&&(n=Zy+500-et(),10<n)){if(mu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=_S(xi.bind(null,e),n);break}xi(e);break;case 4:if(Uo(e,r),(r&4186112)===r)break;for(n=e.eventTimes,i=-1;0<r;){var s=31-jn(r);o=1<<s,s=n[s],s>i&&(i=s),r&=~o}if(r=i,r=et()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J6(r/1960))-r,10<r){e.timeoutHandle=_S(xi.bind(null,e),r);break}xi(e);break;case 5:xi(e);break;default:throw Error(I(329))}}return Qt(e,et()),e.callbackNode===t?kC.bind(null,e):null}function Uo(e,t){for(t&=~Yy,t&=~es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-jn(t),n=1<<r;e[r]=-1,t&=~n}}function py(e){if((Y&48)!==0)throw Error(I(327));if($n(),e===ft&&(e.expiredLanes&tt)!==0){var t=tt,r=Ya(e,t);(Xo&es)!==0&&(t=mu(e,t),r=Ya(e,t))}else t=mu(e,0),r=Ya(e,t);if(e.tag!==0&&r===2&&(Y|=64,e.hydrate&&(e.hydrate=!1,jy(e.containerInfo)),t=NA(e),t!==0&&(r=Ya(e,t))),r===1)throw r=op,Ho(e,0),Uo(e,t),Qt(e,et()),r;return e.finishedWork=e.current.alternate,e.finishedLanes=t,xi(e),Qt(e,et()),null}function Q6(){if(Vr!==null){var e=Vr;Vr=null,e.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,Qt(t,et())})}Or()}function _C(e,t){var r=Y;Y|=1;try{return e(t)}finally{Y=r,Y===0&&(ts(),Or())}}function SC(e,t){var r=Y;Y&=-2,Y|=8;try{return e(t)}finally{Y=r,Y===0&&(ts(),Or())}}function hf(e,t){ke(oy,Ii),Ii|=t,Xo|=t}function Xy(){Ii=oy.current,he(oy)}function Ho(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,I6(r)),Me!==null)for(r=Me.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Df();break;case 3:Qo(),he(_t),he(rt),Wy();break;case 5:zy(n);break;case 4:Qo();break;case 13:he(Ee);break;case 19:he(Ee);break;case 10:By(n);break;case 23:case 24:Xy()}r=r.return}ft=e,Me=qn(e.current,null),tt=Ii=Xo=t,Ue=0,op=null,Yy=es=Cu=0}function AC(e,t){do{var r=Me;try{if(qy(),ou.current=Uf,Bf){for(var n=Ae.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bf=!1}if(ku=0,We=Xe=Ae=null,su=!1,Qy.current=null,r===null||r.return===null){Ue=1,op=t,Me=null;break}e:{var o=e,s=r.return,a=r,u=t;if(t=tt,a.flags|=2048,a.firstEffect=a.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var l=u;if((a.mode&2)===0){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var f=(Ee.current&1)!==0,p=s;do{var d;if(d=p.tag===13){var m=p.memoizedState;if(m!==null)d=m.dehydrated!==null;else{var b=p.memoizedProps;d=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!f}}if(d){var h=p.updateQueue;if(h===null){var g=new Set;g.add(l),p.updateQueue=g}else h.add(l);if((p.mode&2)===0){if(p.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var y=In(-1,1);y.tag=2,Fn(a,y)}a.lanes|=1;break e}u=void 0,a=t;var x=o.pingCache;if(x===null?(x=o.pingCache=new U6,u=new Set,x.set(l,u)):(u=x.get(l),u===void 0&&(u=new Set,x.set(l,u))),!u.has(a)){u.add(a);var k=n$.bind(null,o,l,a);l.then(k,k)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(p!==null);u=Error((Lo(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ue!==5&&(Ue=2),u=Jy(u,a),p=s;do{switch(p.tag){case 3:o=u,p.flags|=4096,t&=-t,p.lanes|=t;var j=wC(p,o,t);FS(p,j);break e;case 1:o=u;var F=p.type,W=p.stateNode;if((p.flags&64)===0&&(typeof F.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ar===null||!Ar.has(W)))){p.flags|=4096,t&=-t,p.lanes|=t;var q=xC(p,o,t);FS(p,q);break e}}p=p.return}while(p!==null)}OC(r)}catch(w){t=w,Me===r&&r!==null&&(Me=r=r.return);continue}break}while(1)}function CC(){var e=Hf.current;return Hf.current=Uf,e===null?Uf:e}function Ya(e,t){var r=Y;Y|=16;var n=CC();ft===e&&tt===t||Ho(e,t);do try{Y6();break}catch(i){AC(e,i)}while(1);if(qy(),Y=r,Hf.current=n,Me!==null)throw Error(I(261));return ft=null,tt=0,Ue}function Y6(){for(;Me!==null;)TC(Me)}function Z6(){for(;Me!==null&&!D6();)TC(Me)}function TC(e){var t=FC(e.alternate,e,Ii);e.memoizedProps=e.pendingProps,t===null?OC(e):Me=t,Qy.current=null}function OC(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&2048)===0){if(r=z6(r,t,Ii),r!==null){Me=r;return}if(r=t,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Ii&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}e!==null&&(e.flags&2048)===0&&(e.firstEffect===null&&(e.firstEffect=t.firstEffect),t.lastEffect!==null&&(e.lastEffect!==null&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(e.lastEffect!==null?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(r=W6(t),r!==null){r.flags&=2047,Me=r;return}e!==null&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Ue===0&&(Ue=5)}function xi(e){var t=Jo();return Oi(99,X6.bind(null,e,t)),null}function X6(e,t){do $n();while(au!==null);if((Y&48)!==0)throw Error(I(327));var r=e.finishedWork;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null;var n=r.lanes|r.childLanes,i=n,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,a=e.expirationTimes;0<o;){var u=31-jn(o),l=1<<u;i[u]=0,s[u]=-1,a[u]=-1,o&=~l}if(Vr!==null&&(n&24)===0&&Vr.has(e)&&Vr.delete(e),e===ft&&(Me=ft=null,tt=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Y,Y|=32,Qy.current=null,mg=gf,s=vS(),zg(s)){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(l=a.getSelection&&a.getSelection())&&l.rangeCount!==0){a=l.anchorNode,o=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var c=0,f=-1,p=-1,d=0,m=0,b=s,h=null;t:for(;;){for(var g;b!==a||o!==0&&b.nodeType!==3||(f=c+o),b!==u||l!==0&&b.nodeType!==3||(p=c+l),b.nodeType===3&&(c+=b.nodeValue.length),(g=b.firstChild)!==null;)h=b,b=g;for(;;){if(b===s)break t;if(h===a&&++d===o&&(f=c),h===u&&++m===l&&(p=c),(g=b.nextSibling)!==null)break;b=h,h=b.parentNode}b=g}a=f===-1||p===-1?null:{start:f,end:p}}else a=null;a=a||{start:0,end:0}}else a=null;gg={focusedElem:s,selectionRange:a},gf=!1,lu=null,kf=!1,R=n;do try{e$()}catch(w){if(R===null)throw Error(I(330));Pn(R,w),R=R.nextEffect}while(R!==null);lu=null,R=n;do try{for(s=e;R!==null;){var y=R.flags;if(y&16&&fu(R.stateNode,""),y&128){var x=R.alternate;if(x!==null){var k=x.ref;k!==null&&(typeof k=="function"?k(null):k.current=null)}}switch(y&1038){case 2:rA(R),R.flags&=-3;break;case 6:rA(R),R.flags&=-3,kg(R.alternate,R);break;case 1024:R.flags&=-1025;break;case 1028:R.flags&=-1025,kg(R.alternate,R);break;case 4:kg(R.alternate,R);break;case 8:a=R,EC(s,a);var j=a.alternate;eA(a),j!==null&&eA(j)}R=R.nextEffect}}catch(w){if(R===null)throw Error(I(330));Pn(R,w),R=R.nextEffect}while(R!==null);if(k=gg,x=vS(),y=k.focusedElem,s=k.selectionRange,x!==y&&y&&y.ownerDocument&&BA(y.ownerDocument.documentElement,y)){for(s!==null&&zg(y)&&(x=s.start,k=s.end,k===void 0&&(k=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(k,y.value.length)):(k=(x=y.ownerDocument||document)&&x.defaultView||window,k.getSelection&&(k=k.getSelection(),a=y.textContent.length,j=Math.min(s.start,a),s=s.end===void 0?j:Math.min(s.end,a),!k.extend&&j>s&&(a=s,s=j,j=a),a=yS(y,j),o=yS(y,s),a&&o&&(k.rangeCount!==1||k.anchorNode!==a.node||k.anchorOffset!==a.offset||k.focusNode!==o.node||k.focusOffset!==o.offset)&&(x=x.createRange(),x.setStart(a.node,a.offset),k.removeAllRanges(),j>s?(k.addRange(x),k.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),k.addRange(x)))))),x=[],k=y;k=k.parentNode;)k.nodeType===1&&x.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<x.length;y++)k=x[y],k.element.scrollLeft=k.left,k.element.scrollTop=k.top}gf=!!mg,gg=mg=null,e.current=r,R=n;do try{for(y=e;R!==null;){var F=R.flags;if(F&36&&G6(y,R.alternate,R),F&128){x=void 0;var W=R.ref;if(W!==null){var q=R.stateNode;switch(R.tag){case 5:x=q;break;default:x=q}typeof W=="function"?W(x):W.current=x}}R=R.nextEffect}}catch(w){if(R===null)throw Error(I(330));Pn(R,w),R=R.nextEffect}while(R!==null);R=null,M6(),Y=i}else e.current=r;if(Rn)Rn=!1,au=e,Qa=t;else for(R=n;R!==null;)t=R.nextEffect,R.nextEffect=null,R.flags&8&&(F=R,F.sibling=null,F.stateNode=null),R=t;if(n=e.pendingLanes,n===0&&(Ar=null),n===1?e===fy?uu++:(uu=0,fy=e):uu=0,r=r.stateNode,Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(Ly,r,void 0,(r.current.flags&64)===64)}catch{}if(Qt(e,et()),Vf)throw Vf=!1,e=uy,uy=null,e;return(Y&8)!==0||Or(),null}function e$(){for(;R!==null;){var e=R.alternate;kf||lu===null||((R.flags&8)!==0?iS(R,lu)&&(kf=!0):R.tag===13&&K6(e,R)&&iS(R,lu)&&(kf=!0));var t=R.flags;(t&256)!==0&&V6(e,R),(t&512)===0||Rn||(Rn=!0,bu(97,function(){return $n(),null})),R=R.nextEffect}}function $n(){if(Qa!==90){var e=97<Qa?97:Qa;return Qa=90,Oi(e,r$)}return!1}function t$(e,t){ly.push(t,e),Rn||(Rn=!0,bu(97,function(){return $n(),null}))}function IC(e,t){cy.push(t,e),Rn||(Rn=!0,bu(97,function(){return $n(),null}))}function r$(){if(au===null)return!1;var e=au;if(au=null,(Y&48)!==0)throw Error(I(331));var t=Y;Y|=32;var r=cy;cy=[];for(var n=0;n<r.length;n+=2){var i=r[n],o=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(u){if(o===null)throw Error(I(330));Pn(o,u)}}for(r=ly,ly=[],n=0;n<r.length;n+=2){i=r[n],o=r[n+1];try{var a=i.create;i.destroy=a()}catch(u){if(o===null)throw Error(I(330));Pn(o,u)}}for(a=e.current.firstEffect;a!==null;)e=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=e;return Y=t,Or(),!0}function iA(e,t,r){t=Jy(r,t),t=wC(e,t,1),Fn(e,t),t=Ft(),e=sp(e,1),e!==null&&(Zf(e,1,t),Qt(e,t))}function Pn(e,t){if(e.tag===3)iA(e,e,t);else for(var r=e.return;r!==null;){if(r.tag===3){iA(r,e,t);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ar===null||!Ar.has(n))){e=Jy(t,e);var i=xC(r,e,1);if(Fn(r,i),i=Ft(),r=sp(r,1),r!==null)Zf(r,1,i),Qt(r,i);else if(typeof n.componentDidCatch=="function"&&(Ar===null||!Ar.has(n)))try{n.componentDidCatch(t,e)}catch{}break}}r=r.return}}function n$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,ft===e&&(tt&r)===r&&(Ue===4||Ue===3&&(tt&62914560)===tt&&500>et()-Zy?Ho(e,0):Yy|=r),Qt(e,t)}function i$(e,t){var r=e.stateNode;r!==null&&r.delete(t),t=0,t===0&&(t=e.mode,(t&2)===0?t=1:(t&4)===0?t=Jo()===99?1:2:(Wr===0&&(Wr=Xo),t=Io(62914560&~Wr),t===0&&(t=4194304))),r=Ft(),e=sp(e,t),e!==null&&(Zf(e,t,r),Qt(e,r))}var FC;FC=function(e,t,r){var n=t.lanes;if(e!==null)if(e.memoizedProps!==t.pendingProps||_t.current)ar=!0;else if((r&n)!==0)ar=(e.flags&16384)!==0;else{switch(ar=!1,t.tag){case 3:US(t),wg();break;case 5:MS(t);break;case 1:St(t.type)&&bf(t);break;case 4:Qg(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value;var i=t.type._context;ke(Pf,i._currentValue),i._currentValue=n;break;case 13:if(t.memoizedState!==null)return(r&t.child.childLanes)!==0?HS(e,t,r):(ke(Ee,Ee.current&1),t=Hr(e,t,r),t!==null?t.sibling:null);ke(Ee,Ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&64)!==0){if(n)return QS(e,t,r);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Ee,Ee.current),n)break;return null;case 23:case 24:return t.lanes=0,xg(e,t,r)}return Hr(e,t,r)}else ar=!1;switch(t.lanes=0,t.tag){case 2:if(n=t.type,e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=Ko(t,rt.current),zo(t,r),i=Hy(null,t,n,e,i,r),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,St(n)){var o=!0;bf(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$y(t);var s=n.getDerivedStateFromProps;typeof s=="function"&&Lf(t,n,s,e),i.updater=ip,t.stateNode=i,i._reactInternals=t,Jg(t,n,e,r),t=ey(null,t,n,!0,o,r)}else t.tag=0,kt(null,t,i,r),t=t.child;return t;case 16:i=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=s$(i),e=sr(i,e),o){case 0:t=Xg(null,t,i,e,r);break e;case 1:t=WS(null,t,i,e,r);break e;case 11:t=$S(null,t,i,e,r);break e;case 14:t=zS(null,t,i,sr(i.type,e),n,r);break e}throw Error(I(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),Xg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),WS(e,t,n,i,r);case 3:if(US(t),n=t.updateQueue,e===null||n===null)throw Error(I(282));if(n=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,rC(e,t),wu(t,n,null,r),n=t.memoizedState.element,n===i)wg(),t=Hr(e,t,r);else{if(i=t.stateNode,(o=i.hydrate)&&(An=$o(t.stateNode.containerInfo.firstChild),Ur=t,o=Tr=!0),o){if(e=i.mutableSourceEagerHydrationData,e!=null)for(i=0;i<e.length;i+=2)o=e[i],o._workInProgressVersionPrimary=e[i+1],Wo.push(o);for(r=sC(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else kt(e,t,n,r),wg();t=t.child}return t;case 5:return MS(t),e===null&&Yg(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Hg(n,i)?s=null:o!==null&&Hg(n,o)&&(t.flags|=16),gC(e,t),kt(e,t,s,r),t.child;case 6:return e===null&&Yg(t),null;case 13:return HS(e,t,r);case 4:return Qg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rf(t,null,n,r):kt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),$S(e,t,n,i,r);case 7:return kt(e,t,t.pendingProps,r),t.child;case 8:return kt(e,t,t.pendingProps.children,r),t.child;case 12:return kt(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var a=t.type._context;if(ke(Pf,a._currentValue),a._currentValue=o,s!==null)if(a=s.value,o=Vt(a,o)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,o):1073741823)|0,o===0){if(s.children===i.children&&!_t.current){t=Hr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var u=a.dependencies;if(u!==null){s=a.child;for(var l=u.firstContext;l!==null;){if(l.context===n&&(l.observedBits&o)!==0){a.tag===1&&(l=In(-1,r&-r),l.tag=2,Fn(a,l)),a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),tC(a.return,r),u.lanes|=r;break}l=l.next}}else s=a.tag===10&&a.type===t.type?null:a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}kt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,n=o.children,zo(t,r),i=Jt(i,o.unstable_observedBits),n=n(i),t.flags|=1,kt(e,t,n,r),t.child;case 14:return i=t.type,o=sr(i,t.pendingProps),o=sr(i.type,o),zS(e,t,i,o,n,r);case 15:return mC(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:sr(n,i),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,St(n)?(e=!0,bf(t)):e=!1,zo(t,r),iC(t,n,i),Jg(t,n,i,r),ey(null,t,n,!0,e,r);case 19:return QS(e,t,r);case 23:return xg(e,t,r);case 24:return xg(e,t,r)}throw Error(I(156,t.tag))};function o$(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(e,t,r,n){return new o$(e,t,r,n)}function e0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s$(e){if(typeof e=="function")return e0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jf)return 11;if(e===Qf)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=Gt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _f(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")e0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case kn:return Vo(r.children,i,o,t);case aA:s=8,i|=16;break;case gy:s=8,i|=1;break;case Za:return e=Gt(12,r,t,i|8),e.elementType=Za,e.type=Za,e.lanes=o,e;case Xa:return e=Gt(13,r,t,i),e.type=Xa,e.elementType=Xa,e.lanes=o,e;case Sf:return e=Gt(19,r,t,i),e.elementType=Sf,e.lanes=o,e;case Ey:return t0(r,i,o,t);case Cg:return e=Gt(24,r,t,i),e.elementType=Cg,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yy:s=10;break e;case vy:s=9;break e;case Jf:s=11;break e;case Qf:s=14;break e;case by:s=16,n=null;break e;case wy:s=22;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Gt(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Vo(e,t,r,n){return e=Gt(7,e,n,t),e.lanes=r,e}function t0(e,t,r,n){return e=Gt(23,e,n,t),e.elementType=Ey,e.lanes=r,e}function _g(e,t,r){return e=Gt(6,e,null,t),e.lanes=r,e}function Sg(e,t,r){return t=Gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function a$(e,t,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=lg(0),this.expirationTimes=lg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lg(0),this.mutableSourceEagerHydrationData=null}function u$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ei,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Gf(e,t,r,n){var i=t.current,o=Ft(),s=Nn(i);e:if(r){r=r._reactInternals;t:{if(Di(r)!==r||r.tag!==1)throw Error(I(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(St(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(I(171))}if(r.tag===1){var u=r.type;if(St(u)){r=KA(r,u,a);break e}}r=a}else r=Ln;return t.context===null?t.context=r:t.pendingContext=r,t=In(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),Fn(i,t),Dn(i,s,o),s}function Ag(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function r0(e,t){oA(e,t),(e=e.alternate)&&oA(e,t)}function l$(){return null}function n0(e,t,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new a$(e,t,r!=null&&r.hydrate===!0),t=Gt(3,null,null,t===2?7:t===1?3:0),r.current=t,t.stateNode=r,$y(t),e[Zo]=r.current,WA(e.nodeType===8?e.parentNode:e),n)for(e=0;e<n.length;e++){t=n[e];var i=t._getVersion;i=i(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,i]:r.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=r}n0.prototype.render=function(e){Gf(e,this._internalRoot,null,null)};n0.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gf(null,e,null,function(){t[Zo]=null})};function Tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c$(e,t){if(t||(t=e?e.nodeType===9?e.documentElement:e.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new n0(e,0,t?{hydrate:!0}:void 0)}function ap(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o._internalRoot;if(typeof i=="function"){var a=i;i=function(){var l=Ag(s);a.call(l)}}Gf(t,s,e,i)}else{if(o=r._reactRootContainer=c$(r,n),s=o._internalRoot,typeof i=="function"){var u=i;i=function(){var l=Ag(s);u.call(l)}}SC(function(){Gf(t,s,e,i)})}return Ag(s)}EA=function(e){if(e.tag===13){var t=Ft();Dn(e,4,t),r0(e,4)}};Cy=function(e){if(e.tag===13){var t=Ft();Dn(e,67108864,t),r0(e,67108864)}};kA=function(e){if(e.tag===13){var t=Ft(),r=Nn(e);Dn(e,r,t),r0(e,r)}};_A=function(e,t){return t()};Lg=function(e,t,r){switch(t){case"input":if(Og(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=rp(n);if(!i)throw Error(I(90));lA(n),Og(n,i)}}}break;case"textarea":fA(e,r);break;case"select":t=r.value,t!=null&&Ro(e,!!r.multiple,t,!1)}};_y=_C;vA=function(e,t,r,n,i){var o=Y;Y|=4;try{return Oi(98,e.bind(null,t,r,n,i))}finally{Y=o,Y===0&&(ts(),Or())}};Sy=function(){(Y&49)===0&&(Q6(),$n())};bA=function(e,t){var r=Y;Y|=2;try{return e(t)}finally{Y=r,Y===0&&(ts(),Or())}};function NC(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(t))throw Error(I(200));return u$(e,t,null,r)}var f$={Events:[Su,Po,rp,gA,yA,$n,{current:!1}]},Ha={findFiberByHostInstance:_i,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},p$={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xA(e),e===null?null:e.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||l$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(Va=__REACT_DEVTOOLS_GLOBAL_HOOK__,!Va.isDisabled&&Va.supportsFiber))try{Ly=Va.inject(p$),Ci=Va}catch{}var Va;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f$;Yt.createPortal=NC;Yt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):Error(I(268,Object.keys(e)));return e=xA(t),e=e===null?null:e.stateNode,e};Yt.flushSync=function(e,t){var r=Y;if((r&48)!==0)return e(t);Y|=1;try{if(e)return Oi(99,e.bind(null,t))}finally{Y=r,Or()}};Yt.hydrate=function(e,t,r){if(!Tu(t))throw Error(I(200));return ap(null,e,t,!0,r)};Yt.render=function(e,t,r){if(!Tu(t))throw Error(I(200));return ap(null,e,t,!1,r)};Yt.unmountComponentAtNode=function(e){if(!Tu(e))throw Error(I(40));return e._reactRootContainer?(SC(function(){ap(null,null,e,!1,function(){e._reactRootContainer=null,e[Zo]=null})}),!0):!1};Yt.unstable_batchedUpdates=_C;Yt.unstable_createPortal=function(e,t){return NC(e,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Yt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tu(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return ap(e,t,r,!1,n)};Yt.version="17.0.2"});var up=v((uQ,MC)=>{"use strict";function PC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PC)}catch(e){console.error(e)}}PC(),MC.exports=DC()});var ns=v(fp=>{"use strict";Object.defineProperty(fp,"__esModule",{value:!0});function zC(e,t){if(t)return e;throw new Error("Unhandled discriminated union member: "+JSON.stringify(e))}fp.assertNever=zC;fp.default=zC});var JC=v(Fu=>{"use strict";ac();var y$=le(),GC=60103;Fu.Fragment=60107;typeof Symbol=="function"&&Symbol.for&&(u0=Symbol.for,GC=u0("react.element"),Fu.Fragment=u0("react.fragment"));var u0,v$=y$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b$=Object.prototype.hasOwnProperty,w$={key:!0,ref:!0,__self:!0,__source:!0};function KC(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)b$.call(t,n)&&!w$.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:GC,type:e,key:o,ref:s,props:i,_owner:v$.current}}Fu.jsx=KC;Fu.jsxs=KC});var ee=v((IQ,QC)=>{"use strict";QC.exports=JC()});var kT=v((wY,ET)=>{"use strict";ET.exports=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(o=Object.keys(t),n=o.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;i--!==0;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!==t&&r!==r}});var Qr=v((MY,Jr)=>{function y0(){return Jr.exports=y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jr.exports.__esModule=!0,Jr.exports.default=Jr.exports,y0.apply(this,arguments)}Jr.exports=y0,Jr.exports.__esModule=!0,Jr.exports.default=Jr.exports});var DT=v((jY,ju)=>{function z$(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}ju.exports=z$,ju.exports.__esModule=!0,ju.exports.default=ju.exports});var Ru=v((LY,Lu)=>{var W$=DT();function U$(e,t){if(e==null)return{};var r=W$(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}Lu.exports=U$,Lu.exports.__esModule=!0,Lu.exports.default=Lu.exports});var vp=v((RY,qu)=>{function H$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}qu.exports=H$,qu.exports.__esModule=!0,qu.exports.default=qu.exports});var bp=v((qY,Bu)=>{function PT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V$(e,t,r){return t&&PT(e.prototype,t),r&&PT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}Bu.exports=V$,Bu.exports.__esModule=!0,Bu.exports.default=Bu.exports});var MT=v((BY,Yr)=>{function v0(e,t){return Yr.exports=v0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yr.exports.__esModule=!0,Yr.exports.default=Yr.exports,v0(e,t)}Yr.exports=v0,Yr.exports.__esModule=!0,Yr.exports.default=Yr.exports});var wp=v(($Y,$u)=>{var G$=MT();function K$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G$(e,t)}$u.exports=K$,$u.exports.__esModule=!0,$u.exports.default=$u.exports});var w0=v((zY,Zr)=>{function b0(e){return Zr.exports=b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zr.exports.__esModule=!0,Zr.exports.default=Zr.exports,b0(e)}Zr.exports=b0,Zr.exports.__esModule=!0,Zr.exports.default=Zr.exports});var xp=v((WY,zu)=>{function J$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}zu.exports=J$,zu.exports.__esModule=!0,zu.exports.default=zu.exports});var Ep=v((UY,Wu)=>{var Q$=w0().default,Y$=xp();function Z$(e,t){if(t&&(Q$(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y$(e)}Wu.exports=Z$,Wu.exports.__esModule=!0,Wu.exports.default=Wu.exports});var kp=v((HY,Xr)=>{function x0(e){return Xr.exports=x0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xr.exports.__esModule=!0,Xr.exports.default=Xr.exports,x0(e)}Xr.exports=x0,Xr.exports.__esModule=!0,Xr.exports.default=Xr.exports});var Mi=v((VY,Uu)=>{function X$(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Uu.exports=X$,Uu.exports.__esModule=!0,Uu.exports.default=Uu.exports});var jT=v((GY,Hu)=>{function ez(e){if(Array.isArray(e))return e}Hu.exports=ez,Hu.exports.__esModule=!0,Hu.exports.default=Hu.exports});var LT=v((KY,Vu)=>{function tz(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],i=!0,o=!1,s,a;try{for(r=r.call(e);!(i=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));i=!0);}catch(u){o=!0,a=u}finally{try{!i&&r.return!=null&&r.return()}finally{if(o)throw a}}return n}}Vu.exports=tz,Vu.exports.__esModule=!0,Vu.exports.default=Vu.exports});var E0=v((JY,Gu)=>{function rz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Gu.exports=rz,Gu.exports.__esModule=!0,Gu.exports.default=Gu.exports});var k0=v((QY,Ku)=>{var RT=E0();function nz(e,t){if(!!e){if(typeof e=="string")return RT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RT(e,t)}}Ku.exports=nz,Ku.exports.__esModule=!0,Ku.exports.default=Ku.exports});var qT=v((YY,Ju)=>{function iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Ju.exports=iz,Ju.exports.__esModule=!0,Ju.exports.default=Ju.exports});var _0=v((ZY,Qu)=>{var oz=jT(),sz=LT(),az=k0(),uz=qT();function lz(e,t){return oz(e)||sz(e,t)||az(e,t)||uz()}Qu.exports=lz,Qu.exports.__esModule=!0,Qu.exports.default=Qu.exports});var $T=v((XY,BT)=>{"use strict";var cz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";BT.exports=cz});var HT=v((eZ,UT)=>{"use strict";var fz=$T();function zT(){}function WT(){}WT.resetWarningCache=zT;UT.exports=function(){function e(n,i,o,s,a,u){if(u!==fz){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:WT,resetWarningCache:zT};return r.PropTypes=r,r}});var en=v((nZ,VT)=>{VT.exports=HT()();var tZ,rZ});var GT=v((oZ,Yu)=>{var pz=E0();function dz(e){if(Array.isArray(e))return pz(e)}Yu.exports=dz,Yu.exports.__esModule=!0,Yu.exports.default=Yu.exports});var KT=v((sZ,Zu)=>{function hz(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}Zu.exports=hz,Zu.exports.__esModule=!0,Zu.exports.default=Zu.exports});var JT=v((aZ,Xu)=>{function mz(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}Xu.exports=mz,Xu.exports.__esModule=!0,Xu.exports.default=Xu.exports});var _p=v((uZ,el)=>{var gz=GT(),yz=KT(),vz=k0(),bz=JT();function wz(e){return gz(e)||yz(e)||vz(e)||bz()}el.exports=wz,el.exports.__esModule=!0,el.exports.default=el.exports});var DO=v((Op,NO)=>{"use strict";Op.__esModule=!0;Op.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"};NO.exports=Op.default});var MO=v((Ip,PO)=>{"use strict";Ip.__esModule=!0;Ip.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"};PO.exports=Ip.default});var LO=v((Fp,jO)=>{"use strict";Fp.__esModule=!0;Fp.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"};jO.exports=Fp.default});var qO=v((Np,RO)=>{"use strict";Np.__esModule=!0;Np.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"};RO.exports=Np.default});var $O=v((Dp,BO)=>{"use strict";Dp.__esModule=!0;Dp.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"};BO.exports=Dp.default});var WO=v((Pp,zO)=>{"use strict";Pp.__esModule=!0;Pp.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"};zO.exports=Pp.default});var HO=v((Mp,UO)=>{"use strict";Mp.__esModule=!0;Mp.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"};UO.exports=Mp.default});var GO=v((jp,VO)=>{"use strict";jp.__esModule=!0;jp.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"};VO.exports=jp.default});var JO=v((Lp,KO)=>{"use strict";Lp.__esModule=!0;Lp.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"};KO.exports=Lp.default});var YO=v((Rp,QO)=>{"use strict";Rp.__esModule=!0;Rp.default={scheme:"brewer",author:"timoth\xE9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"};QO.exports=Rp.default});var XO=v((qp,ZO)=>{"use strict";qp.__esModule=!0;qp.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"};ZO.exports=qp.default});var tI=v((Bp,eI)=>{"use strict";Bp.__esModule=!0;Bp.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"};eI.exports=Bp.default});var nI=v(($p,rI)=>{"use strict";$p.__esModule=!0;$p.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"};rI.exports=$p.default});var oI=v((zp,iI)=>{"use strict";zp.__esModule=!0;zp.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"};iI.exports=zp.default});var aI=v((Wp,sI)=>{"use strict";Wp.__esModule=!0;Wp.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"};sI.exports=Wp.default});var lI=v((Up,uI)=>{"use strict";Up.__esModule=!0;Up.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"};uI.exports=Up.default});var fI=v((Hp,cI)=>{"use strict";Hp.__esModule=!0;Hp.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"};cI.exports=Hp.default});var dI=v((Vp,pI)=>{"use strict";Vp.__esModule=!0;Vp.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"};pI.exports=Vp.default});var mI=v((Gp,hI)=>{"use strict";Gp.__esModule=!0;Gp.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"};hI.exports=Gp.default});var yI=v((Kp,gI)=>{"use strict";Kp.__esModule=!0;Kp.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"};gI.exports=Kp.default});var bI=v((Jp,vI)=>{"use strict";Jp.__esModule=!0;Jp.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"};vI.exports=Jp.default});var xI=v((Qp,wI)=>{"use strict";Qp.__esModule=!0;Qp.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"};wI.exports=Qp.default});var kI=v((Yp,EI)=>{"use strict";Yp.__esModule=!0;Yp.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"};EI.exports=Yp.default});var SI=v((Zp,_I)=>{"use strict";Zp.__esModule=!0;Zp.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"};_I.exports=Zp.default});var CI=v((Xp,AI)=>{"use strict";Xp.__esModule=!0;Xp.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"};AI.exports=Xp.default});var OI=v((ed,TI)=>{"use strict";ed.__esModule=!0;ed.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"};TI.exports=ed.default});var FI=v((td,II)=>{"use strict";td.__esModule=!0;td.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"};II.exports=td.default});var DI=v((rd,NI)=>{"use strict";rd.__esModule=!0;rd.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"};NI.exports=rd.default});var MI=v((nd,PI)=>{"use strict";nd.__esModule=!0;nd.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"};PI.exports=nd.default});var LI=v((id,jI)=>{"use strict";id.__esModule=!0;id.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"};jI.exports=id.default});var qI=v((od,RI)=>{"use strict";od.__esModule=!0;od.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"};RI.exports=od.default});var $I=v((sd,BI)=>{"use strict";sd.__esModule=!0;sd.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"};BI.exports=sd.default});var WI=v((ad,zI)=>{"use strict";ad.__esModule=!0;ad.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"};zI.exports=ad.default});var HI=v((ud,UI)=>{"use strict";ud.__esModule=!0;ud.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"};UI.exports=ud.default});var GI=v((ld,VI)=>{"use strict";ld.__esModule=!0;ld.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"};VI.exports=ld.default});var JI=v((cd,KI)=>{"use strict";cd.__esModule=!0;cd.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"};KI.exports=cd.default});var YI=v((fd,QI)=>{"use strict";fd.__esModule=!0;fd.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"};QI.exports=fd.default});var ZI=v(te=>{"use strict";te.__esModule=!0;function re(e){return e&&e.__esModule?e.default:e}var Bz=DO();te.threezerotwofour=re(Bz);var $z=MO();te.apathy=re($z);var zz=LO();te.ashes=re(zz);var Wz=qO();te.atelierDune=re(Wz);var Uz=$O();te.atelierForest=re(Uz);var Hz=WO();te.atelierHeath=re(Hz);var Vz=HO();te.atelierLakeside=re(Vz);var Gz=GO();te.atelierSeaside=re(Gz);var Kz=JO();te.bespin=re(Kz);var Jz=YO();te.brewer=re(Jz);var Qz=XO();te.bright=re(Qz);var Yz=tI();te.chalk=re(Yz);var Zz=nI();te.codeschool=re(Zz);var Xz=oI();te.colors=re(Xz);var e8=aI();te.default=re(e8);var t8=lI();te.eighties=re(t8);var r8=fI();te.embers=re(r8);var n8=dI();te.flat=re(n8);var i8=mI();te.google=re(i8);var o8=yI();te.grayscale=re(o8);var s8=bI();te.greenscreen=re(s8);var a8=xI();te.harmonic=re(a8);var u8=kI();te.hopscotch=re(u8);var l8=SI();te.isotope=re(l8);var c8=CI();te.marrakesh=re(c8);var f8=OI();te.mocha=re(f8);var p8=FI();te.monokai=re(p8);var d8=DI();te.ocean=re(d8);var h8=MI();te.paraiso=re(h8);var m8=LI();te.pop=re(m8);var g8=qI();te.railscasts=re(g8);var y8=$I();te.shapeshifter=re(y8);var v8=WI();te.solarized=re(v8);var b8=HI();te.summerfruit=re(b8);var w8=GI();te.tomorrow=re(w8);var x8=JI();te.tube=re(x8);var E8=YI();te.twilight=re(E8)});var eF=v((NZ,XI)=>{"use strict";XI.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var rF=v((DZ,tF)=>{tF.exports=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")}});var oF=v((PZ,iF)=>{"use strict";var k8=rF(),_8=Array.prototype.concat,S8=Array.prototype.slice,nF=iF.exports=function(t){for(var r=[],n=0,i=t.length;n<i;n++){var o=t[n];k8(o)?r=_8.call(r,S8.call(o)):r.push(o)}return r};nF.wrap=function(e){return function(){return e(nF(arguments))}}});var lF=v((MZ,uF)=>{var il=eF(),ol=oF(),sF=Object.hasOwnProperty,aF=Object.create(null);for(pd in il)sF.call(il,pd)&&(aF[il[pd]]=pd);var pd,Pt=uF.exports={to:{},get:{}};Pt.get=function(e){var t=e.substring(0,3).toLowerCase(),r,n;switch(t){case"hsl":r=Pt.get.hsl(e),n="hsl";break;case"hwb":r=Pt.get.hwb(e),n="hwb";break;default:r=Pt.get.rgb(e),n="rgb";break}return r?{model:n,value:r}:null};Pt.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,u,l;if(a=e.match(r)){for(l=a[2],a=a[1],u=0;u<3;u++){var c=u*2;s[u]=parseInt(a.slice(c,c+2),16)}l&&(s[3]=parseInt(l,16)/255)}else if(a=e.match(t)){for(a=a[1],l=a[3],u=0;u<3;u++)s[u]=parseInt(a[u]+a[u],16);l&&(s[3]=parseInt(l+l,16)/255)}else if(a=e.match(n)){for(u=0;u<3;u++)s[u]=parseInt(a[u+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=e.match(i)){for(u=0;u<3;u++)s[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=e.match(o))?a[1]==="transparent"?[0,0,0,0]:sF.call(il,a[1])?(s=il[a[1]],s[3]=1,s):null:null;for(u=0;u<3;u++)s[u]=Jn(s[u],0,255);return s[3]=Jn(s[3],0,1),s};Pt.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=Jn(parseFloat(r[2]),0,100),s=Jn(parseFloat(r[3]),0,100),a=Jn(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Pt.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=e.match(t);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=Jn(parseFloat(r[2]),0,100),s=Jn(parseFloat(r[3]),0,100),a=Jn(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Pt.to.hex=function(){var e=ol(arguments);return"#"+dd(e[0])+dd(e[1])+dd(e[2])+(e[3]<1?dd(Math.round(e[3]*255)):"")};Pt.to.rgb=function(){var e=ol(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"};Pt.to.rgb.percent=function(){var e=ol(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"};Pt.to.hsl=function(){var e=ol(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"};Pt.to.hwb=function(){var e=ol(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"};Pt.to.keyword=function(e){return aF[e.slice(0,3)]};function Jn(e,t,r){return Math.min(Math.max(t,e),r)}function dd(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}});var fF=v((jZ,cF)=>{"use strict";cF.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var R0=v((LZ,mF)=>{var ji=fF(),hF={};for(hd in ji)ji.hasOwnProperty(hd)&&(hF[ji[hd]]=hd);var hd,z=mF.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(dt in z)if(z.hasOwnProperty(dt)){if(!("channels"in z[dt]))throw new Error("missing channels property: "+dt);if(!("labels"in z[dt]))throw new Error("missing channel labels property: "+dt);if(z[dt].labels.length!==z[dt].channels)throw new Error("channel and label counts mismatch: "+dt);pF=z[dt].channels,dF=z[dt].labels,delete z[dt].channels,delete z[dt].labels,Object.defineProperty(z[dt],"channels",{value:pF}),Object.defineProperty(z[dt],"labels",{value:dF})}var pF,dF,dt;z.rgb.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),o=Math.max(t,r,n),s=o-i,a,u,l;return o===i?a=0:t===o?a=(r-n)/s:r===o?a=2+(n-t)/s:n===o&&(a=4+(t-r)/s),a=Math.min(a*60,360),a<0&&(a+=360),l=(i+o)/2,o===i?u=0:l<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,l*100]};z.rgb.hsv=function(e){var t,r,n,i,o,s=e[0]/255,a=e[1]/255,u=e[2]/255,l=Math.max(s,a,u),c=l-Math.min(s,a,u),f=function(p){return(l-p)/6/c+1/2};return c===0?i=o=0:(o=c/l,t=f(s),r=f(a),n=f(u),s===l?i=n-r:a===l?i=1/3+t-n:u===l&&(i=2/3+r-t),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,l*100]};z.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2],i=z.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(r,n));return n=1-1/255*Math.max(t,Math.max(r,n)),[i,o*100,n*100]};z.rgb.cmyk=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i,o,s,a;return a=Math.min(1-t,1-r,1-n),i=(1-t-a)/(1-a)||0,o=(1-r-a)/(1-a)||0,s=(1-n-a)/(1-a)||0,[i*100,o*100,s*100,a*100]};function A8(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2)}z.rgb.keyword=function(e){var t=hF[e];if(t)return t;var r=1/0,n;for(var i in ji)if(ji.hasOwnProperty(i)){var o=ji[i],s=A8(e,o);s<r&&(r=s,n=i)}return n};z.keyword.rgb=function(e){return ji[e]};z.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=t*.4124+r*.3576+n*.1805,o=t*.2126+r*.7152+n*.0722,s=t*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};z.rgb.lab=function(e){var t=z.rgb.xyz(e),r=t[0],n=t[1],i=t[2],o,s,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,o=116*n-16,s=500*(r-n),a=200*(n-i),[o,s,a]};z.hsl.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,i,o,s,a,u;if(r===0)return u=n*255,[u,u,u];n<.5?o=n*(1+r):o=n+r-n*r,i=2*n-o,a=[0,0,0];for(var l=0;l<3;l++)s=t+1/3*-(l-1),s<0&&s++,s>1&&s--,6*s<1?u=i+(o-i)*6*s:2*s<1?u=o:3*s<2?u=i+(o-i)*(2/3-s)*6:u=i,a[l]=u*255;return a};z.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,o=Math.max(n,.01),s,a;return n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o,a=(n+r)/2,s=n===0?2*i/(o+i):2*r/(n+r),[t,s*100,a*100]};z.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,o=t-Math.floor(t),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};z.hsv.hsl=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=Math.max(n,.01),o,s,a;return a=(2-r)*n,o=(2-r)*i,s=r*i,s/=o<=1?o:2-o,s=s||0,a/=2,[t,s*100,a*100]};z.hwb.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,i=r+n,o,s,a,u;i>1&&(r/=i,n/=i),o=Math.floor(6*t),s=1-n,a=6*t-o,(o&1)!==0&&(a=1-a),u=r+a*(s-r);var l,c,f;switch(o){default:case 6:case 0:l=s,c=u,f=r;break;case 1:l=u,c=s,f=r;break;case 2:l=r,c=s,f=u;break;case 3:l=r,c=u,f=s;break;case 4:l=u,c=r,f=s;break;case 5:l=s,c=r,f=u;break}return[l*255,c*255,f*255]};z.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100,o,s,a;return o=1-Math.min(1,t*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[o*255,s*255,a*255]};z.xyz.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i,o,s;return i=t*3.2406+r*-1.5372+n*-.4986,o=t*-.9689+r*1.8758+n*.0415,s=t*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};z.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2],i,o,s;return t/=95.047,r/=100,n/=108.883,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,o=500*(t-r),s=200*(r-n),[i,o,s]};z.lab.xyz=function(e){var t=e[0],r=e[1],n=e[2],i,o,s;o=(t+16)/116,i=r/500+o,s=o-n/200;var a=Math.pow(o,3),u=Math.pow(i,3),l=Math.pow(s,3);return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=l>.008856?l:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};z.lab.lch=function(e){var t=e[0],r=e[1],n=e[2],i,o,s;return i=Math.atan2(n,r),o=i*360/2/Math.PI,o<0&&(o+=360),s=Math.sqrt(r*r+n*n),[t,s,o]};z.lch.lab=function(e){var t=e[0],r=e[1],n=e[2],i,o,s;return s=n/360*2*Math.PI,i=r*Math.cos(s),o=r*Math.sin(s),[t,i,o]};z.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:z.rgb.hsv(e)[2];if(i=Math.round(i/50),i===0)return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return i===2&&(o+=60),o};z.hsv.ansi16=function(e){return z.rgb.ansi16(z.hsv.rgb(e),e[2])};z.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];if(t===r&&r===n)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;var i=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};z.ansi16.rgb=function(e){var t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];var r=(~~(e>50)+1)*.5,n=(t&1)*r*255,i=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[n,i,o]};z.ansi256.rgb=function(e){if(e>=232){var t=(e-232)*10+8;return[t,t,t]}e-=16;var r,n=Math.floor(e/36)/5*255,i=Math.floor((r=e%36)/6)/5*255,o=r%6/5*255;return[n,i,o]};z.rgb.hex=function(e){var t=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r};z.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];t[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};z.rgb.hcg=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(Math.max(t,r),n),o=Math.min(Math.min(t,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===t?u=(r-n)/s%6:i===r?u=2+(n-t)/s:u=4+(t-r)/s+4,u/=6,u%=1,[u*360,s*100,a*100]};z.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,i=0;return r<.5?n=2*t*r:n=2*t*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[e[0],n*100,i*100]};z.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],n*100,i*100]};z.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],o=t%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};z.hcg.hsv=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t),i=0;return n>0&&(i=t/n),[e[0],i*100,n*100]};z.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100,n=r*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],i*100,n*100]};z.hcg.hwb=function(e){var t=e[1]/100,r=e[2]/100,n=t+r*(1-t);return[e[0],(n-t)*100,(1-n)*100]};z.hwb.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1-r,i=n-t,o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],i*100,o*100]};z.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};z.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};z.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};z.gray.hsl=z.gray.hsv=function(e){return[0,0,e[0]]};z.gray.hwb=function(e){return[0,100,e[0]]};z.gray.cmyk=function(e){return[0,0,0,e[0]]};z.gray.lab=function(e){return[e[0],0,0]};z.gray.hex=function(e){var t=Math.round(e[0]/100*255)&255,r=(t<<16)+(t<<8)+t,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};z.rgb.gray=function(e){var t=(e[0]+e[1]+e[2])/3;return[t/255*100]}});var yF=v((RZ,gF)=>{var md=R0();function C8(){for(var e={},t=Object.keys(md),r=t.length,n=0;n<r;n++)e[t[n]]={distance:-1,parent:null};return e}function T8(e){var t=C8(),r=[e];for(t[e].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(md[n]),o=i.length,s=0;s<o;s++){var a=i[s],u=t[a];u.distance===-1&&(u.distance=t[n].distance+1,u.parent=n,r.unshift(a))}return t}function O8(e,t){return function(r){return t(e(r))}}function I8(e,t){for(var r=[t[e].parent,e],n=md[t[e].parent][e],i=t[e].parent;t[i].parent;)r.unshift(t[i].parent),n=O8(md[t[i].parent][i],n),i=t[i].parent;return n.conversion=r,n}gF.exports=function(e){for(var t=T8(e),r={},n=Object.keys(t),i=n.length,o=0;o<i;o++){var s=n[o],a=t[s];a.parent!==null&&(r[s]=I8(s,t))}return r}});var bF=v((qZ,vF)=>{var q0=R0(),F8=yF(),us={},N8=Object.keys(q0);function D8(e){var t=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),e(r))};return"conversion"in e&&(t.conversion=e.conversion),t}function P8(e){var t=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=e(r);if(typeof n=="object")for(var i=n.length,o=0;o<i;o++)n[o]=Math.round(n[o]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}N8.forEach(function(e){us[e]={},Object.defineProperty(us[e],"channels",{value:q0[e].channels}),Object.defineProperty(us[e],"labels",{value:q0[e].labels});var t=F8(e),r=Object.keys(t);r.forEach(function(n){var i=t[n];us[e][n]=P8(i),us[e][n].raw=D8(i)})});vF.exports=us});var EF=v((BZ,xF)=>{"use strict";var sl=lF(),Mt=bF(),z0=[].slice,wF=["keyword","gray","hex"],B0={};Object.keys(Mt).forEach(function(e){B0[z0.call(Mt[e].labels).sort().join("")]=e});var gd={};function Ge(e,t){if(!(this instanceof Ge))return new Ge(e,t);if(t&&t in wF&&(t=null),t&&!(t in Mt))throw new Error("Unknown model: "+t);var r,n;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof Ge)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if(typeof e=="string"){var i=sl.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,n=Mt[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(e.length){this.model=t||"rgb",n=Mt[this.model].channels;var o=z0.call(e,0,n);this.color=$0(o,n),this.valpha=typeof e[n]=="number"?e[n]:1}else if(typeof e=="number")e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;var s=Object.keys(e);"alpha"in e&&(s.splice(s.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);var a=s.sort().join("");if(!(a in B0))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=B0[a];var u=Mt[this.model].labels,l=[];for(r=0;r<u.length;r++)l.push(e[u[r]]);this.color=$0(l)}if(gd[this.model])for(n=Mt[this.model].channels,r=0;r<n;r++){var c=gd[this.model][r];c&&(this.color[r]=c(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Ge.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in sl.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);var r=t.valpha===1?t.color:t.color.concat(this.valpha);return sl.to[t.model](r)},percentString:function(e){var t=this.rgb().round(typeof e=="number"?e:1),r=t.valpha===1?t.color:t.color.concat(this.valpha);return sl.to.rgb.percent(r)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=Mt[this.model].channels,r=Mt[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new Ge(this.color.map(j8(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new Ge(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:_e("rgb",0,je(255)),green:_e("rgb",1,je(255)),blue:_e("rgb",2,je(255)),hue:_e(["hsl","hsv","hsl","hwb","hcg"],0,function(e){return(e%360+360)%360}),saturationl:_e("hsl",1,je(100)),lightness:_e("hsl",2,je(100)),saturationv:_e("hsv",1,je(100)),value:_e("hsv",2,je(100)),chroma:_e("hcg",1,je(100)),gray:_e("hcg",2,je(100)),white:_e("hwb",1,je(100)),wblack:_e("hwb",2,je(100)),cyan:_e("cmyk",0,je(100)),magenta:_e("cmyk",1,je(100)),yellow:_e("cmyk",2,je(100)),black:_e("cmyk",3,je(100)),x:_e("xyz",0,je(100)),y:_e("xyz",1,je(100)),z:_e("xyz",2,je(100)),l:_e("lab",0,je(100)),a:_e("lab",1),b:_e("lab",2),keyword:function(e){return arguments.length?new Ge(e):Mt[this.model].keyword(this.color)},hex:function(e){return arguments.length?new Ge(e):sl.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color,t=(e[0]*299+e[1]*587+e[2]*114)/1e3;return t<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return Ge.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r+e)%360,r=r<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),n=this.rgb(),i=t===void 0?.5:t,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return Ge.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};Object.keys(Mt).forEach(function(e){if(wF.indexOf(e)===-1){var t=Mt[e].channels;Ge.prototype[e]=function(){if(this.model===e)return new Ge(this);if(arguments.length)return new Ge(arguments,e);var r=typeof arguments[t]=="number"?t:this.valpha;return new Ge(L8(Mt[this.model][e].raw(this.color)).concat(r),e)},Ge[e]=function(r){return typeof r=="number"&&(r=$0(z0.call(arguments),t)),new Ge(r,e)}}});function M8(e,t){return Number(e.toFixed(t))}function j8(e){return function(t){return M8(t,e)}}function _e(e,t,r){return e=Array.isArray(e)?e:[e],e.forEach(function(n){(gd[n]||(gd[n]=[]))[t]=r}),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),i=this[e](),i.color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function je(e){return function(t){return Math.max(0,Math.min(e,t))}}function L8(e){return Array.isArray(e)?e:[e]}function $0(e,t){for(var r=0;r<t;r++)typeof e[r]!="number"&&(e[r]=0);return e}xF.exports=Ge});var $F=v(($Z,BF)=>{var R8="Expected a function",kF="__lodash_placeholder__",Ri=1,vd=2,q8=4,Li=8,al=16,ls=32,ul=64,IF=128,B8=256,FF=512,_F=1/0,$8=9007199254740991,z8=17976931348623157e292,SF=0/0,W8=[["ary",IF],["bind",Ri],["bindKey",vd],["curry",Li],["curryRight",al],["flip",FF],["partial",ls],["partialRight",ul],["rearg",B8]],U8="[object Function]",H8="[object GeneratorFunction]",V8="[object Symbol]",G8=/[\\^$.*+?()[\]{}|]/g,K8=/^\s+|\s+$/g,J8=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Q8=/\{\n\/\* \[wrapped with (.+)\] \*/,Y8=/,? & /,Z8=/^[-+]0x[0-9a-f]+$/i,X8=/^0b[01]+$/i,eW=/^\[object .+?Constructor\]$/,tW=/^0o[0-7]+$/i,rW=/^(?:0|[1-9]\d*)$/,nW=parseInt,iW=typeof global=="object"&&global&&global.Object===Object&&global,oW=typeof self=="object"&&self&&self.Object===Object&&self,cl=iW||oW||Function("return this")();function NF(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function sW(e,t){for(var r=-1,n=e?e.length:0;++r<n&&t(e[r],r,e)!==!1;);return e}function aW(e,t){var r=e?e.length:0;return!!r&&lW(e,t,0)>-1}function uW(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function lW(e,t,r){if(t!==t)return uW(e,cW,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}function cW(e){return e!==e}function fW(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&n++;return n}function pW(e,t){return e?.[t]}function dW(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch{}return t}function DF(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];(s===t||s===kF)&&(e[r]=kF,o[i++]=r)}return o}var hW=Function.prototype,PF=Object.prototype,W0=cl["__core-js_shared__"],AF=function(){var e=/[^.]+$/.exec(W0&&W0.keys&&W0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),MF=hW.toString,mW=PF.hasOwnProperty,jF=PF.toString,gW=RegExp("^"+MF.call(mW).replace(G8,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),yW=Object.create,yd=Math.max,vW=Math.min,CF=function(){var e=TF(Object,"defineProperty"),t=TF.name;return t&&t.length>2?e:void 0}();function bW(e){return cs(e)?yW(e):{}}function wW(e){if(!cs(e)||FW(e))return!1;var t=MW(e)||dW(e)?gW:eW;return t.test(DW(e))}function xW(e,t,r,n){for(var i=-1,o=e.length,s=r.length,a=-1,u=t.length,l=yd(o-s,0),c=Array(u+l),f=!n;++a<u;)c[a]=t[a];for(;++i<s;)(f||i<o)&&(c[r[i]]=e[i]);for(;l--;)c[a++]=e[i++];return c}function EW(e,t,r,n){for(var i=-1,o=e.length,s=-1,a=r.length,u=-1,l=t.length,c=yd(o-a,0),f=Array(c+l),p=!n;++i<c;)f[i]=e[i];for(var d=i;++u<l;)f[d+u]=t[u];for(;++s<a;)(p||i<o)&&(f[d+r[s]]=e[i++]);return f}function kW(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}function _W(e,t,r){var n=t&Ri,i=ll(e);function o(){var s=this&&this!==cl&&this instanceof o?i:e;return s.apply(n?r:this,arguments)}return o}function ll(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=bW(e.prototype),n=e.apply(r,t);return cs(n)?n:r}}function SW(e,t,r){var n=ll(e);function i(){for(var o=arguments.length,s=Array(o),a=o,u=RF(i);a--;)s[a]=arguments[a];var l=o<3&&s[0]!==u&&s[o-1]!==u?[]:DF(s,u);if(o-=l.length,o<r)return LF(e,t,U0,i.placeholder,void 0,s,l,void 0,void 0,r-o);var c=this&&this!==cl&&this instanceof i?n:e;return NF(c,this,s)}return i}function U0(e,t,r,n,i,o,s,a,u,l){var c=t&IF,f=t&Ri,p=t&vd,d=t&(Li|al),m=t&FF,b=p?void 0:ll(e);function h(){for(var g=arguments.length,y=Array(g),x=g;x--;)y[x]=arguments[x];if(d)var k=RF(h),j=fW(y,k);if(n&&(y=xW(y,n,i,d)),o&&(y=EW(y,o,s,d)),g-=j,d&&g<l){var F=DF(y,k);return LF(e,t,U0,h.placeholder,r,y,F,a,u,l-g)}var W=f?r:this,q=p?W[e]:e;return g=y.length,a?y=NW(y,a):m&&g>1&&y.reverse(),c&&u<g&&(y.length=u),this&&this!==cl&&this instanceof h&&(q=b||ll(q)),q.apply(W,y)}return h}function AW(e,t,r,n){var i=t&Ri,o=ll(e);function s(){for(var a=-1,u=arguments.length,l=-1,c=n.length,f=Array(c+u),p=this&&this!==cl&&this instanceof s?o:e;++l<c;)f[l]=n[l];for(;u--;)f[l++]=arguments[++a];return NF(p,i?r:this,f)}return s}function LF(e,t,r,n,i,o,s,a,u,l){var c=t&Li,f=c?s:void 0,p=c?void 0:s,d=c?o:void 0,m=c?void 0:o;t|=c?ls:ul,t&=~(c?ul:ls),t&q8||(t&=~(Ri|vd));var b=r(e,t,i,d,f,m,p,a,u,l);return b.placeholder=n,qF(b,e,t)}function CW(e,t,r,n,i,o,s,a){var u=t&vd;if(!u&&typeof e!="function")throw new TypeError(R8);var l=n?n.length:0;if(l||(t&=~(ls|ul),n=i=void 0),s=s===void 0?s:yd(OF(s),0),a=a===void 0?a:OF(a),l-=i?i.length:0,t&ul){var c=n,f=i;n=i=void 0}var p=[e,t,r,n,i,c,f,o,s,a];if(e=p[0],t=p[1],r=p[2],n=p[3],i=p[4],a=p[9]=p[9]==null?u?0:e.length:yd(p[9]-l,0),!a&&t&(Li|al)&&(t&=~(Li|al)),!t||t==Ri)var d=_W(e,t,r);else t==Li||t==al?d=SW(e,t,a):(t==ls||t==(Ri|ls))&&!i.length?d=AW(e,t,r,n):d=U0.apply(void 0,p);return qF(d,e,t)}function RF(e){var t=e;return t.placeholder}function TF(e,t){var r=pW(e,t);return wW(r)?r:void 0}function TW(e){var t=e.match(Q8);return t?t[1].split(Y8):[]}function OW(e,t){var r=t.length,n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(J8,`{
/* [wrapped with `+t+`] */
`)}function IW(e,t){return t=t??$8,!!t&&(typeof e=="number"||rW.test(e))&&e>-1&&e%1==0&&e<t}function FW(e){return!!AF&&AF in e}function NW(e,t){for(var r=e.length,n=vW(t.length,r),i=kW(e);n--;){var o=t[n];e[n]=IW(o,r)?i[o]:void 0}return e}var qF=CF?function(e,t,r){var n=t+"";return CF(e,"toString",{configurable:!0,enumerable:!1,value:BW(OW(n,PW(TW(n),r)))})}:$W;function DW(e){if(e!=null){try{return MF.call(e)}catch{}try{return e+""}catch{}}return""}function PW(e,t){return sW(W8,function(r){var n="_."+r[0];t&r[1]&&!aW(e,n)&&e.push(n)}),e.sort()}function H0(e,t,r){t=r?void 0:t;var n=CW(e,Li,void 0,void 0,void 0,void 0,void 0,t);return n.placeholder=H0.placeholder,n}function MW(e){var t=cs(e)?jF.call(e):"";return t==U8||t==H8}function cs(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function jW(e){return!!e&&typeof e=="object"}function LW(e){return typeof e=="symbol"||jW(e)&&jF.call(e)==V8}function RW(e){if(!e)return e===0?e:0;if(e=qW(e),e===_F||e===-_F){var t=e<0?-1:1;return t*z8}return e===e?e:0}function OF(e){var t=RW(e),r=t%1;return t===t?r?t-r:t:0}function qW(e){if(typeof e=="number")return e;if(LW(e))return SF;if(cs(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=cs(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(K8,"");var r=X8.test(e);return r||tW.test(e)?nW(e.slice(2),r?2:8):Z8.test(e)?SF:+e}function BW(e){return function(){return e}}function $W(e){return e}H0.placeholder={};BF.exports=H0});var bD=v((Cd,vD)=>{(function(e,t){typeof Cd=="object"&&typeof vD<"u"?t(Cd,le()):typeof define=="function"&&define.amd?define(["exports","react"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.ReactErrorBoundary={},e.React))})(Cd,function(e,t){"use strict";function r(f){if(f&&f.__esModule)return f;var p=Object.create(null);return f&&Object.keys(f).forEach(function(d){if(d!=="default"){var m=Object.getOwnPropertyDescriptor(f,d);Object.defineProperty(p,d,m.get?m:{enumerable:!0,get:function(){return f[d]}})}}),p.default=f,Object.freeze(p)}var n=r(t);function i(f,p){return i=Object.setPrototypeOf||function(m,b){return m.__proto__=b,m},i(f,p)}function o(f,p){f.prototype=Object.create(p.prototype),f.prototype.constructor=f,i(f,p)}var s=function(p,d){return p===void 0&&(p=[]),d===void 0&&(d=[]),p.length!==d.length||p.some(function(m,b){return!Object.is(m,d[b])})},a={error:null},u=function(f){o(p,f);function p(){for(var m,b=arguments.length,h=new Array(b),g=0;g<b;g++)h[g]=arguments[g];return m=f.call.apply(f,[this].concat(h))||this,m.state=a,m.resetErrorBoundary=function(){for(var y,x=arguments.length,k=new Array(x),j=0;j<x;j++)k[j]=arguments[j];m.props.onReset==null||(y=m.props).onReset.apply(y,k),m.reset()},m}p.getDerivedStateFromError=function(b){return{error:b}};var d=p.prototype;return d.reset=function(){this.setState(a)},d.componentDidCatch=function(b,h){var g,y;(g=(y=this.props).onError)==null||g.call(y,b,h)},d.componentDidUpdate=function(b,h){var g=this.state.error,y=this.props.resetKeys;if(g!==null&&h.error!==null&&s(b.resetKeys,y)){var x,k;(x=(k=this.props).onResetKeysChange)==null||x.call(k,b.resetKeys,y),this.reset()}},d.render=function(){var b=this.state.error,h=this.props,g=h.fallbackRender,y=h.FallbackComponent,x=h.fallback;if(b!==null){var k={error:b,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(x))return x;if(typeof g=="function")return g(k);if(y)return n.createElement(y,k);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},p}(n.Component);function l(f,p){var d=function(h){return n.createElement(u,p,n.createElement(f,h))},m=f.displayName||f.name||"Unknown";return d.displayName="withErrorBoundary("+m+")",d}function c(f){var p=n.useState(null),d=p[0],m=p[1];if(f!=null)throw f;if(d!=null)throw d;return m}e.ErrorBoundary=u,e.useErrorHandler=c,e.withErrorBoundary=l,Object.defineProperty(e,"__esModule",{value:!0})})});var UD=v((ov,WD)=>{"use strict";var $D=typeof Reflect<"u"?Reflect.construct:void 0,vs=Object.defineProperty,iv=Error.captureStackTrace;iv===void 0&&(iv=function(t){var r=new Error;vs(t,"stack",{configurable:!0,get:function(){var i=r.stack;return vs(this,"stack",{configurable:!0,value:i,writable:!0}),i},set:function(i){vs(t,"stack",{configurable:!0,value:i,writable:!0})}})});function Pd(e){e!==void 0&&vs(this,"message",{configurable:!0,value:e,writable:!0});var t=this.constructor.name;t!==void 0&&t!==this.name&&vs(this,"name",{configurable:!0,value:t,writable:!0}),iv(this,this.constructor)}Pd.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:Pd,writable:!0}});var zD=function(){function e(r,n){return vs(r,"name",{configurable:!0,value:n})}try{var t=function(){};if(e(t,"foo"),t.name==="foo")return e}catch{}}();function xH(e,t){if(t==null||t===Error)t=Pd;else if(typeof t!="function")throw new TypeError("super_ should be a function");var r;if(typeof e=="string")r=e,e=$D!==void 0?function(){return $D(t,arguments,this.constructor)}:function(){t.apply(this,arguments)},zD!==void 0&&(zD(e,r),r=void 0);else if(typeof e!="function")throw new TypeError("constructor should be either a string or a function");e.super_=e.super=t;var n={constructor:{configurable:!0,value:e,writable:!0}};return r!==void 0&&(n.name={configurable:!0,value:r,writable:!0}),e.prototype=Object.create(t.prototype,n),e}ov=WD.exports=xH;ov.BaseError=Pd});var vP=v((zre,yP)=>{"use strict";var DH=["h","min","s","ms","\u03BCs","ns"],PH=["hour","minute","second","millisecond","microsecond","nanosecond"],gP=[3600,60,1,1e6,1e3,1];yP.exports=function(e,t){var r,n,i,o,s,a,u,l,c,f;if(r=!1,n=!1,t&&(r=t.verbose||!1,n=t.precise||!1),!Array.isArray(e)||e.length!==2||typeof e[0]!="number"||typeof e[1]!="number")return"";for(e[1]<0&&(f=e[0]+e[1]/1e9,e[0]=parseInt(f),e[1]=parseFloat((f%1).toPrecision(9))*1e9),c="",i=0;i<6&&(o=i<3?0:1,s=e[o],i!==3&&i!==0&&(s=s%gP[i-1]),i===2&&(s+=e[1]/1e9),a=s/gP[i],!(a>=1&&(r&&(a=Math.floor(a)),n?l=a.toString():(u=a>=10?0:2,l=a.toFixed(u)),l.indexOf(".")>-1&&l[l.length-1]==="0"&&(l=l.replace(/\.?0+$/,"")),c&&(c+=" "),c+=l,r?(c+=" "+PH[i],l!=="1"&&(c+="s")):c+=" "+DH[i],!r)));i++);return c}});var MH={};pv(MH,{default:()=>Gd});module.exports=hv(MH);var Dr=require("obsidian");var z1=_(nr()),W1=_(Hh()),Vh="INFO",V=(0,z1.initLogger)("main",Vh,W1.default);var s2=_(Gh());var vR='var xi=Object.create;var Je=Object.defineProperty;var yi=Object.getOwnPropertyDescriptor;var ki=Object.getOwnPropertyNames;var bi=Object.getPrototypeOf,Ei=Object.prototype.hasOwnProperty;var vi=(e,t)=>()=>(e&&(t=e(e=0)),t);var J=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),xr=(e,t)=>{for(var r in t)Je(e,r,{get:t[r],enumerable:!0})},yr=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of ki(t))!Ei.call(e,i)&&i!==r&&Je(e,i,{get:()=>t[i],enumerable:!(n=yi(t,i))||n.enumerable});return e};var xe=(e,t,r)=>(r=e!=null?xi(bi(e)):{},yr(t||!e||!e.__esModule?Je(r,"default",{value:e,enumerable:!0}):r,e)),Si=e=>yr(Je({},"__esModule",{value:!0}),e);var kr=J((exports,module)=>{(function(t,r){typeof exports=="object"&&typeof module=="object"?module.exports=r():typeof define=="function"&&define.amd?define("workerpool",[],r):typeof exports=="object"?exports.workerpool=r():t.workerpool=r()})(typeof self<"u"?self:exports,function(){return function(){var __webpack_modules__={162:function(e,t,r){"use strict";r.r(t),r.d(t,{IFrameWorker:function(){return i}});function n(){let o=document.createElement("iframe");return o.width=o.height=o.frameBorder="0",o.classList.add("iframe-worker"),o.style.display="contents",o}class i{constructor(u,a){if(this.scriptText=u,this.onerror=null,this.onmessage=null,this.onmessageerror=null,this.handleMessage=c=>{c.source===this.worker&&(c.stopImmediatePropagation(),this.dispatchEvent(new MessageEvent("message",{data:c.data})),this.onmessage&&this.onmessage(c))},this.handleError=(c,l,x,g,h)=>{if(l===this.scriptText.toString()){let m=new ErrorEvent("error",{message:c,filename:l,lineno:x,colno:g,error:h});this.dispatchEvent(m),this.onerror&&this.onerror(m)}},typeof a<"u")throw new TypeError("Options are not supported for iframe workers");let s=new EventTarget;this.addEventListener=s.addEventListener.bind(s),this.removeEventListener=s.removeEventListener.bind(s),this.dispatchEvent=s.dispatchEvent.bind(s),document.body.appendChild(this.iframe=n()),this.worker.document.open(),this.worker.document.write(`<html><body><script>window.postMessage=\n(message, origin) => {\n  parent.postMessage(message, origin || "*")\n};window.importScripts=\n(...urls) => urls.reduce((promise, url) => (\n  promise.then(() => new Promise(resolve => {\n    const script = document.createElement("script")\n    script.src = url\n    script.addEventListener("load", () => resolve())\n    document.body.appendChild(script)\n  }))\n), Promise.resolve());addEventListener("error",ev=>{parent.dispatchEvent(new ErrorEvent("error",{filename:"${u.substring(0,50)}",error:ev.error}))})<\\/script><script type="module">${u}<\\/script></body></html>`),this.worker.document.close(),window.addEventListener("message",this.handleMessage),window.onerror=this.handleError,this.ready=new Promise((c,l)=>{this.worker.onload=c,this.worker.onerror=l})}terminate(){document.body.removeChild(this.iframe),window.removeEventListener("message",this.handleMessage),window.onerror=null}postMessage(u){(async()=>{try{await this.ready}catch{}finally{this.worker.dispatchEvent(new MessageEvent("message",{data:u}))}})()}get worker(){return this.iframe.contentWindow}}},799:function(e,t,r){var n=r(446),i=r(518),o=r(722),u=r(393),a=new u;function s(h,m){typeof h=="string"?this.script=h||null:(this.script=null,m=h),this.workers=[],this.tasks=[],m=m||{},this.name=m.name,this.forkArgs=Object.freeze(m.forkArgs||[]),this.forkOpts=Object.freeze(m.forkOpts||{}),this.debugPortStart=m.debugPortStart||43210,this.nodeWorker=m.nodeWorker,this.workerType=m.workerType||m.nodeWorker||"auto",this.maxQueueSize=m.maxQueueSize||1/0,this.onCreateWorker=m.onCreateWorker||function(){return null},this.onTerminateWorker=m.onTerminateWorker||function(){return null},m&&"maxWorkers"in m?(c(m.maxWorkers),this.maxWorkers=m.maxWorkers):this.maxWorkers=Math.max((o.cpus||4)-1,1),m&&"minWorkers"in m&&(m.minWorkers==="max"?this.minWorkers=this.maxWorkers:(l(m.minWorkers),this.minWorkers=m.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&i.ensureWorkerThreads()}s.prototype.exec=function(h,m,d){if(m&&!Array.isArray(m))throw new TypeError(\'Array expected as argument "params"\');if(typeof h=="string"){var b=n.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var w=this.tasks,T={method:h,params:m,resolver:b,timeout:null,options:d};w.push(T);var A=b.promise.timeout;return b.promise.timeout=function(F){return w.indexOf(T)!==-1?(T.timeout=F,b.promise):A.call(b.promise,F)},this._next(),b.promise}else{if(typeof h=="function")return this.exec("run",[String(h),m]);throw new TypeError(\'Function or string expected as argument "method"\')}},s.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var h=this;return this.exec("methods").then(function(m){var d={};return m.forEach(function(b){d[b]=function(){return h.exec(b,Array.prototype.slice.call(arguments))}}),d})},s.prototype._next=function(){if(this.tasks.length>0){var h=this._getWorker();if(h){var m=this,d=this.tasks.shift();if(d.resolver.promise.pending){var b=h.exec(d.method,d.params,d.resolver,d.options).then(m._boundNext).catch(function(){if(h.terminated)return m._removeWorker(h)}).then(function(){m._next()});typeof d.timeout=="number"&&b.timeout(d.timeout)}else m._next()}}},s.prototype._getWorker=function(){for(var h=this.workers,m=0;m<h.length;m++){var d=h[m];if(d.busy()===!1)return d}return h.length<this.maxWorkers?(d=this._createWorkerHandler(),h.push(d),d):null},s.prototype._removeWorker=function(h){var m=this;return a.releasePort(h.debugPort),this._removeWorkerFromList(h),this._ensureMinWorkers(),new n(function(d,b){h.terminate(!1,function(w){m.onTerminateWorker({forkArgs:h.forkArgs,forkOpts:h.forkOpts,script:h.script}),w?b(w):d(h)})})},s.prototype._removeWorkerFromList=function(h){var m=this.workers.indexOf(h);m!==-1&&this.workers.splice(m,1)},s.prototype.terminate=function(h,m){var d=this;this.tasks.forEach(function(q){q.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var b=function(F){this._removeWorkerFromList(F)},w=b.bind(this),T=[],A=this.workers.slice();return A.forEach(function(q){var F=q.terminateAndNotify(h,m).then(w).always(function(){d.onTerminateWorker({forkArgs:q.forkArgs,forkOpts:q.forkOpts,script:q.script})});T.push(F)}),n.all(T)},s.prototype.stats=function(){var h=this.workers.length,m=this.workers.filter(function(d){return d.busy()}).length;return{totalWorkers:h,busyWorkers:m,idleWorkers:h-m,pendingTasks:this.tasks.length,activeTasks:m}},s.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var h=this.workers.length;h<this.minWorkers;h++)this.workers.push(this._createWorkerHandler())},s.prototype._createWorkerHandler=function(){var h=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,script:this.script})||{};return new i(h.script||this.script,{forkArgs:h.forkArgs||this.forkArgs,forkOpts:h.forkOpts||this.forkOpts,debugPort:a.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,name:this.name})};function c(h){if(!x(h)||!g(h)||h<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function l(h){if(!x(h)||!g(h)||h<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function x(h){return typeof h=="number"}function g(h){return Math.round(h)==h}e.exports=s},446:function(e){"use strict";function t(o,u){var a=this;if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(typeof o!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var s=[],c=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var l=function(m,d){s.push(m),c.push(d)};this.then=function(h,m){return new t(function(d,b){var w=h?r(h,d,b):d,T=m?r(m,d,b):b;l(w,T)},a)};var x=function(m){return a.resolved=!0,a.rejected=!1,a.pending=!1,s.forEach(function(d){d(m)}),l=function(b,w){b(m)},x=g=function(){},a},g=function(m){return a.resolved=!1,a.rejected=!0,a.pending=!1,c.forEach(function(d){d(m)}),l=function(b,w){w(m)},x=g=function(){},a};this.cancel=function(){return u?u.cancel():g(new n),a},this.timeout=function(h){if(u)u.timeout(h);else{var m=setTimeout(function(){g(new i("Promise timed out after "+h+" ms"))},h);a.always(function(){clearTimeout(m)})}return a},o(function(h){x(h)},function(h){g(h)})}function r(o,u,a){return function(s){try{var c=o(s);c&&typeof c.then=="function"&&typeof c.catch=="function"?c.then(u,a):u(c)}catch(l){a(l)}}}t.prototype.catch=function(o){return this.then(null,o)},t.prototype.always=function(o){return this.then(o,o)},t.all=function(o){return new t(function(u,a){var s=o.length,c=[];s?o.forEach(function(l,x){l.then(function(g){c[x]=g,s--,s==0&&u(c)},function(g){s=0,a(g)})}):u(c)})},t.defer=function(){var o={};return o.promise=new t(function(u,a){o.resolve=u,o.reject=a}),o};function n(o){this.message=o||"promise cancelled",this.stack=new Error().stack}n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="CancellationError",t.CancellationError=n;function i(o){this.message=o||"timeout exceeded",this.stack=new Error().stack}i.prototype=new Error,i.prototype.constructor=Error,i.prototype.name="TimeoutError",t.TimeoutError=i,e.exports=t},518:function(e,t,r){"use strict";function n(v,_){var E=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!E){if(Array.isArray(v)||(E=i(v))||_&&v&&typeof v.length=="number"){E&&(v=E);var L=0,S=function(){};return{s:S,n:function(){return L>=v.length?{done:!0}:{done:!1,value:v[L++]}},e:function(N){throw N},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var O=!0,M=!1,D;return{s:function(){E=E.call(v)},n:function(){var N=E.next();return O=N.done,N},e:function(N){M=!0,D=N},f:function(){try{!O&&E.return!=null&&E.return()}finally{if(M)throw D}}}}function i(v,_){if(!!v){if(typeof v=="string")return o(v,_);var E=Object.prototype.toString.call(v).slice(8,-1);if(E==="Object"&&v.constructor&&(E=v.constructor.name),E==="Map"||E==="Set")return Array.from(v);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return o(v,_)}}function o(v,_){(_==null||_>v.length)&&(_=v.length);for(var E=0,L=new Array(_);E<_;E++)L[E]=v[E];return L}function u(v){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},u(v)}var a=r(446),s=r(722),c=r(781),l=r(162),x=l.IFrameWorker,g="__workerpool-terminate__",h=1e3;function m(){var v=b();if(!v)throw new Error("WorkerPool: workerType = \'thread\' is not supported, Node >= 11.7.0 required");return v}function d(){if(typeof Worker!="function"&&((typeof Worker>"u"?"undefined":u(Worker))!=="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function b(){try{return c("worker_threads")}catch(v){if(u(v)==="object"&&v!==null&&v.code==="MODULE_NOT_FOUND")return null;throw v}}function w(){if(s.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var v=new Blob([r(710)],{type:"text/javascript"});return window.URL.createObjectURL(v)}else return __dirname+"/worker.js"}function T(v,_){if(_.workerType==="iframe")return A(v,x,_);if(_.workerType==="web")return d(),A(v,Worker,_);if(_.workerType==="thread")return E=m(),q(v,E);if(_.workerType==="process"||!_.workerType)return F(v,k(_),c("child_process"));if(s.platform==="browser")return d(),A(v,Worker);var E=b();return E?q(v,E):F(v,k(_),c("child_process"))}function A(v,_,E){var L=new _(v,E!=null&&E.name?{name:"".concat(E.name,"-").concat(Date.now())}:void 0);return L.isBrowserWorker=!0,L.on=function(S,O){this.addEventListener(S,function(M){O(M.data)})},L.send=function(S){this.postMessage(S)},L}function q(v,_){var E=new _.Worker(v,{stdout:!1,stderr:!1});return E.isWorkerThread=!0,E.send=function(L){this.postMessage(L)},E.kill=function(){return this.terminate(),!0},E.disconnect=function(){this.terminate()},E}function F(v,_,E){var L=E.fork(v,_.forkArgs,_.forkOpts);return L.isChildProcess=!0,L}function k(v){v=v||{};var _=process.execArgv.join(" "),E=_.indexOf("--inspect")!==-1,L=_.indexOf("--debug-brk")!==-1,S=[];return E&&(S.push("--inspect="+v.debugPort),L&&S.push("--debug-brk")),process.execArgv.forEach(function(O){O.indexOf("--max-old-space-size")>-1&&S.push(O)}),Object.assign({},v,{forkArgs:v.forkArgs,forkOpts:Object.assign({},v.forkOpts,{execArgv:(v.forkOpts&&v.forkOpts.execArgv||[]).concat(S)})})}function P(v){for(var _=new Error(""),E=Object.keys(v),L=0;L<E.length;L++)_[E[L]]=v[E[L]];return _}function z(v,_){var E=this,L=_||{};this.script=v||w(),this.worker=T(this.script,L),this.debugPort=L.debugPort,this.forkOpts=L.forkOpts,this.forkArgs=L.forkArgs,v||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",function(D){if(!E.terminated)if(typeof D=="string"&&D==="ready")E.worker.ready=!0,O();else{var j=D.id,N=E.processing[j];N!==void 0&&(D.isEvent?N.options&&typeof N.options.on=="function"&&N.options.on(D.payload):(delete E.processing[j],E.terminating===!0&&E.terminate(),D.error?N.resolver.reject(P(D.error)):N.resolver.resolve(D.result)))}});function S(D){E.terminated=!0;for(var j in E.processing)E.processing[j]!==void 0&&E.processing[j].resolver.reject(D);E.processing=Object.create(null)}function O(){var D=n(E.requestQueue.splice(0)),j;try{for(D.s();!(j=D.n()).done;){var N=j.value;E.worker.send(N)}}catch(K){D.e(K)}finally{D.f()}}var M=this.worker;this.worker.on("error",S),this.worker.on("exit",function(D,j){var N=`Workerpool Worker terminated Unexpectedly\n`;N+="    exitCode: `"+D+"`\\n",N+="    signalCode: `"+j+"`\\n",N+="    workerpool.script: `"+E.script+"`\\n",N+="    spawnArgs: `"+M.spawnargs+"`\\n",N+="    spawnfile: `"+M.spawnfile+"`\\n",N+="    stdout: `"+M.stdout+"`\\n",N+="    stderr: `"+M.stderr+"`\\n",S(new Error(N))}),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.terminationHandler=null,this.lastId=0}z.prototype.methods=function(){return this.exec("methods")},z.prototype.exec=function(v,_,E,L){E||(E=a.defer());var S=++this.lastId;this.processing[S]={id:S,resolver:E,options:L};var O={id:S,method:v,params:_};this.terminated?E.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(O):this.requestQueue.push(O);var M=this;return E.promise.catch(function(D){if(D instanceof a.CancellationError||D instanceof a.TimeoutError)return delete M.processing[S],M.terminateAndNotify(!0).then(function(){throw D},function(j){throw j});throw D})},z.prototype.busy=function(){return Object.keys(this.processing).length>0},z.prototype.terminate=function(v,_){var E=this;if(v){for(var L in this.processing)this.processing[L]!==void 0&&this.processing[L].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if(typeof _=="function"&&(this.terminationHandler=_),this.busy())this.terminating=!0;else{var S=function(D){if(E.terminated=!0,E.worker!=null&&E.worker.removeAllListeners&&E.worker.removeAllListeners("message"),E.worker=null,E.terminating=!1,E.terminationHandler)E.terminationHandler(D,E);else if(D)throw D};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){S(new Error("worker already killed!"));return}if(this.worker.isChildProcess){var O=setTimeout(function(){E.worker&&E.worker.kill()},h);this.worker.once("exit",function(){clearTimeout(O),E.worker&&(E.worker.killed=!0),S()}),this.worker.ready?this.worker.send(g):this.requestQueue.push(g)}else this.worker.kill(),this.worker.killed=!0,S();return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");S()}},z.prototype.terminateAndNotify=function(v,_){var E=a.defer();return _&&(E.promise.timeout=_),this.terminate(v,function(L,S){L?E.reject(L):E.resolve(S)}),E.promise},e.exports=z,e.exports._tryRequireWorkerThreads=b,e.exports._setupProcessWorker=F,e.exports._setupBrowserWorker=A,e.exports._setupWorkerThreadWorker=q,e.exports.ensureWorkerThreads=m},393:function(e){"use strict";var t=65535;e.exports=r;function r(){this.ports=Object.create(null),this.length=0}r.prototype.nextAvailableStartingAt=function(n){for(;this.ports[n]===!0;)n++;if(n>=t)throw new Error("WorkerPool debug port limit reached: "+n+">= "+t);return this.ports[n]=!0,this.length++,n},r.prototype.releasePort=function(n){delete this.ports[n],this.length--}},722:function(e,t,r){var n=r(781),i=function(s){return typeof s<"u"&&s.versions!=null&&s.versions.node!=null};e.exports.isNode=i,e.exports.platform=typeof process<"u"&&i(process)?"node":"browser";var o=u("worker_threads");e.exports.isMainThread=e.exports.platform==="node"?(!o||o.isMainThread)&&!process.connected:typeof Window<"u",e.exports.cpus=e.exports.platform==="browser"?self.navigator.hardwareConcurrency:n("os").cpus().length;function u(a){try{return n(a)}catch{return null}}},710:function(e){e.exports=`!function(){var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(r){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(r)}var requireFoolWebpack=eval("typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module \\\\" + module + \\\\" not found.\') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(r,e){addEventListener(r,function(r){e(r.data)})},worker.send=function(r){postMessage(r)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(r,e){return Object.defineProperty(r,e,{value:o[e],enumerable:!0})},{})}function isPromise(r){return r&&"function"==typeof r.then&&"function"==typeof r.catch}worker.methods={},worker.methods.run=function(r,e){r=new Function("return ("+r+").apply(null, arguments);");return r.apply(r,e)},worker.methods.methods=function(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var r=worker.methods[e.method];if(!r)throw new Error(\'Unknown method "\'+e.method+\'"\');currentRequestId=e.id;var o=r.apply(r,e.params);isPromise(o)?o.then(function(r){worker.send({id:e.id,result:r,error:null}),currentRequestId=null}).catch(function(r){worker.send({id:e.id,result:null,error:convertError(r)}),currentRequestId=null}):(worker.send({id:e.id,result:o,error:null}),currentRequestId=null)}catch(r){worker.send({id:e.id,result:null,error:convertError(r)})}}),worker.register=function(r){if(r)for(var e in r)r.hasOwnProperty(e)&&(worker.methods[e]=r[e]);worker.send("ready")},worker.emit=function(r){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:r})},__webpack_unused_export__=worker.register,worker.emit}()}();`},781:function(module){var requireFoolWebpack=eval(`typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module " + module + " not found.\') }`);module.exports=requireFoolWebpack},52:function(__unused_webpack_module,exports){function _typeof(e){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(e)}var requireFoolWebpack=eval(`typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module " + module + " not found.\') }`),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function e(){}};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")worker.on=function(e,t){addEventListener(e,function(r){t(r.data)})},worker.send=function(e){postMessage(e)};else if(typeof process<"u"){var WorkerThreads;try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(e){if(!(_typeof(e)==="object"&&e!==null&&e.code==="MODULE_NOT_FOUND"))throw e}if(WorkerThreads&&WorkerThreads.parentPort!==null){var parentPort=WorkerThreads.parentPort;worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)}else worker.on=process.on.bind(process),worker.send=process.send.bind(process),worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process)}else throw new Error("Script must be executed as a worker");function convertError(e){return Object.getOwnPropertyNames(e).reduce(function(t,r){return Object.defineProperty(t,r,{value:e[r],enumerable:!0})},{})}function isPromise(e){return e&&typeof e.then=="function"&&typeof e.catch=="function"}worker.methods={},worker.methods.run=function e(t,r){var n=new Function("return ("+t+").apply(null, arguments);");return n.apply(n,r)},worker.methods.methods=function e(){return Object.keys(worker.methods)};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.exit(0);try{var t=worker.methods[e.method];if(t){currentRequestId=e.id;var r=t.apply(t,e.params);isPromise(r)?r.then(function(n){worker.send({id:e.id,result:n,error:null}),currentRequestId=null}).catch(function(n){worker.send({id:e.id,result:null,error:convertError(n)}),currentRequestId=null}):(worker.send({id:e.id,result:r,error:null}),currentRequestId=null)}else throw new Error(\'Unknown method "\'+e.method+\'"\')}catch(n){worker.send({id:e.id,result:null,error:convertError(n)})}}),worker.register=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(worker.methods[t]=e[t]);worker.send("ready")},worker.emit=function(e){currentRequestId&&worker.send({id:currentRequestId,isEvent:!0,payload:e})},exports.add=worker.register,exports.emit=worker.emit}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(t!==void 0)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}(function(){__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}})(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var __webpack_exports__={};return function(){var e=__webpack_exports__,t=__webpack_require__(722);e.pool=function(n,i){var o=__webpack_require__(799);return new o(n,i)},e.worker=function(n){var i=__webpack_require__(52);i.add(n)},e.workerEmit=function(n){var i=__webpack_require__(52);i.emit(n)},e.Promise=__webpack_require__(446),e.platform=t.platform,e.isMainThread=t.isMainThread,e.cpus=t.cpus}(),__webpack_exports__}()})});var yt=J(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.loggerCategory=void 0;var Ai=e=>`obsidian-zotero:${e}`;Xe.loggerCategory=Ai});var vr=J(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.toPage=se.multipleAnnotKeyPagePattern=se.annotKeyPagePattern=se.itemKeyGroupIdPattern=se.getItemKeyGroupID=void 0;var Ci=({key:e,groupID:t,parentItem:r},n=!1)=>{let i=[e];return!n&&r&&i.push(`a${r}`),typeof t=="number"&&i.push(`g${t}`),i.join("")};se.getItemKeyGroupID=Ci;var Er=(e,t,r=!0)=>(n,...i)=>{let o="";for(let u=0;u<n.length;u++)u>0&&(o+=e(i[u-1])),o+=(r?n.raw:n)[u];return t(o)},kt=(e=!0,t)=>Er(r=>r,r=>new RegExp(e?"^"+r+"$":r,t),!0),bt=String.raw`[23456789ABCDEFGHIJKLMNPQRSTUVWXYZ]{8}`,Et=String.raw`\\d+`,br=e=>{let t={annotKey:bt,parentKey:bt,groupID:Et,page:Et};if(e)for(let r in t)t[r]=`(${t[r]})`;return Er(r=>t[r],r=>r)`${"annotKey"}a${"parentKey"}(?:g${"groupID"})?(?:p${"page"})?`};se.itemKeyGroupIdPattern=kt()`${bt}(?:g${Et})?`,se.annotKeyPagePattern=kt()`${br(!0)}`,se.multipleAnnotKeyPagePattern=kt()`(?:${br(!1)}n?)+`;var _i=(e,t)=>{if(e===null)return null;let r;return typeof e=="number"?r=e:r=parseInt(e,10),Number.isInteger(r)?t?r+1:r:null};se.toPage=_i});var Sr=J(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.multipartToStr=pe.multipartToSQL=pe.isMultipart=void 0;var Ti=/^[0-9]{4}\\-(0[0-9]|10|11|12)\\-(0[0-9]|[1-2][0-9]|30|31) /,Ii=/^\\-?[0-9]{4}\\-(0[1-9]|10|11|12)\\-(0[1-9]|[1-2][0-9]|30|31) ([0-1][0-9]|[2][0-3]):([0-5][0-9]):([0-5][0-9])$/,Li=/^\\-?[0-9]{4}\\-(0[1-9]|10|11|12)\\-(0[1-9]|[1-2][0-9]|30|31) ([0-1][0-9]|[2][0-3]):([0-5][0-9])$/,Fi=e=>Pi(e)||Di(e)?!1:Ti.test(e);pe.isMultipart=Fi;var qi=e=>e?(0,pe.isMultipart)(e)?e.substring(0,10):"0000-00-00":"";pe.multipartToSQL=qi;var Oi=e=>e?(0,pe.isMultipart)(e)?e.substring(11):e:"";pe.multipartToStr=Oi;var Pi=e=>Ii.test(e),Di=e=>Li.test(e)});var Ar=J(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.logLevels=Le.initLogger=void 0;var Ri=yt(),zi=(e,t,{getLogger:r,configure:n})=>{let i=(0,Ri.loggerCategory)(e);return n({appenders:{out:{type:"console"}},categories:{default:{appenders:["out"],level:t},[i]:{appenders:["out"],level:t}}}),r(i)};Le.initLogger=zi;Le.logLevels={ALL:"ALL",TRACE:"TRACE",DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",FATAL:"FATAL",MARK:"MARK",OFF:"OFF"}});var Cr=J(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.enumerate=void 0;var Ni=()=>(...e)=>e;et.enumerate=Ni});var _r={};xr(_r,{after:()=>vt,around:()=>Bi,dedupe:()=>ji,serialize:()=>Wi});function Bi(e,t){let r=Object.keys(t).map(n=>Mi(e,n,t[n]));return r.length===1?r[0]:function(){r.forEach(n=>n())}}function Mi(e,t,r){let n=e[t],i=e.hasOwnProperty(t),o=r(n);return n&&Object.setPrototypeOf(o,n),Object.setPrototypeOf(u,o),e[t]=u,a;function u(...s){return o===n&&e[t]===u&&a(),o.apply(this,s)}function a(){e[t]===u&&(i?e[t]=n:delete e[t]),o!==n&&(o=n,Object.setPrototypeOf(u,n||Function))}}function ji(e,t,r){return n[e]=e,n;function n(...i){return(t[e]===e?t:r).apply(this,i)}}function vt(e,t){return e.then(t,t)}function Wi(e){let t=Promise.resolve();function r(...n){return t=new Promise((i,o)=>{vt(t,()=>{e.apply(this,n).then(i,o)})})}return r.after=function(){return t=new Promise((n,i)=>{vt(t,n)})},r}var Tr=vi(()=>{});var Ir=J(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.logError=void 0;var Ui=(Tr(),Si(_r)),Hi=e=>{let t=r=>async(...n)=>{try{return await r(...n)}catch(i){throw console.error(i),i}};return(0,Ui.around)(e,Object.fromEntries(Object.keys(e).map(r=>[r,t]))),e};tt.logError=Hi});var Lr=J(ee=>{"use strict";var Vi=ee&&ee.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Be=ee&&ee.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vi(t,e,r)};Object.defineProperty(ee,"__esModule",{value:!0});ee.betterSqlite3=ee.constants=void 0;ee.constants=yt();Be(vr(),ee);Be(Sr(),ee);Be(Ar(),ee);Be(Cr(),ee);Be(Ir(),ee);var Qi=e=>`better-sqlite3-${e}.node`;ee.betterSqlite3=Qi});var Ht=J((ip,cn)=>{cn.exports=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}});var yn=J((op,xn)=>{"use strict";var ft=Object.prototype.hasOwnProperty,wn=Object.prototype.toString,pn=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,hn=function(t){return typeof Array.isArray=="function"?Array.isArray(t):wn.call(t)==="[object Array]"},mn=function(t){if(!t||wn.call(t)!=="[object Object]")return!1;var r=ft.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&ft.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||ft.call(t,i)},dn=function(t,r){pn&&r.name==="__proto__"?pn(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},gn=function(t,r){if(r==="__proto__")if(ft.call(t,r)){if(fn)return fn(t,r).value}else return;return t[r]};xn.exports=function e(){var t,r,n,i,o,u,a=arguments[0],s=1,c=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},s=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});s<c;++s)if(t=arguments[s],t!=null)for(r in t)n=gn(a,r),i=gn(t,r),a!==i&&(l&&i&&(mn(i)||(o=hn(i)))?(o?(o=!1,u=n&&hn(n)?n:[]):u=n&&mn(n)?n:{},dn(a,{name:r,newValue:e(l,u,i)})):typeof i<"u"&&dn(a,{name:r,newValue:i}));return a}});var or=J(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});function ma(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="-"||e==="_"}oe.isIdentStart=ma;function da(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="-"||e==="_"}oe.isIdent=da;function ga(e){return e>="a"&&e<="f"||e>="A"&&e<="F"||e>="0"&&e<="9"}oe.isHex=ga;function wa(e){for(var t=e.length,r="",n=0;n<t;){var i=e.charAt(n);if(oe.identSpecialChars[i])r+="\\\\"+i;else if(i==="_"||i==="-"||i>="A"&&i<="Z"||i>="a"&&i<="z"||n!==0&&i>="0"&&i<="9")r+=i;else{var o=i.charCodeAt(0);if((o&63488)===55296){var u=e.charCodeAt(n++);if((o&64512)!==55296||(u&64512)!==56320)throw Error("UCS-2(decode): illegal sequence");o=((o&1023)<<10)+(u&1023)+65536}r+="\\\\"+o.toString(16)+" "}n++}return r}oe.escapeIdentifier=wa;function xa(e){for(var t=e.length,r="",n=0,i;n<t;){var o=e.charAt(n);o===\'"\'?o=\'\\\\"\':o==="\\\\"?o="\\\\\\\\":(i=oe.strReplacementsRev[o])!==void 0&&(o=i),r+=o,n++}return\'"\'+r+\'"\'}oe.escapeStr=xa;oe.identSpecialChars={"!":!0,\'"\':!0,"#":!0,$:!0,"%":!0,"&":!0,"\'":!0,"(":!0,")":!0,"*":!0,"+":!0,",":!0,".":!0,"/":!0,";":!0,"<":!0,"=":!0,">":!0,"?":!0,"@":!0,"[":!0,"\\\\":!0,"]":!0,"^":!0,"`":!0,"{":!0,"|":!0,"}":!0,"~":!0};oe.strReplacementsRev={"\\n":"\\\\n","\\r":"\\\\r","	":"\\\\t","\\f":"\\\\f","\\v":"\\\\v"};oe.singleQuoteEscapeChars={n:`\n`,r:"\\r",t:"	",f:"\\f","\\\\":"\\\\","\'":"\'"};oe.doubleQuotesEscapeChars={n:`\n`,r:"\\r",t:"	",f:"\\f","\\\\":"\\\\",\'"\':\'"\'}});var Hn=J(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});var ce=or();function ya(e,t,r,n,i,o){var u=e.length,a="";function s(d,b){var w="";for(t++,a=e.charAt(t);t<u;){if(a===d)return t++,w;if(a==="\\\\"){t++,a=e.charAt(t);var T=void 0;if(a===d)w+=d;else if((T=b[a])!==void 0)w+=T;else if(ce.isHex(a)){var A=a;for(t++,a=e.charAt(t);ce.isHex(a);)A+=a,t++,a=e.charAt(t);a===" "&&(t++,a=e.charAt(t)),w+=String.fromCharCode(parseInt(A,16));continue}else w+=a}else w+=a;t++,a=e.charAt(t)}return w}function c(){var d="";for(a=e.charAt(t);t<u;){if(ce.isIdent(a))d+=a;else if(a==="\\\\"){if(t++,t>=u)throw Error("Expected symbol but end of file reached.");if(a=e.charAt(t),ce.identSpecialChars[a])d+=a;else if(ce.isHex(a)){var b=a;for(t++,a=e.charAt(t);ce.isHex(a);)b+=a,t++,a=e.charAt(t);a===" "&&(t++,a=e.charAt(t)),d+=String.fromCharCode(parseInt(b,16));continue}else d+=a}else return d;t++,a=e.charAt(t)}return d}function l(){a=e.charAt(t);for(var d=!1;a===" "||a==="	"||a===`\n`||a==="\\r"||a==="\\f";)d=!0,t++,a=e.charAt(t);return d}function x(){var d=g();if(t<u)throw Error(\'Rule expected but "\'+e.charAt(t)+\'" found.\');return d}function g(){var d=h();if(!d)return null;var b=d;for(a=e.charAt(t);a===",";){if(t++,l(),b.type!=="selectors"&&(b={type:"selectors",selectors:[d]}),d=h(),!d)throw Error(\'Rule expected after ",".\');b.selectors.push(d)}return b}function h(){l();var d={type:"ruleSet"},b=m();if(!b)return null;for(var w=d;b&&(b.type="rule",w.rule=b,w=b,l(),a=e.charAt(t),!(t>=u||a===","||a===")"));)if(i[a]){var T=a;if(t++,l(),b=m(),!b)throw Error(\'Rule expected after "\'+T+\'".\');b.nestingOperator=T}else b=m(),b&&(b.nestingOperator=null);return d}function m(){for(var d=null;t<u;)if(a=e.charAt(t),a==="*")t++,(d=d||{}).tagName="*";else if(ce.isIdentStart(a)||a==="\\\\")(d=d||{}).tagName=c();else if(a===".")t++,d=d||{},(d.classNames=d.classNames||[]).push(c());else if(a==="#")t++,(d=d||{}).id=c();else if(a==="["){t++,l();var b={name:c()};if(l(),a==="]")t++;else{var w="";if(n[a]&&(w=a,t++,a=e.charAt(t)),t>=u)throw Error(\'Expected "=" but end of file reached.\');if(a!=="=")throw Error(\'Expected "=" but "\'+a+\'" found.\');b.operator=w+"=",t++,l();var T="";if(b.valueType="string",a===\'"\')T=s(\'"\',ce.doubleQuotesEscapeChars);else if(a==="\'")T=s("\'",ce.singleQuoteEscapeChars);else if(o&&a==="$")t++,T=c(),b.valueType="substitute";else{for(;t<u&&a!=="]";)T+=a,t++,a=e.charAt(t);T=T.trim()}if(l(),t>=u)throw Error(\'Expected "]" but end of file reached.\');if(a!=="]")throw Error(\'Expected "]" but "\'+a+\'" found.\');t++,b.value=T}d=d||{},(d.attrs=d.attrs||[]).push(b)}else if(a===":"){t++;var A=c(),q={name:A};if(a==="("){t++;var F="";if(l(),r[A]==="selector")q.valueType="selector",F=g();else{if(q.valueType=r[A]||"string",a===\'"\')F=s(\'"\',ce.doubleQuotesEscapeChars);else if(a==="\'")F=s("\'",ce.singleQuoteEscapeChars);else if(o&&a==="$")t++,F=c(),q.valueType="substitute";else{for(;t<u&&a!==")";)F+=a,t++,a=e.charAt(t);F=F.trim()}l()}if(t>=u)throw Error(\'Expected ")" but end of file reached.\');if(a!==")")throw Error(\'Expected ")" but "\'+a+\'" found.\');t++,q.value=F}d=d||{},(d.pseudos=d.pseudos||[]).push(q)}else break;return d}return x()}ur.parseCssSelector=ya});var Vn=J(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});var ue=or();function dt(e){var t="";switch(e.type){case"ruleSet":for(var r=e.rule,n=[];r;)r.nestingOperator&&n.push(r.nestingOperator),n.push(dt(r)),r=r.rule;t=n.join(" ");break;case"selectors":t=e.selectors.map(dt).join(", ");break;case"rule":e.tagName&&(e.tagName==="*"?t="*":t=ue.escapeIdentifier(e.tagName)),e.id&&(t+="#"+ue.escapeIdentifier(e.id)),e.classNames&&(t+=e.classNames.map(function(i){return"."+ue.escapeIdentifier(i)}).join("")),e.attrs&&(t+=e.attrs.map(function(i){return"operator"in i?i.valueType==="substitute"?"["+ue.escapeIdentifier(i.name)+i.operator+"$"+i.value+"]":"["+ue.escapeIdentifier(i.name)+i.operator+ue.escapeStr(i.value)+"]":"["+ue.escapeIdentifier(i.name)+"]"}).join("")),e.pseudos&&(t+=e.pseudos.map(function(i){return i.valueType?i.valueType==="selector"?":"+ue.escapeIdentifier(i.name)+"("+dt(i.value)+")":i.valueType==="substitute"?":"+ue.escapeIdentifier(i.name)+"($"+i.value+")":i.valueType==="numeric"?":"+ue.escapeIdentifier(i.name)+"("+i.value+")":":"+ue.escapeIdentifier(i.name)+"("+ue.escapeIdentifier(i.value)+")":":"+ue.escapeIdentifier(i.name)}).join(""));break;default:throw Error(\'Unknown entity type: "\'+e.type+\'".\')}return t}ar.renderEntity=dt});var Qn=J(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});var ka=Hn(),ba=Vn(),Ea=function(){function e(){this.pseudos={},this.attrEqualityMods={},this.ruleNestingOperators={},this.substitutesEnabled=!1}return e.prototype.registerSelectorPseudos=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.pseudos[o]="selector"}return this},e.prototype.unregisterSelectorPseudos=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];delete this.pseudos[o]}return this},e.prototype.registerNumericPseudos=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.pseudos[o]="numeric"}return this},e.prototype.unregisterNumericPseudos=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];delete this.pseudos[o]}return this},e.prototype.registerNestingOperators=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.ruleNestingOperators[o]=!0}return this},e.prototype.unregisterNestingOperators=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];delete this.ruleNestingOperators[o]}return this},e.prototype.registerAttrEqualityMods=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];this.attrEqualityMods[o]=!0}return this},e.prototype.unregisterAttrEqualityMods=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=0,i=t;n<i.length;n++){var o=i[n];delete this.attrEqualityMods[o]}return this},e.prototype.enableSubstitutes=function(){return this.substitutesEnabled=!0,this},e.prototype.disableSubstitutes=function(){return this.substitutesEnabled=!1,this},e.prototype.parse=function(t){return ka.parseCssSelector(t,0,this.pseudos,this.attrEqualityMods,this.ruleNestingOperators,this.substitutesEnabled)},e.prototype.render=function(t){return ba.renderEntity(t).trim()},e}();sr.CssSelectorParser=Ea});var Zn=J((of,Kn)=>{Kn.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}});var ii=J(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});function ni(e,t){if(t)return e;throw new Error("Unhandled discriminated union member: "+JSON.stringify(e))}wt.assertNever=ni;wt.default=ni});var ai=xe(kr()),si=xe(Lr());function qr(e,t){var{includeImageAlt:r=!0}=t||{};return Or(e,r)}function Or(e,t){return e&&typeof e=="object"&&(e.value||(t?e.alt:"")||"children"in e&&Fr(e.children,t)||Array.isArray(e)&&Fr(e,t))||""}function Fr(e,t){for(var r=[],n=-1;++n<e.length;)r[n]=Or(e[n],t);return r.join("")}function Y(e,t,r,n){let i=e.length,o=0,u;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)u=Array.from(n),u.unshift(t,r),[].splice.apply(e,u);else for(r&&[].splice.apply(e,[t,r]);o<n.length;)u=n.slice(o,o+1e4),u.unshift(t,0),[].splice.apply(e,u),o+=1e4,t+=1e4}function te(e,t){return e.length>0?(Y(e,e.length,0,t),e):t}var Pr={}.hasOwnProperty;function Dr(e){let t={},r=-1;for(;++r<e.length;)Gi(t,e[r]);return t}function Gi(e,t){let r;for(r in t){let i=(Pr.call(e,r)?e[r]:void 0)||(e[r]={}),o=t[r],u;for(u in o){Pr.call(i,u)||(i[u]=[]);let a=o[u];$i(i[u],Array.isArray(a)?a:a?[a]:[])}}}function $i(e,t){let r=-1,n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Y(e,0,0,n)}var Rr=/[!-/:-@[-`{-~\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u09FD\\u0A76\\u0AF0\\u0C77\\u0C84\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E4F\\u2E52\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/;var ie=ye(/[A-Za-z]/),Me=ye(/\\d/),zr=ye(/[\\dA-Fa-f]/),re=ye(/[\\dA-Za-z]/),Nr=ye(/[!-/:-@[-`{-~]/),St=ye(/[#-\'*+\\--9=?A-Z^-~]/);function je(e){return e!==null&&(e<32||e===127)}function G(e){return e!==null&&(e<0||e===32)}function I(e){return e!==null&&e<-2}function W(e){return e===-2||e===-1||e===32}var Br=ye(/\\s/),Mr=ye(Rr);function ye(e){return t;function t(r){return r!==null&&e.test(String.fromCharCode(r))}}function R(e,t,r,n){let i=n?n-1:Number.POSITIVE_INFINITY,o=0;return u;function u(s){return W(s)?(e.enter(r),a(s)):t(s)}function a(s){return W(s)&&o++<i?(e.consume(s),a):(e.exit(r),t(s))}}var jr={tokenize:Ki};function Ki(e){let t=e.attempt(this.parser.constructs.contentInitial,n,i),r;return t;function n(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),R(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){let s=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=s),r=s,u(a)}function u(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return I(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),u)}}var Ur={tokenize:Zi},Wr={tokenize:Yi};function Zi(e){let t=this,r=[],n=0,i,o,u;return a;function a(A){if(n<r.length){let q=r[n];return t.containerState=q[1],e.attempt(q[0].continuation,s,c)(A)}return c(A)}function s(A){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&T();let q=t.events.length,F=q,k;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){k=t.events[F][1].end;break}w(n);let P=q;for(;P<t.events.length;)t.events[P][1].end=Object.assign({},k),P++;return Y(t.events,F+1,0,t.events.slice(q)),t.events.length=P,c(A)}return a(A)}function c(A){if(n===r.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return m(A);t.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Wr,l,x)(A)}function l(A){return i&&T(),w(n),g(A)}function x(A){return t.parser.lazy[t.now().line]=n!==r.length,u=t.now().offset,m(A)}function g(A){return t.containerState={},e.attempt(Wr,h,m)(A)}function h(A){return n++,r.push([t.currentConstruct,t.containerState]),g(A)}function m(A){if(A===null){i&&T(),w(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),d(A)}function d(A){if(A===null){b(e.exit("chunkFlow"),!0),w(0),e.consume(A);return}return I(A)?(e.consume(A),b(e.exit("chunkFlow")),n=0,t.interrupt=void 0,a):(e.consume(A),d)}function b(A,q){let F=t.sliceStream(A);if(q&&F.push(null),A.previous=o,o&&(o.next=A),o=A,i.defineSkip(A.start),i.write(F),t.parser.lazy[A.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<u&&(!i.events[k][1].end||i.events[k][1].end.offset>u))return;let P=t.events.length,z=P,v,_;for(;z--;)if(t.events[z][0]==="exit"&&t.events[z][1].type==="chunkFlow"){if(v){_=t.events[z][1].end;break}v=!0}for(w(n),k=P;k<t.events.length;)t.events[k][1].end=Object.assign({},_),k++;Y(t.events,z+1,0,t.events.slice(P)),t.events.length=k}}function w(A){let q=r.length;for(;q-- >A;){let F=r[q];t.containerState=F[1],F[0].exit.call(t,e)}r.length=A}function T(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Yi(e,t,r){return R(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function At(e){if(e===null||G(e)||Br(e))return 1;if(Mr(e))return 2}function Fe(e,t,r){let n=[],i=-1;for(;++i<e.length;){let o=e[i].resolveAll;o&&!n.includes(o)&&(t=o(t,r),n.push(o))}return t}var We={name:"attention",tokenize:Xi,resolveAll:Ji};function Ji(e,t){let r=-1,n,i,o,u,a,s,c,l;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;s=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;let x=Object.assign({},e[n][1].end),g=Object.assign({},e[r][1].start);Hr(x,-s),Hr(g,s),u={type:s>1?"strongSequence":"emphasisSequence",start:x,end:Object.assign({},e[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:g},o={type:s>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[r][1].start)},i={type:s>1?"strong":"emphasis",start:Object.assign({},u.start),end:Object.assign({},a.end)},e[n][1].end=Object.assign({},u.start),e[r][1].start=Object.assign({},a.end),c=[],e[n][1].end.offset-e[n][1].start.offset&&(c=te(c,[["enter",e[n][1],t],["exit",e[n][1],t]])),c=te(c,[["enter",i,t],["enter",u,t],["exit",u,t],["enter",o,t]]),c=te(c,Fe(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),c=te(c,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(l=2,c=te(c,[["enter",e[r][1],t],["exit",e[r][1],t]])):l=0,Y(e,n-1,r-n+3,c),r=n+c.length-l-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function Xi(e,t){let r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=At(n),o;return u;function u(s){return e.enter("attentionSequence"),o=s,a(s)}function a(s){if(s===o)return e.consume(s),a;let c=e.exit("attentionSequence"),l=At(s),x=!l||l===2&&i||r.includes(s),g=!i||i===2&&l||r.includes(n);return c._open=Boolean(o===42?x:x&&(i||!g)),c._close=Boolean(o===42?g:g&&(l||!x)),t(s)}}function Hr(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}var Ct={name:"autolink",tokenize:eo};function eo(e,t,r){let n=1;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return ie(m)?(e.consume(m),u):St(m)?c(m):r(m)}function u(m){return m===43||m===45||m===46||re(m)?a(m):c(m)}function a(m){return m===58?(e.consume(m),s):(m===43||m===45||m===46||re(m))&&n++<32?(e.consume(m),a):c(m)}function s(m){return m===62?(e.exit("autolinkProtocol"),h(m)):m===null||m===32||m===60||je(m)?r(m):(e.consume(m),s)}function c(m){return m===64?(e.consume(m),n=0,l):St(m)?(e.consume(m),c):r(m)}function l(m){return re(m)?x(m):r(m)}function x(m){return m===46?(e.consume(m),n=0,l):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",h(m)):g(m)}function g(m){return(m===45||re(m))&&n++<63?(e.consume(m),m===45?g:x):r(m)}function h(m){return e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t}}var ke={tokenize:to,partial:!0};function to(e,t,r){return R(e,n,"linePrefix");function n(i){return i===null||I(i)?t(i):r(i)}}var rt={name:"blockQuote",tokenize:ro,continuation:{tokenize:no},exit:io};function ro(e,t,r){let n=this;return i;function i(u){if(u===62){let a=n.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(u),e.exit("blockQuoteMarker"),o}return r(u)}function o(u){return W(u)?(e.enter("blockQuotePrefixWhitespace"),e.consume(u),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(u))}}function no(e,t,r){return R(e,e.attempt(rt,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function io(e){e.exit("blockQuote")}var nt={name:"characterEscape",tokenize:oo};function oo(e,t,r){return n;function n(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return Nr(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(o)}}var _t={AElig:"\\xC6",AMP:"&",Aacute:"\\xC1",Abreve:"\\u0102",Acirc:"\\xC2",Acy:"\\u0410",Afr:"\\u{1D504}",Agrave:"\\xC0",Alpha:"\\u0391",Amacr:"\\u0100",And:"\\u2A53",Aogon:"\\u0104",Aopf:"\\u{1D538}",ApplyFunction:"\\u2061",Aring:"\\xC5",Ascr:"\\u{1D49C}",Assign:"\\u2254",Atilde:"\\xC3",Auml:"\\xC4",Backslash:"\\u2216",Barv:"\\u2AE7",Barwed:"\\u2306",Bcy:"\\u0411",Because:"\\u2235",Bernoullis:"\\u212C",Beta:"\\u0392",Bfr:"\\u{1D505}",Bopf:"\\u{1D539}",Breve:"\\u02D8",Bscr:"\\u212C",Bumpeq:"\\u224E",CHcy:"\\u0427",COPY:"\\xA9",Cacute:"\\u0106",Cap:"\\u22D2",CapitalDifferentialD:"\\u2145",Cayleys:"\\u212D",Ccaron:"\\u010C",Ccedil:"\\xC7",Ccirc:"\\u0108",Cconint:"\\u2230",Cdot:"\\u010A",Cedilla:"\\xB8",CenterDot:"\\xB7",Cfr:"\\u212D",Chi:"\\u03A7",CircleDot:"\\u2299",CircleMinus:"\\u2296",CirclePlus:"\\u2295",CircleTimes:"\\u2297",ClockwiseContourIntegral:"\\u2232",CloseCurlyDoubleQuote:"\\u201D",CloseCurlyQuote:"\\u2019",Colon:"\\u2237",Colone:"\\u2A74",Congruent:"\\u2261",Conint:"\\u222F",ContourIntegral:"\\u222E",Copf:"\\u2102",Coproduct:"\\u2210",CounterClockwiseContourIntegral:"\\u2233",Cross:"\\u2A2F",Cscr:"\\u{1D49E}",Cup:"\\u22D3",CupCap:"\\u224D",DD:"\\u2145",DDotrahd:"\\u2911",DJcy:"\\u0402",DScy:"\\u0405",DZcy:"\\u040F",Dagger:"\\u2021",Darr:"\\u21A1",Dashv:"\\u2AE4",Dcaron:"\\u010E",Dcy:"\\u0414",Del:"\\u2207",Delta:"\\u0394",Dfr:"\\u{1D507}",DiacriticalAcute:"\\xB4",DiacriticalDot:"\\u02D9",DiacriticalDoubleAcute:"\\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\\u02DC",Diamond:"\\u22C4",DifferentialD:"\\u2146",Dopf:"\\u{1D53B}",Dot:"\\xA8",DotDot:"\\u20DC",DotEqual:"\\u2250",DoubleContourIntegral:"\\u222F",DoubleDot:"\\xA8",DoubleDownArrow:"\\u21D3",DoubleLeftArrow:"\\u21D0",DoubleLeftRightArrow:"\\u21D4",DoubleLeftTee:"\\u2AE4",DoubleLongLeftArrow:"\\u27F8",DoubleLongLeftRightArrow:"\\u27FA",DoubleLongRightArrow:"\\u27F9",DoubleRightArrow:"\\u21D2",DoubleRightTee:"\\u22A8",DoubleUpArrow:"\\u21D1",DoubleUpDownArrow:"\\u21D5",DoubleVerticalBar:"\\u2225",DownArrow:"\\u2193",DownArrowBar:"\\u2913",DownArrowUpArrow:"\\u21F5",DownBreve:"\\u0311",DownLeftRightVector:"\\u2950",DownLeftTeeVector:"\\u295E",DownLeftVector:"\\u21BD",DownLeftVectorBar:"\\u2956",DownRightTeeVector:"\\u295F",DownRightVector:"\\u21C1",DownRightVectorBar:"\\u2957",DownTee:"\\u22A4",DownTeeArrow:"\\u21A7",Downarrow:"\\u21D3",Dscr:"\\u{1D49F}",Dstrok:"\\u0110",ENG:"\\u014A",ETH:"\\xD0",Eacute:"\\xC9",Ecaron:"\\u011A",Ecirc:"\\xCA",Ecy:"\\u042D",Edot:"\\u0116",Efr:"\\u{1D508}",Egrave:"\\xC8",Element:"\\u2208",Emacr:"\\u0112",EmptySmallSquare:"\\u25FB",EmptyVerySmallSquare:"\\u25AB",Eogon:"\\u0118",Eopf:"\\u{1D53C}",Epsilon:"\\u0395",Equal:"\\u2A75",EqualTilde:"\\u2242",Equilibrium:"\\u21CC",Escr:"\\u2130",Esim:"\\u2A73",Eta:"\\u0397",Euml:"\\xCB",Exists:"\\u2203",ExponentialE:"\\u2147",Fcy:"\\u0424",Ffr:"\\u{1D509}",FilledSmallSquare:"\\u25FC",FilledVerySmallSquare:"\\u25AA",Fopf:"\\u{1D53D}",ForAll:"\\u2200",Fouriertrf:"\\u2131",Fscr:"\\u2131",GJcy:"\\u0403",GT:">",Gamma:"\\u0393",Gammad:"\\u03DC",Gbreve:"\\u011E",Gcedil:"\\u0122",Gcirc:"\\u011C",Gcy:"\\u0413",Gdot:"\\u0120",Gfr:"\\u{1D50A}",Gg:"\\u22D9",Gopf:"\\u{1D53E}",GreaterEqual:"\\u2265",GreaterEqualLess:"\\u22DB",GreaterFullEqual:"\\u2267",GreaterGreater:"\\u2AA2",GreaterLess:"\\u2277",GreaterSlantEqual:"\\u2A7E",GreaterTilde:"\\u2273",Gscr:"\\u{1D4A2}",Gt:"\\u226B",HARDcy:"\\u042A",Hacek:"\\u02C7",Hat:"^",Hcirc:"\\u0124",Hfr:"\\u210C",HilbertSpace:"\\u210B",Hopf:"\\u210D",HorizontalLine:"\\u2500",Hscr:"\\u210B",Hstrok:"\\u0126",HumpDownHump:"\\u224E",HumpEqual:"\\u224F",IEcy:"\\u0415",IJlig:"\\u0132",IOcy:"\\u0401",Iacute:"\\xCD",Icirc:"\\xCE",Icy:"\\u0418",Idot:"\\u0130",Ifr:"\\u2111",Igrave:"\\xCC",Im:"\\u2111",Imacr:"\\u012A",ImaginaryI:"\\u2148",Implies:"\\u21D2",Int:"\\u222C",Integral:"\\u222B",Intersection:"\\u22C2",InvisibleComma:"\\u2063",InvisibleTimes:"\\u2062",Iogon:"\\u012E",Iopf:"\\u{1D540}",Iota:"\\u0399",Iscr:"\\u2110",Itilde:"\\u0128",Iukcy:"\\u0406",Iuml:"\\xCF",Jcirc:"\\u0134",Jcy:"\\u0419",Jfr:"\\u{1D50D}",Jopf:"\\u{1D541}",Jscr:"\\u{1D4A5}",Jsercy:"\\u0408",Jukcy:"\\u0404",KHcy:"\\u0425",KJcy:"\\u040C",Kappa:"\\u039A",Kcedil:"\\u0136",Kcy:"\\u041A",Kfr:"\\u{1D50E}",Kopf:"\\u{1D542}",Kscr:"\\u{1D4A6}",LJcy:"\\u0409",LT:"<",Lacute:"\\u0139",Lambda:"\\u039B",Lang:"\\u27EA",Laplacetrf:"\\u2112",Larr:"\\u219E",Lcaron:"\\u013D",Lcedil:"\\u013B",Lcy:"\\u041B",LeftAngleBracket:"\\u27E8",LeftArrow:"\\u2190",LeftArrowBar:"\\u21E4",LeftArrowRightArrow:"\\u21C6",LeftCeiling:"\\u2308",LeftDoubleBracket:"\\u27E6",LeftDownTeeVector:"\\u2961",LeftDownVector:"\\u21C3",LeftDownVectorBar:"\\u2959",LeftFloor:"\\u230A",LeftRightArrow:"\\u2194",LeftRightVector:"\\u294E",LeftTee:"\\u22A3",LeftTeeArrow:"\\u21A4",LeftTeeVector:"\\u295A",LeftTriangle:"\\u22B2",LeftTriangleBar:"\\u29CF",LeftTriangleEqual:"\\u22B4",LeftUpDownVector:"\\u2951",LeftUpTeeVector:"\\u2960",LeftUpVector:"\\u21BF",LeftUpVectorBar:"\\u2958",LeftVector:"\\u21BC",LeftVectorBar:"\\u2952",Leftarrow:"\\u21D0",Leftrightarrow:"\\u21D4",LessEqualGreater:"\\u22DA",LessFullEqual:"\\u2266",LessGreater:"\\u2276",LessLess:"\\u2AA1",LessSlantEqual:"\\u2A7D",LessTilde:"\\u2272",Lfr:"\\u{1D50F}",Ll:"\\u22D8",Lleftarrow:"\\u21DA",Lmidot:"\\u013F",LongLeftArrow:"\\u27F5",LongLeftRightArrow:"\\u27F7",LongRightArrow:"\\u27F6",Longleftarrow:"\\u27F8",Longleftrightarrow:"\\u27FA",Longrightarrow:"\\u27F9",Lopf:"\\u{1D543}",LowerLeftArrow:"\\u2199",LowerRightArrow:"\\u2198",Lscr:"\\u2112",Lsh:"\\u21B0",Lstrok:"\\u0141",Lt:"\\u226A",Map:"\\u2905",Mcy:"\\u041C",MediumSpace:"\\u205F",Mellintrf:"\\u2133",Mfr:"\\u{1D510}",MinusPlus:"\\u2213",Mopf:"\\u{1D544}",Mscr:"\\u2133",Mu:"\\u039C",NJcy:"\\u040A",Nacute:"\\u0143",Ncaron:"\\u0147",Ncedil:"\\u0145",Ncy:"\\u041D",NegativeMediumSpace:"\\u200B",NegativeThickSpace:"\\u200B",NegativeThinSpace:"\\u200B",NegativeVeryThinSpace:"\\u200B",NestedGreaterGreater:"\\u226B",NestedLessLess:"\\u226A",NewLine:`\n`,Nfr:"\\u{1D511}",NoBreak:"\\u2060",NonBreakingSpace:"\\xA0",Nopf:"\\u2115",Not:"\\u2AEC",NotCongruent:"\\u2262",NotCupCap:"\\u226D",NotDoubleVerticalBar:"\\u2226",NotElement:"\\u2209",NotEqual:"\\u2260",NotEqualTilde:"\\u2242\\u0338",NotExists:"\\u2204",NotGreater:"\\u226F",NotGreaterEqual:"\\u2271",NotGreaterFullEqual:"\\u2267\\u0338",NotGreaterGreater:"\\u226B\\u0338",NotGreaterLess:"\\u2279",NotGreaterSlantEqual:"\\u2A7E\\u0338",NotGreaterTilde:"\\u2275",NotHumpDownHump:"\\u224E\\u0338",NotHumpEqual:"\\u224F\\u0338",NotLeftTriangle:"\\u22EA",NotLeftTriangleBar:"\\u29CF\\u0338",NotLeftTriangleEqual:"\\u22EC",NotLess:"\\u226E",NotLessEqual:"\\u2270",NotLessGreater:"\\u2278",NotLessLess:"\\u226A\\u0338",NotLessSlantEqual:"\\u2A7D\\u0338",NotLessTilde:"\\u2274",NotNestedGreaterGreater:"\\u2AA2\\u0338",NotNestedLessLess:"\\u2AA1\\u0338",NotPrecedes:"\\u2280",NotPrecedesEqual:"\\u2AAF\\u0338",NotPrecedesSlantEqual:"\\u22E0",NotReverseElement:"\\u220C",NotRightTriangle:"\\u22EB",NotRightTriangleBar:"\\u29D0\\u0338",NotRightTriangleEqual:"\\u22ED",NotSquareSubset:"\\u228F\\u0338",NotSquareSubsetEqual:"\\u22E2",NotSquareSuperset:"\\u2290\\u0338",NotSquareSupersetEqual:"\\u22E3",NotSubset:"\\u2282\\u20D2",NotSubsetEqual:"\\u2288",NotSucceeds:"\\u2281",NotSucceedsEqual:"\\u2AB0\\u0338",NotSucceedsSlantEqual:"\\u22E1",NotSucceedsTilde:"\\u227F\\u0338",NotSuperset:"\\u2283\\u20D2",NotSupersetEqual:"\\u2289",NotTilde:"\\u2241",NotTildeEqual:"\\u2244",NotTildeFullEqual:"\\u2247",NotTildeTilde:"\\u2249",NotVerticalBar:"\\u2224",Nscr:"\\u{1D4A9}",Ntilde:"\\xD1",Nu:"\\u039D",OElig:"\\u0152",Oacute:"\\xD3",Ocirc:"\\xD4",Ocy:"\\u041E",Odblac:"\\u0150",Ofr:"\\u{1D512}",Ograve:"\\xD2",Omacr:"\\u014C",Omega:"\\u03A9",Omicron:"\\u039F",Oopf:"\\u{1D546}",OpenCurlyDoubleQuote:"\\u201C",OpenCurlyQuote:"\\u2018",Or:"\\u2A54",Oscr:"\\u{1D4AA}",Oslash:"\\xD8",Otilde:"\\xD5",Otimes:"\\u2A37",Ouml:"\\xD6",OverBar:"\\u203E",OverBrace:"\\u23DE",OverBracket:"\\u23B4",OverParenthesis:"\\u23DC",PartialD:"\\u2202",Pcy:"\\u041F",Pfr:"\\u{1D513}",Phi:"\\u03A6",Pi:"\\u03A0",PlusMinus:"\\xB1",Poincareplane:"\\u210C",Popf:"\\u2119",Pr:"\\u2ABB",Precedes:"\\u227A",PrecedesEqual:"\\u2AAF",PrecedesSlantEqual:"\\u227C",PrecedesTilde:"\\u227E",Prime:"\\u2033",Product:"\\u220F",Proportion:"\\u2237",Proportional:"\\u221D",Pscr:"\\u{1D4AB}",Psi:"\\u03A8",QUOT:\'"\',Qfr:"\\u{1D514}",Qopf:"\\u211A",Qscr:"\\u{1D4AC}",RBarr:"\\u2910",REG:"\\xAE",Racute:"\\u0154",Rang:"\\u27EB",Rarr:"\\u21A0",Rarrtl:"\\u2916",Rcaron:"\\u0158",Rcedil:"\\u0156",Rcy:"\\u0420",Re:"\\u211C",ReverseElement:"\\u220B",ReverseEquilibrium:"\\u21CB",ReverseUpEquilibrium:"\\u296F",Rfr:"\\u211C",Rho:"\\u03A1",RightAngleBracket:"\\u27E9",RightArrow:"\\u2192",RightArrowBar:"\\u21E5",RightArrowLeftArrow:"\\u21C4",RightCeiling:"\\u2309",RightDoubleBracket:"\\u27E7",RightDownTeeVector:"\\u295D",RightDownVector:"\\u21C2",RightDownVectorBar:"\\u2955",RightFloor:"\\u230B",RightTee:"\\u22A2",RightTeeArrow:"\\u21A6",RightTeeVector:"\\u295B",RightTriangle:"\\u22B3",RightTriangleBar:"\\u29D0",RightTriangleEqual:"\\u22B5",RightUpDownVector:"\\u294F",RightUpTeeVector:"\\u295C",RightUpVector:"\\u21BE",RightUpVectorBar:"\\u2954",RightVector:"\\u21C0",RightVectorBar:"\\u2953",Rightarrow:"\\u21D2",Ropf:"\\u211D",RoundImplies:"\\u2970",Rrightarrow:"\\u21DB",Rscr:"\\u211B",Rsh:"\\u21B1",RuleDelayed:"\\u29F4",SHCHcy:"\\u0429",SHcy:"\\u0428",SOFTcy:"\\u042C",Sacute:"\\u015A",Sc:"\\u2ABC",Scaron:"\\u0160",Scedil:"\\u015E",Scirc:"\\u015C",Scy:"\\u0421",Sfr:"\\u{1D516}",ShortDownArrow:"\\u2193",ShortLeftArrow:"\\u2190",ShortRightArrow:"\\u2192",ShortUpArrow:"\\u2191",Sigma:"\\u03A3",SmallCircle:"\\u2218",Sopf:"\\u{1D54A}",Sqrt:"\\u221A",Square:"\\u25A1",SquareIntersection:"\\u2293",SquareSubset:"\\u228F",SquareSubsetEqual:"\\u2291",SquareSuperset:"\\u2290",SquareSupersetEqual:"\\u2292",SquareUnion:"\\u2294",Sscr:"\\u{1D4AE}",Star:"\\u22C6",Sub:"\\u22D0",Subset:"\\u22D0",SubsetEqual:"\\u2286",Succeeds:"\\u227B",SucceedsEqual:"\\u2AB0",SucceedsSlantEqual:"\\u227D",SucceedsTilde:"\\u227F",SuchThat:"\\u220B",Sum:"\\u2211",Sup:"\\u22D1",Superset:"\\u2283",SupersetEqual:"\\u2287",Supset:"\\u22D1",THORN:"\\xDE",TRADE:"\\u2122",TSHcy:"\\u040B",TScy:"\\u0426",Tab:"	",Tau:"\\u03A4",Tcaron:"\\u0164",Tcedil:"\\u0162",Tcy:"\\u0422",Tfr:"\\u{1D517}",Therefore:"\\u2234",Theta:"\\u0398",ThickSpace:"\\u205F\\u200A",ThinSpace:"\\u2009",Tilde:"\\u223C",TildeEqual:"\\u2243",TildeFullEqual:"\\u2245",TildeTilde:"\\u2248",Topf:"\\u{1D54B}",TripleDot:"\\u20DB",Tscr:"\\u{1D4AF}",Tstrok:"\\u0166",Uacute:"\\xDA",Uarr:"\\u219F",Uarrocir:"\\u2949",Ubrcy:"\\u040E",Ubreve:"\\u016C",Ucirc:"\\xDB",Ucy:"\\u0423",Udblac:"\\u0170",Ufr:"\\u{1D518}",Ugrave:"\\xD9",Umacr:"\\u016A",UnderBar:"_",UnderBrace:"\\u23DF",UnderBracket:"\\u23B5",UnderParenthesis:"\\u23DD",Union:"\\u22C3",UnionPlus:"\\u228E",Uogon:"\\u0172",Uopf:"\\u{1D54C}",UpArrow:"\\u2191",UpArrowBar:"\\u2912",UpArrowDownArrow:"\\u21C5",UpDownArrow:"\\u2195",UpEquilibrium:"\\u296E",UpTee:"\\u22A5",UpTeeArrow:"\\u21A5",Uparrow:"\\u21D1",Updownarrow:"\\u21D5",UpperLeftArrow:"\\u2196",UpperRightArrow:"\\u2197",Upsi:"\\u03D2",Upsilon:"\\u03A5",Uring:"\\u016E",Uscr:"\\u{1D4B0}",Utilde:"\\u0168",Uuml:"\\xDC",VDash:"\\u22AB",Vbar:"\\u2AEB",Vcy:"\\u0412",Vdash:"\\u22A9",Vdashl:"\\u2AE6",Vee:"\\u22C1",Verbar:"\\u2016",Vert:"\\u2016",VerticalBar:"\\u2223",VerticalLine:"|",VerticalSeparator:"\\u2758",VerticalTilde:"\\u2240",VeryThinSpace:"\\u200A",Vfr:"\\u{1D519}",Vopf:"\\u{1D54D}",Vscr:"\\u{1D4B1}",Vvdash:"\\u22AA",Wcirc:"\\u0174",Wedge:"\\u22C0",Wfr:"\\u{1D51A}",Wopf:"\\u{1D54E}",Wscr:"\\u{1D4B2}",Xfr:"\\u{1D51B}",Xi:"\\u039E",Xopf:"\\u{1D54F}",Xscr:"\\u{1D4B3}",YAcy:"\\u042F",YIcy:"\\u0407",YUcy:"\\u042E",Yacute:"\\xDD",Ycirc:"\\u0176",Ycy:"\\u042B",Yfr:"\\u{1D51C}",Yopf:"\\u{1D550}",Yscr:"\\u{1D4B4}",Yuml:"\\u0178",ZHcy:"\\u0416",Zacute:"\\u0179",Zcaron:"\\u017D",Zcy:"\\u0417",Zdot:"\\u017B",ZeroWidthSpace:"\\u200B",Zeta:"\\u0396",Zfr:"\\u2128",Zopf:"\\u2124",Zscr:"\\u{1D4B5}",aacute:"\\xE1",abreve:"\\u0103",ac:"\\u223E",acE:"\\u223E\\u0333",acd:"\\u223F",acirc:"\\xE2",acute:"\\xB4",acy:"\\u0430",aelig:"\\xE6",af:"\\u2061",afr:"\\u{1D51E}",agrave:"\\xE0",alefsym:"\\u2135",aleph:"\\u2135",alpha:"\\u03B1",amacr:"\\u0101",amalg:"\\u2A3F",amp:"&",and:"\\u2227",andand:"\\u2A55",andd:"\\u2A5C",andslope:"\\u2A58",andv:"\\u2A5A",ang:"\\u2220",ange:"\\u29A4",angle:"\\u2220",angmsd:"\\u2221",angmsdaa:"\\u29A8",angmsdab:"\\u29A9",angmsdac:"\\u29AA",angmsdad:"\\u29AB",angmsdae:"\\u29AC",angmsdaf:"\\u29AD",angmsdag:"\\u29AE",angmsdah:"\\u29AF",angrt:"\\u221F",angrtvb:"\\u22BE",angrtvbd:"\\u299D",angsph:"\\u2222",angst:"\\xC5",angzarr:"\\u237C",aogon:"\\u0105",aopf:"\\u{1D552}",ap:"\\u2248",apE:"\\u2A70",apacir:"\\u2A6F",ape:"\\u224A",apid:"\\u224B",apos:"\'",approx:"\\u2248",approxeq:"\\u224A",aring:"\\xE5",ascr:"\\u{1D4B6}",ast:"*",asymp:"\\u2248",asympeq:"\\u224D",atilde:"\\xE3",auml:"\\xE4",awconint:"\\u2233",awint:"\\u2A11",bNot:"\\u2AED",backcong:"\\u224C",backepsilon:"\\u03F6",backprime:"\\u2035",backsim:"\\u223D",backsimeq:"\\u22CD",barvee:"\\u22BD",barwed:"\\u2305",barwedge:"\\u2305",bbrk:"\\u23B5",bbrktbrk:"\\u23B6",bcong:"\\u224C",bcy:"\\u0431",bdquo:"\\u201E",becaus:"\\u2235",because:"\\u2235",bemptyv:"\\u29B0",bepsi:"\\u03F6",bernou:"\\u212C",beta:"\\u03B2",beth:"\\u2136",between:"\\u226C",bfr:"\\u{1D51F}",bigcap:"\\u22C2",bigcirc:"\\u25EF",bigcup:"\\u22C3",bigodot:"\\u2A00",bigoplus:"\\u2A01",bigotimes:"\\u2A02",bigsqcup:"\\u2A06",bigstar:"\\u2605",bigtriangledown:"\\u25BD",bigtriangleup:"\\u25B3",biguplus:"\\u2A04",bigvee:"\\u22C1",bigwedge:"\\u22C0",bkarow:"\\u290D",blacklozenge:"\\u29EB",blacksquare:"\\u25AA",blacktriangle:"\\u25B4",blacktriangledown:"\\u25BE",blacktriangleleft:"\\u25C2",blacktriangleright:"\\u25B8",blank:"\\u2423",blk12:"\\u2592",blk14:"\\u2591",blk34:"\\u2593",block:"\\u2588",bne:"=\\u20E5",bnequiv:"\\u2261\\u20E5",bnot:"\\u2310",bopf:"\\u{1D553}",bot:"\\u22A5",bottom:"\\u22A5",bowtie:"\\u22C8",boxDL:"\\u2557",boxDR:"\\u2554",boxDl:"\\u2556",boxDr:"\\u2553",boxH:"\\u2550",boxHD:"\\u2566",boxHU:"\\u2569",boxHd:"\\u2564",boxHu:"\\u2567",boxUL:"\\u255D",boxUR:"\\u255A",boxUl:"\\u255C",boxUr:"\\u2559",boxV:"\\u2551",boxVH:"\\u256C",boxVL:"\\u2563",boxVR:"\\u2560",boxVh:"\\u256B",boxVl:"\\u2562",boxVr:"\\u255F",boxbox:"\\u29C9",boxdL:"\\u2555",boxdR:"\\u2552",boxdl:"\\u2510",boxdr:"\\u250C",boxh:"\\u2500",boxhD:"\\u2565",boxhU:"\\u2568",boxhd:"\\u252C",boxhu:"\\u2534",boxminus:"\\u229F",boxplus:"\\u229E",boxtimes:"\\u22A0",boxuL:"\\u255B",boxuR:"\\u2558",boxul:"\\u2518",boxur:"\\u2514",boxv:"\\u2502",boxvH:"\\u256A",boxvL:"\\u2561",boxvR:"\\u255E",boxvh:"\\u253C",boxvl:"\\u2524",boxvr:"\\u251C",bprime:"\\u2035",breve:"\\u02D8",brvbar:"\\xA6",bscr:"\\u{1D4B7}",bsemi:"\\u204F",bsim:"\\u223D",bsime:"\\u22CD",bsol:"\\\\",bsolb:"\\u29C5",bsolhsub:"\\u27C8",bull:"\\u2022",bullet:"\\u2022",bump:"\\u224E",bumpE:"\\u2AAE",bumpe:"\\u224F",bumpeq:"\\u224F",cacute:"\\u0107",cap:"\\u2229",capand:"\\u2A44",capbrcup:"\\u2A49",capcap:"\\u2A4B",capcup:"\\u2A47",capdot:"\\u2A40",caps:"\\u2229\\uFE00",caret:"\\u2041",caron:"\\u02C7",ccaps:"\\u2A4D",ccaron:"\\u010D",ccedil:"\\xE7",ccirc:"\\u0109",ccups:"\\u2A4C",ccupssm:"\\u2A50",cdot:"\\u010B",cedil:"\\xB8",cemptyv:"\\u29B2",cent:"\\xA2",centerdot:"\\xB7",cfr:"\\u{1D520}",chcy:"\\u0447",check:"\\u2713",checkmark:"\\u2713",chi:"\\u03C7",cir:"\\u25CB",cirE:"\\u29C3",circ:"\\u02C6",circeq:"\\u2257",circlearrowleft:"\\u21BA",circlearrowright:"\\u21BB",circledR:"\\xAE",circledS:"\\u24C8",circledast:"\\u229B",circledcirc:"\\u229A",circleddash:"\\u229D",cire:"\\u2257",cirfnint:"\\u2A10",cirmid:"\\u2AEF",cirscir:"\\u29C2",clubs:"\\u2663",clubsuit:"\\u2663",colon:":",colone:"\\u2254",coloneq:"\\u2254",comma:",",commat:"@",comp:"\\u2201",compfn:"\\u2218",complement:"\\u2201",complexes:"\\u2102",cong:"\\u2245",congdot:"\\u2A6D",conint:"\\u222E",copf:"\\u{1D554}",coprod:"\\u2210",copy:"\\xA9",copysr:"\\u2117",crarr:"\\u21B5",cross:"\\u2717",cscr:"\\u{1D4B8}",csub:"\\u2ACF",csube:"\\u2AD1",csup:"\\u2AD0",csupe:"\\u2AD2",ctdot:"\\u22EF",cudarrl:"\\u2938",cudarrr:"\\u2935",cuepr:"\\u22DE",cuesc:"\\u22DF",cularr:"\\u21B6",cularrp:"\\u293D",cup:"\\u222A",cupbrcap:"\\u2A48",cupcap:"\\u2A46",cupcup:"\\u2A4A",cupdot:"\\u228D",cupor:"\\u2A45",cups:"\\u222A\\uFE00",curarr:"\\u21B7",curarrm:"\\u293C",curlyeqprec:"\\u22DE",curlyeqsucc:"\\u22DF",curlyvee:"\\u22CE",curlywedge:"\\u22CF",curren:"\\xA4",curvearrowleft:"\\u21B6",curvearrowright:"\\u21B7",cuvee:"\\u22CE",cuwed:"\\u22CF",cwconint:"\\u2232",cwint:"\\u2231",cylcty:"\\u232D",dArr:"\\u21D3",dHar:"\\u2965",dagger:"\\u2020",daleth:"\\u2138",darr:"\\u2193",dash:"\\u2010",dashv:"\\u22A3",dbkarow:"\\u290F",dblac:"\\u02DD",dcaron:"\\u010F",dcy:"\\u0434",dd:"\\u2146",ddagger:"\\u2021",ddarr:"\\u21CA",ddotseq:"\\u2A77",deg:"\\xB0",delta:"\\u03B4",demptyv:"\\u29B1",dfisht:"\\u297F",dfr:"\\u{1D521}",dharl:"\\u21C3",dharr:"\\u21C2",diam:"\\u22C4",diamond:"\\u22C4",diamondsuit:"\\u2666",diams:"\\u2666",die:"\\xA8",digamma:"\\u03DD",disin:"\\u22F2",div:"\\xF7",divide:"\\xF7",divideontimes:"\\u22C7",divonx:"\\u22C7",djcy:"\\u0452",dlcorn:"\\u231E",dlcrop:"\\u230D",dollar:"$",dopf:"\\u{1D555}",dot:"\\u02D9",doteq:"\\u2250",doteqdot:"\\u2251",dotminus:"\\u2238",dotplus:"\\u2214",dotsquare:"\\u22A1",doublebarwedge:"\\u2306",downarrow:"\\u2193",downdownarrows:"\\u21CA",downharpoonleft:"\\u21C3",downharpoonright:"\\u21C2",drbkarow:"\\u2910",drcorn:"\\u231F",drcrop:"\\u230C",dscr:"\\u{1D4B9}",dscy:"\\u0455",dsol:"\\u29F6",dstrok:"\\u0111",dtdot:"\\u22F1",dtri:"\\u25BF",dtrif:"\\u25BE",duarr:"\\u21F5",duhar:"\\u296F",dwangle:"\\u29A6",dzcy:"\\u045F",dzigrarr:"\\u27FF",eDDot:"\\u2A77",eDot:"\\u2251",eacute:"\\xE9",easter:"\\u2A6E",ecaron:"\\u011B",ecir:"\\u2256",ecirc:"\\xEA",ecolon:"\\u2255",ecy:"\\u044D",edot:"\\u0117",ee:"\\u2147",efDot:"\\u2252",efr:"\\u{1D522}",eg:"\\u2A9A",egrave:"\\xE8",egs:"\\u2A96",egsdot:"\\u2A98",el:"\\u2A99",elinters:"\\u23E7",ell:"\\u2113",els:"\\u2A95",elsdot:"\\u2A97",emacr:"\\u0113",empty:"\\u2205",emptyset:"\\u2205",emptyv:"\\u2205",emsp13:"\\u2004",emsp14:"\\u2005",emsp:"\\u2003",eng:"\\u014B",ensp:"\\u2002",eogon:"\\u0119",eopf:"\\u{1D556}",epar:"\\u22D5",eparsl:"\\u29E3",eplus:"\\u2A71",epsi:"\\u03B5",epsilon:"\\u03B5",epsiv:"\\u03F5",eqcirc:"\\u2256",eqcolon:"\\u2255",eqsim:"\\u2242",eqslantgtr:"\\u2A96",eqslantless:"\\u2A95",equals:"=",equest:"\\u225F",equiv:"\\u2261",equivDD:"\\u2A78",eqvparsl:"\\u29E5",erDot:"\\u2253",erarr:"\\u2971",escr:"\\u212F",esdot:"\\u2250",esim:"\\u2242",eta:"\\u03B7",eth:"\\xF0",euml:"\\xEB",euro:"\\u20AC",excl:"!",exist:"\\u2203",expectation:"\\u2130",exponentiale:"\\u2147",fallingdotseq:"\\u2252",fcy:"\\u0444",female:"\\u2640",ffilig:"\\uFB03",fflig:"\\uFB00",ffllig:"\\uFB04",ffr:"\\u{1D523}",filig:"\\uFB01",fjlig:"fj",flat:"\\u266D",fllig:"\\uFB02",fltns:"\\u25B1",fnof:"\\u0192",fopf:"\\u{1D557}",forall:"\\u2200",fork:"\\u22D4",forkv:"\\u2AD9",fpartint:"\\u2A0D",frac12:"\\xBD",frac13:"\\u2153",frac14:"\\xBC",frac15:"\\u2155",frac16:"\\u2159",frac18:"\\u215B",frac23:"\\u2154",frac25:"\\u2156",frac34:"\\xBE",frac35:"\\u2157",frac38:"\\u215C",frac45:"\\u2158",frac56:"\\u215A",frac58:"\\u215D",frac78:"\\u215E",frasl:"\\u2044",frown:"\\u2322",fscr:"\\u{1D4BB}",gE:"\\u2267",gEl:"\\u2A8C",gacute:"\\u01F5",gamma:"\\u03B3",gammad:"\\u03DD",gap:"\\u2A86",gbreve:"\\u011F",gcirc:"\\u011D",gcy:"\\u0433",gdot:"\\u0121",ge:"\\u2265",gel:"\\u22DB",geq:"\\u2265",geqq:"\\u2267",geqslant:"\\u2A7E",ges:"\\u2A7E",gescc:"\\u2AA9",gesdot:"\\u2A80",gesdoto:"\\u2A82",gesdotol:"\\u2A84",gesl:"\\u22DB\\uFE00",gesles:"\\u2A94",gfr:"\\u{1D524}",gg:"\\u226B",ggg:"\\u22D9",gimel:"\\u2137",gjcy:"\\u0453",gl:"\\u2277",glE:"\\u2A92",gla:"\\u2AA5",glj:"\\u2AA4",gnE:"\\u2269",gnap:"\\u2A8A",gnapprox:"\\u2A8A",gne:"\\u2A88",gneq:"\\u2A88",gneqq:"\\u2269",gnsim:"\\u22E7",gopf:"\\u{1D558}",grave:"`",gscr:"\\u210A",gsim:"\\u2273",gsime:"\\u2A8E",gsiml:"\\u2A90",gt:">",gtcc:"\\u2AA7",gtcir:"\\u2A7A",gtdot:"\\u22D7",gtlPar:"\\u2995",gtquest:"\\u2A7C",gtrapprox:"\\u2A86",gtrarr:"\\u2978",gtrdot:"\\u22D7",gtreqless:"\\u22DB",gtreqqless:"\\u2A8C",gtrless:"\\u2277",gtrsim:"\\u2273",gvertneqq:"\\u2269\\uFE00",gvnE:"\\u2269\\uFE00",hArr:"\\u21D4",hairsp:"\\u200A",half:"\\xBD",hamilt:"\\u210B",hardcy:"\\u044A",harr:"\\u2194",harrcir:"\\u2948",harrw:"\\u21AD",hbar:"\\u210F",hcirc:"\\u0125",hearts:"\\u2665",heartsuit:"\\u2665",hellip:"\\u2026",hercon:"\\u22B9",hfr:"\\u{1D525}",hksearow:"\\u2925",hkswarow:"\\u2926",hoarr:"\\u21FF",homtht:"\\u223B",hookleftarrow:"\\u21A9",hookrightarrow:"\\u21AA",hopf:"\\u{1D559}",horbar:"\\u2015",hscr:"\\u{1D4BD}",hslash:"\\u210F",hstrok:"\\u0127",hybull:"\\u2043",hyphen:"\\u2010",iacute:"\\xED",ic:"\\u2063",icirc:"\\xEE",icy:"\\u0438",iecy:"\\u0435",iexcl:"\\xA1",iff:"\\u21D4",ifr:"\\u{1D526}",igrave:"\\xEC",ii:"\\u2148",iiiint:"\\u2A0C",iiint:"\\u222D",iinfin:"\\u29DC",iiota:"\\u2129",ijlig:"\\u0133",imacr:"\\u012B",image:"\\u2111",imagline:"\\u2110",imagpart:"\\u2111",imath:"\\u0131",imof:"\\u22B7",imped:"\\u01B5",in:"\\u2208",incare:"\\u2105",infin:"\\u221E",infintie:"\\u29DD",inodot:"\\u0131",int:"\\u222B",intcal:"\\u22BA",integers:"\\u2124",intercal:"\\u22BA",intlarhk:"\\u2A17",intprod:"\\u2A3C",iocy:"\\u0451",iogon:"\\u012F",iopf:"\\u{1D55A}",iota:"\\u03B9",iprod:"\\u2A3C",iquest:"\\xBF",iscr:"\\u{1D4BE}",isin:"\\u2208",isinE:"\\u22F9",isindot:"\\u22F5",isins:"\\u22F4",isinsv:"\\u22F3",isinv:"\\u2208",it:"\\u2062",itilde:"\\u0129",iukcy:"\\u0456",iuml:"\\xEF",jcirc:"\\u0135",jcy:"\\u0439",jfr:"\\u{1D527}",jmath:"\\u0237",jopf:"\\u{1D55B}",jscr:"\\u{1D4BF}",jsercy:"\\u0458",jukcy:"\\u0454",kappa:"\\u03BA",kappav:"\\u03F0",kcedil:"\\u0137",kcy:"\\u043A",kfr:"\\u{1D528}",kgreen:"\\u0138",khcy:"\\u0445",kjcy:"\\u045C",kopf:"\\u{1D55C}",kscr:"\\u{1D4C0}",lAarr:"\\u21DA",lArr:"\\u21D0",lAtail:"\\u291B",lBarr:"\\u290E",lE:"\\u2266",lEg:"\\u2A8B",lHar:"\\u2962",lacute:"\\u013A",laemptyv:"\\u29B4",lagran:"\\u2112",lambda:"\\u03BB",lang:"\\u27E8",langd:"\\u2991",langle:"\\u27E8",lap:"\\u2A85",laquo:"\\xAB",larr:"\\u2190",larrb:"\\u21E4",larrbfs:"\\u291F",larrfs:"\\u291D",larrhk:"\\u21A9",larrlp:"\\u21AB",larrpl:"\\u2939",larrsim:"\\u2973",larrtl:"\\u21A2",lat:"\\u2AAB",latail:"\\u2919",late:"\\u2AAD",lates:"\\u2AAD\\uFE00",lbarr:"\\u290C",lbbrk:"\\u2772",lbrace:"{",lbrack:"[",lbrke:"\\u298B",lbrksld:"\\u298F",lbrkslu:"\\u298D",lcaron:"\\u013E",lcedil:"\\u013C",lceil:"\\u2308",lcub:"{",lcy:"\\u043B",ldca:"\\u2936",ldquo:"\\u201C",ldquor:"\\u201E",ldrdhar:"\\u2967",ldrushar:"\\u294B",ldsh:"\\u21B2",le:"\\u2264",leftarrow:"\\u2190",leftarrowtail:"\\u21A2",leftharpoondown:"\\u21BD",leftharpoonup:"\\u21BC",leftleftarrows:"\\u21C7",leftrightarrow:"\\u2194",leftrightarrows:"\\u21C6",leftrightharpoons:"\\u21CB",leftrightsquigarrow:"\\u21AD",leftthreetimes:"\\u22CB",leg:"\\u22DA",leq:"\\u2264",leqq:"\\u2266",leqslant:"\\u2A7D",les:"\\u2A7D",lescc:"\\u2AA8",lesdot:"\\u2A7F",lesdoto:"\\u2A81",lesdotor:"\\u2A83",lesg:"\\u22DA\\uFE00",lesges:"\\u2A93",lessapprox:"\\u2A85",lessdot:"\\u22D6",lesseqgtr:"\\u22DA",lesseqqgtr:"\\u2A8B",lessgtr:"\\u2276",lesssim:"\\u2272",lfisht:"\\u297C",lfloor:"\\u230A",lfr:"\\u{1D529}",lg:"\\u2276",lgE:"\\u2A91",lhard:"\\u21BD",lharu:"\\u21BC",lharul:"\\u296A",lhblk:"\\u2584",ljcy:"\\u0459",ll:"\\u226A",llarr:"\\u21C7",llcorner:"\\u231E",llhard:"\\u296B",lltri:"\\u25FA",lmidot:"\\u0140",lmoust:"\\u23B0",lmoustache:"\\u23B0",lnE:"\\u2268",lnap:"\\u2A89",lnapprox:"\\u2A89",lne:"\\u2A87",lneq:"\\u2A87",lneqq:"\\u2268",lnsim:"\\u22E6",loang:"\\u27EC",loarr:"\\u21FD",lobrk:"\\u27E6",longleftarrow:"\\u27F5",longleftrightarrow:"\\u27F7",longmapsto:"\\u27FC",longrightarrow:"\\u27F6",looparrowleft:"\\u21AB",looparrowright:"\\u21AC",lopar:"\\u2985",lopf:"\\u{1D55D}",loplus:"\\u2A2D",lotimes:"\\u2A34",lowast:"\\u2217",lowbar:"_",loz:"\\u25CA",lozenge:"\\u25CA",lozf:"\\u29EB",lpar:"(",lparlt:"\\u2993",lrarr:"\\u21C6",lrcorner:"\\u231F",lrhar:"\\u21CB",lrhard:"\\u296D",lrm:"\\u200E",lrtri:"\\u22BF",lsaquo:"\\u2039",lscr:"\\u{1D4C1}",lsh:"\\u21B0",lsim:"\\u2272",lsime:"\\u2A8D",lsimg:"\\u2A8F",lsqb:"[",lsquo:"\\u2018",lsquor:"\\u201A",lstrok:"\\u0142",lt:"<",ltcc:"\\u2AA6",ltcir:"\\u2A79",ltdot:"\\u22D6",lthree:"\\u22CB",ltimes:"\\u22C9",ltlarr:"\\u2976",ltquest:"\\u2A7B",ltrPar:"\\u2996",ltri:"\\u25C3",ltrie:"\\u22B4",ltrif:"\\u25C2",lurdshar:"\\u294A",luruhar:"\\u2966",lvertneqq:"\\u2268\\uFE00",lvnE:"\\u2268\\uFE00",mDDot:"\\u223A",macr:"\\xAF",male:"\\u2642",malt:"\\u2720",maltese:"\\u2720",map:"\\u21A6",mapsto:"\\u21A6",mapstodown:"\\u21A7",mapstoleft:"\\u21A4",mapstoup:"\\u21A5",marker:"\\u25AE",mcomma:"\\u2A29",mcy:"\\u043C",mdash:"\\u2014",measuredangle:"\\u2221",mfr:"\\u{1D52A}",mho:"\\u2127",micro:"\\xB5",mid:"\\u2223",midast:"*",midcir:"\\u2AF0",middot:"\\xB7",minus:"\\u2212",minusb:"\\u229F",minusd:"\\u2238",minusdu:"\\u2A2A",mlcp:"\\u2ADB",mldr:"\\u2026",mnplus:"\\u2213",models:"\\u22A7",mopf:"\\u{1D55E}",mp:"\\u2213",mscr:"\\u{1D4C2}",mstpos:"\\u223E",mu:"\\u03BC",multimap:"\\u22B8",mumap:"\\u22B8",nGg:"\\u22D9\\u0338",nGt:"\\u226B\\u20D2",nGtv:"\\u226B\\u0338",nLeftarrow:"\\u21CD",nLeftrightarrow:"\\u21CE",nLl:"\\u22D8\\u0338",nLt:"\\u226A\\u20D2",nLtv:"\\u226A\\u0338",nRightarrow:"\\u21CF",nVDash:"\\u22AF",nVdash:"\\u22AE",nabla:"\\u2207",nacute:"\\u0144",nang:"\\u2220\\u20D2",nap:"\\u2249",napE:"\\u2A70\\u0338",napid:"\\u224B\\u0338",napos:"\\u0149",napprox:"\\u2249",natur:"\\u266E",natural:"\\u266E",naturals:"\\u2115",nbsp:"\\xA0",nbump:"\\u224E\\u0338",nbumpe:"\\u224F\\u0338",ncap:"\\u2A43",ncaron:"\\u0148",ncedil:"\\u0146",ncong:"\\u2247",ncongdot:"\\u2A6D\\u0338",ncup:"\\u2A42",ncy:"\\u043D",ndash:"\\u2013",ne:"\\u2260",neArr:"\\u21D7",nearhk:"\\u2924",nearr:"\\u2197",nearrow:"\\u2197",nedot:"\\u2250\\u0338",nequiv:"\\u2262",nesear:"\\u2928",nesim:"\\u2242\\u0338",nexist:"\\u2204",nexists:"\\u2204",nfr:"\\u{1D52B}",ngE:"\\u2267\\u0338",nge:"\\u2271",ngeq:"\\u2271",ngeqq:"\\u2267\\u0338",ngeqslant:"\\u2A7E\\u0338",nges:"\\u2A7E\\u0338",ngsim:"\\u2275",ngt:"\\u226F",ngtr:"\\u226F",nhArr:"\\u21CE",nharr:"\\u21AE",nhpar:"\\u2AF2",ni:"\\u220B",nis:"\\u22FC",nisd:"\\u22FA",niv:"\\u220B",njcy:"\\u045A",nlArr:"\\u21CD",nlE:"\\u2266\\u0338",nlarr:"\\u219A",nldr:"\\u2025",nle:"\\u2270",nleftarrow:"\\u219A",nleftrightarrow:"\\u21AE",nleq:"\\u2270",nleqq:"\\u2266\\u0338",nleqslant:"\\u2A7D\\u0338",nles:"\\u2A7D\\u0338",nless:"\\u226E",nlsim:"\\u2274",nlt:"\\u226E",nltri:"\\u22EA",nltrie:"\\u22EC",nmid:"\\u2224",nopf:"\\u{1D55F}",not:"\\xAC",notin:"\\u2209",notinE:"\\u22F9\\u0338",notindot:"\\u22F5\\u0338",notinva:"\\u2209",notinvb:"\\u22F7",notinvc:"\\u22F6",notni:"\\u220C",notniva:"\\u220C",notnivb:"\\u22FE",notnivc:"\\u22FD",npar:"\\u2226",nparallel:"\\u2226",nparsl:"\\u2AFD\\u20E5",npart:"\\u2202\\u0338",npolint:"\\u2A14",npr:"\\u2280",nprcue:"\\u22E0",npre:"\\u2AAF\\u0338",nprec:"\\u2280",npreceq:"\\u2AAF\\u0338",nrArr:"\\u21CF",nrarr:"\\u219B",nrarrc:"\\u2933\\u0338",nrarrw:"\\u219D\\u0338",nrightarrow:"\\u219B",nrtri:"\\u22EB",nrtrie:"\\u22ED",nsc:"\\u2281",nsccue:"\\u22E1",nsce:"\\u2AB0\\u0338",nscr:"\\u{1D4C3}",nshortmid:"\\u2224",nshortparallel:"\\u2226",nsim:"\\u2241",nsime:"\\u2244",nsimeq:"\\u2244",nsmid:"\\u2224",nspar:"\\u2226",nsqsube:"\\u22E2",nsqsupe:"\\u22E3",nsub:"\\u2284",nsubE:"\\u2AC5\\u0338",nsube:"\\u2288",nsubset:"\\u2282\\u20D2",nsubseteq:"\\u2288",nsubseteqq:"\\u2AC5\\u0338",nsucc:"\\u2281",nsucceq:"\\u2AB0\\u0338",nsup:"\\u2285",nsupE:"\\u2AC6\\u0338",nsupe:"\\u2289",nsupset:"\\u2283\\u20D2",nsupseteq:"\\u2289",nsupseteqq:"\\u2AC6\\u0338",ntgl:"\\u2279",ntilde:"\\xF1",ntlg:"\\u2278",ntriangleleft:"\\u22EA",ntrianglelefteq:"\\u22EC",ntriangleright:"\\u22EB",ntrianglerighteq:"\\u22ED",nu:"\\u03BD",num:"#",numero:"\\u2116",numsp:"\\u2007",nvDash:"\\u22AD",nvHarr:"\\u2904",nvap:"\\u224D\\u20D2",nvdash:"\\u22AC",nvge:"\\u2265\\u20D2",nvgt:">\\u20D2",nvinfin:"\\u29DE",nvlArr:"\\u2902",nvle:"\\u2264\\u20D2",nvlt:"<\\u20D2",nvltrie:"\\u22B4\\u20D2",nvrArr:"\\u2903",nvrtrie:"\\u22B5\\u20D2",nvsim:"\\u223C\\u20D2",nwArr:"\\u21D6",nwarhk:"\\u2923",nwarr:"\\u2196",nwarrow:"\\u2196",nwnear:"\\u2927",oS:"\\u24C8",oacute:"\\xF3",oast:"\\u229B",ocir:"\\u229A",ocirc:"\\xF4",ocy:"\\u043E",odash:"\\u229D",odblac:"\\u0151",odiv:"\\u2A38",odot:"\\u2299",odsold:"\\u29BC",oelig:"\\u0153",ofcir:"\\u29BF",ofr:"\\u{1D52C}",ogon:"\\u02DB",ograve:"\\xF2",ogt:"\\u29C1",ohbar:"\\u29B5",ohm:"\\u03A9",oint:"\\u222E",olarr:"\\u21BA",olcir:"\\u29BE",olcross:"\\u29BB",oline:"\\u203E",olt:"\\u29C0",omacr:"\\u014D",omega:"\\u03C9",omicron:"\\u03BF",omid:"\\u29B6",ominus:"\\u2296",oopf:"\\u{1D560}",opar:"\\u29B7",operp:"\\u29B9",oplus:"\\u2295",or:"\\u2228",orarr:"\\u21BB",ord:"\\u2A5D",order:"\\u2134",orderof:"\\u2134",ordf:"\\xAA",ordm:"\\xBA",origof:"\\u22B6",oror:"\\u2A56",orslope:"\\u2A57",orv:"\\u2A5B",oscr:"\\u2134",oslash:"\\xF8",osol:"\\u2298",otilde:"\\xF5",otimes:"\\u2297",otimesas:"\\u2A36",ouml:"\\xF6",ovbar:"\\u233D",par:"\\u2225",para:"\\xB6",parallel:"\\u2225",parsim:"\\u2AF3",parsl:"\\u2AFD",part:"\\u2202",pcy:"\\u043F",percnt:"%",period:".",permil:"\\u2030",perp:"\\u22A5",pertenk:"\\u2031",pfr:"\\u{1D52D}",phi:"\\u03C6",phiv:"\\u03D5",phmmat:"\\u2133",phone:"\\u260E",pi:"\\u03C0",pitchfork:"\\u22D4",piv:"\\u03D6",planck:"\\u210F",planckh:"\\u210E",plankv:"\\u210F",plus:"+",plusacir:"\\u2A23",plusb:"\\u229E",pluscir:"\\u2A22",plusdo:"\\u2214",plusdu:"\\u2A25",pluse:"\\u2A72",plusmn:"\\xB1",plussim:"\\u2A26",plustwo:"\\u2A27",pm:"\\xB1",pointint:"\\u2A15",popf:"\\u{1D561}",pound:"\\xA3",pr:"\\u227A",prE:"\\u2AB3",prap:"\\u2AB7",prcue:"\\u227C",pre:"\\u2AAF",prec:"\\u227A",precapprox:"\\u2AB7",preccurlyeq:"\\u227C",preceq:"\\u2AAF",precnapprox:"\\u2AB9",precneqq:"\\u2AB5",precnsim:"\\u22E8",precsim:"\\u227E",prime:"\\u2032",primes:"\\u2119",prnE:"\\u2AB5",prnap:"\\u2AB9",prnsim:"\\u22E8",prod:"\\u220F",profalar:"\\u232E",profline:"\\u2312",profsurf:"\\u2313",prop:"\\u221D",propto:"\\u221D",prsim:"\\u227E",prurel:"\\u22B0",pscr:"\\u{1D4C5}",psi:"\\u03C8",puncsp:"\\u2008",qfr:"\\u{1D52E}",qint:"\\u2A0C",qopf:"\\u{1D562}",qprime:"\\u2057",qscr:"\\u{1D4C6}",quaternions:"\\u210D",quatint:"\\u2A16",quest:"?",questeq:"\\u225F",quot:\'"\',rAarr:"\\u21DB",rArr:"\\u21D2",rAtail:"\\u291C",rBarr:"\\u290F",rHar:"\\u2964",race:"\\u223D\\u0331",racute:"\\u0155",radic:"\\u221A",raemptyv:"\\u29B3",rang:"\\u27E9",rangd:"\\u2992",range:"\\u29A5",rangle:"\\u27E9",raquo:"\\xBB",rarr:"\\u2192",rarrap:"\\u2975",rarrb:"\\u21E5",rarrbfs:"\\u2920",rarrc:"\\u2933",rarrfs:"\\u291E",rarrhk:"\\u21AA",rarrlp:"\\u21AC",rarrpl:"\\u2945",rarrsim:"\\u2974",rarrtl:"\\u21A3",rarrw:"\\u219D",ratail:"\\u291A",ratio:"\\u2236",rationals:"\\u211A",rbarr:"\\u290D",rbbrk:"\\u2773",rbrace:"}",rbrack:"]",rbrke:"\\u298C",rbrksld:"\\u298E",rbrkslu:"\\u2990",rcaron:"\\u0159",rcedil:"\\u0157",rceil:"\\u2309",rcub:"}",rcy:"\\u0440",rdca:"\\u2937",rdldhar:"\\u2969",rdquo:"\\u201D",rdquor:"\\u201D",rdsh:"\\u21B3",real:"\\u211C",realine:"\\u211B",realpart:"\\u211C",reals:"\\u211D",rect:"\\u25AD",reg:"\\xAE",rfisht:"\\u297D",rfloor:"\\u230B",rfr:"\\u{1D52F}",rhard:"\\u21C1",rharu:"\\u21C0",rharul:"\\u296C",rho:"\\u03C1",rhov:"\\u03F1",rightarrow:"\\u2192",rightarrowtail:"\\u21A3",rightharpoondown:"\\u21C1",rightharpoonup:"\\u21C0",rightleftarrows:"\\u21C4",rightleftharpoons:"\\u21CC",rightrightarrows:"\\u21C9",rightsquigarrow:"\\u219D",rightthreetimes:"\\u22CC",ring:"\\u02DA",risingdotseq:"\\u2253",rlarr:"\\u21C4",rlhar:"\\u21CC",rlm:"\\u200F",rmoust:"\\u23B1",rmoustache:"\\u23B1",rnmid:"\\u2AEE",roang:"\\u27ED",roarr:"\\u21FE",robrk:"\\u27E7",ropar:"\\u2986",ropf:"\\u{1D563}",roplus:"\\u2A2E",rotimes:"\\u2A35",rpar:")",rpargt:"\\u2994",rppolint:"\\u2A12",rrarr:"\\u21C9",rsaquo:"\\u203A",rscr:"\\u{1D4C7}",rsh:"\\u21B1",rsqb:"]",rsquo:"\\u2019",rsquor:"\\u2019",rthree:"\\u22CC",rtimes:"\\u22CA",rtri:"\\u25B9",rtrie:"\\u22B5",rtrif:"\\u25B8",rtriltri:"\\u29CE",ruluhar:"\\u2968",rx:"\\u211E",sacute:"\\u015B",sbquo:"\\u201A",sc:"\\u227B",scE:"\\u2AB4",scap:"\\u2AB8",scaron:"\\u0161",sccue:"\\u227D",sce:"\\u2AB0",scedil:"\\u015F",scirc:"\\u015D",scnE:"\\u2AB6",scnap:"\\u2ABA",scnsim:"\\u22E9",scpolint:"\\u2A13",scsim:"\\u227F",scy:"\\u0441",sdot:"\\u22C5",sdotb:"\\u22A1",sdote:"\\u2A66",seArr:"\\u21D8",searhk:"\\u2925",searr:"\\u2198",searrow:"\\u2198",sect:"\\xA7",semi:";",seswar:"\\u2929",setminus:"\\u2216",setmn:"\\u2216",sext:"\\u2736",sfr:"\\u{1D530}",sfrown:"\\u2322",sharp:"\\u266F",shchcy:"\\u0449",shcy:"\\u0448",shortmid:"\\u2223",shortparallel:"\\u2225",shy:"\\xAD",sigma:"\\u03C3",sigmaf:"\\u03C2",sigmav:"\\u03C2",sim:"\\u223C",simdot:"\\u2A6A",sime:"\\u2243",simeq:"\\u2243",simg:"\\u2A9E",simgE:"\\u2AA0",siml:"\\u2A9D",simlE:"\\u2A9F",simne:"\\u2246",simplus:"\\u2A24",simrarr:"\\u2972",slarr:"\\u2190",smallsetminus:"\\u2216",smashp:"\\u2A33",smeparsl:"\\u29E4",smid:"\\u2223",smile:"\\u2323",smt:"\\u2AAA",smte:"\\u2AAC",smtes:"\\u2AAC\\uFE00",softcy:"\\u044C",sol:"/",solb:"\\u29C4",solbar:"\\u233F",sopf:"\\u{1D564}",spades:"\\u2660",spadesuit:"\\u2660",spar:"\\u2225",sqcap:"\\u2293",sqcaps:"\\u2293\\uFE00",sqcup:"\\u2294",sqcups:"\\u2294\\uFE00",sqsub:"\\u228F",sqsube:"\\u2291",sqsubset:"\\u228F",sqsubseteq:"\\u2291",sqsup:"\\u2290",sqsupe:"\\u2292",sqsupset:"\\u2290",sqsupseteq:"\\u2292",squ:"\\u25A1",square:"\\u25A1",squarf:"\\u25AA",squf:"\\u25AA",srarr:"\\u2192",sscr:"\\u{1D4C8}",ssetmn:"\\u2216",ssmile:"\\u2323",sstarf:"\\u22C6",star:"\\u2606",starf:"\\u2605",straightepsilon:"\\u03F5",straightphi:"\\u03D5",strns:"\\xAF",sub:"\\u2282",subE:"\\u2AC5",subdot:"\\u2ABD",sube:"\\u2286",subedot:"\\u2AC3",submult:"\\u2AC1",subnE:"\\u2ACB",subne:"\\u228A",subplus:"\\u2ABF",subrarr:"\\u2979",subset:"\\u2282",subseteq:"\\u2286",subseteqq:"\\u2AC5",subsetneq:"\\u228A",subsetneqq:"\\u2ACB",subsim:"\\u2AC7",subsub:"\\u2AD5",subsup:"\\u2AD3",succ:"\\u227B",succapprox:"\\u2AB8",succcurlyeq:"\\u227D",succeq:"\\u2AB0",succnapprox:"\\u2ABA",succneqq:"\\u2AB6",succnsim:"\\u22E9",succsim:"\\u227F",sum:"\\u2211",sung:"\\u266A",sup1:"\\xB9",sup2:"\\xB2",sup3:"\\xB3",sup:"\\u2283",supE:"\\u2AC6",supdot:"\\u2ABE",supdsub:"\\u2AD8",supe:"\\u2287",supedot:"\\u2AC4",suphsol:"\\u27C9",suphsub:"\\u2AD7",suplarr:"\\u297B",supmult:"\\u2AC2",supnE:"\\u2ACC",supne:"\\u228B",supplus:"\\u2AC0",supset:"\\u2283",supseteq:"\\u2287",supseteqq:"\\u2AC6",supsetneq:"\\u228B",supsetneqq:"\\u2ACC",supsim:"\\u2AC8",supsub:"\\u2AD4",supsup:"\\u2AD6",swArr:"\\u21D9",swarhk:"\\u2926",swarr:"\\u2199",swarrow:"\\u2199",swnwar:"\\u292A",szlig:"\\xDF",target:"\\u2316",tau:"\\u03C4",tbrk:"\\u23B4",tcaron:"\\u0165",tcedil:"\\u0163",tcy:"\\u0442",tdot:"\\u20DB",telrec:"\\u2315",tfr:"\\u{1D531}",there4:"\\u2234",therefore:"\\u2234",theta:"\\u03B8",thetasym:"\\u03D1",thetav:"\\u03D1",thickapprox:"\\u2248",thicksim:"\\u223C",thinsp:"\\u2009",thkap:"\\u2248",thksim:"\\u223C",thorn:"\\xFE",tilde:"\\u02DC",times:"\\xD7",timesb:"\\u22A0",timesbar:"\\u2A31",timesd:"\\u2A30",tint:"\\u222D",toea:"\\u2928",top:"\\u22A4",topbot:"\\u2336",topcir:"\\u2AF1",topf:"\\u{1D565}",topfork:"\\u2ADA",tosa:"\\u2929",tprime:"\\u2034",trade:"\\u2122",triangle:"\\u25B5",triangledown:"\\u25BF",triangleleft:"\\u25C3",trianglelefteq:"\\u22B4",triangleq:"\\u225C",triangleright:"\\u25B9",trianglerighteq:"\\u22B5",tridot:"\\u25EC",trie:"\\u225C",triminus:"\\u2A3A",triplus:"\\u2A39",trisb:"\\u29CD",tritime:"\\u2A3B",trpezium:"\\u23E2",tscr:"\\u{1D4C9}",tscy:"\\u0446",tshcy:"\\u045B",tstrok:"\\u0167",twixt:"\\u226C",twoheadleftarrow:"\\u219E",twoheadrightarrow:"\\u21A0",uArr:"\\u21D1",uHar:"\\u2963",uacute:"\\xFA",uarr:"\\u2191",ubrcy:"\\u045E",ubreve:"\\u016D",ucirc:"\\xFB",ucy:"\\u0443",udarr:"\\u21C5",udblac:"\\u0171",udhar:"\\u296E",ufisht:"\\u297E",ufr:"\\u{1D532}",ugrave:"\\xF9",uharl:"\\u21BF",uharr:"\\u21BE",uhblk:"\\u2580",ulcorn:"\\u231C",ulcorner:"\\u231C",ulcrop:"\\u230F",ultri:"\\u25F8",umacr:"\\u016B",uml:"\\xA8",uogon:"\\u0173",uopf:"\\u{1D566}",uparrow:"\\u2191",updownarrow:"\\u2195",upharpoonleft:"\\u21BF",upharpoonright:"\\u21BE",uplus:"\\u228E",upsi:"\\u03C5",upsih:"\\u03D2",upsilon:"\\u03C5",upuparrows:"\\u21C8",urcorn:"\\u231D",urcorner:"\\u231D",urcrop:"\\u230E",uring:"\\u016F",urtri:"\\u25F9",uscr:"\\u{1D4CA}",utdot:"\\u22F0",utilde:"\\u0169",utri:"\\u25B5",utrif:"\\u25B4",uuarr:"\\u21C8",uuml:"\\xFC",uwangle:"\\u29A7",vArr:"\\u21D5",vBar:"\\u2AE8",vBarv:"\\u2AE9",vDash:"\\u22A8",vangrt:"\\u299C",varepsilon:"\\u03F5",varkappa:"\\u03F0",varnothing:"\\u2205",varphi:"\\u03D5",varpi:"\\u03D6",varpropto:"\\u221D",varr:"\\u2195",varrho:"\\u03F1",varsigma:"\\u03C2",varsubsetneq:"\\u228A\\uFE00",varsubsetneqq:"\\u2ACB\\uFE00",varsupsetneq:"\\u228B\\uFE00",varsupsetneqq:"\\u2ACC\\uFE00",vartheta:"\\u03D1",vartriangleleft:"\\u22B2",vartriangleright:"\\u22B3",vcy:"\\u0432",vdash:"\\u22A2",vee:"\\u2228",veebar:"\\u22BB",veeeq:"\\u225A",vellip:"\\u22EE",verbar:"|",vert:"|",vfr:"\\u{1D533}",vltri:"\\u22B2",vnsub:"\\u2282\\u20D2",vnsup:"\\u2283\\u20D2",vopf:"\\u{1D567}",vprop:"\\u221D",vrtri:"\\u22B3",vscr:"\\u{1D4CB}",vsubnE:"\\u2ACB\\uFE00",vsubne:"\\u228A\\uFE00",vsupnE:"\\u2ACC\\uFE00",vsupne:"\\u228B\\uFE00",vzigzag:"\\u299A",wcirc:"\\u0175",wedbar:"\\u2A5F",wedge:"\\u2227",wedgeq:"\\u2259",weierp:"\\u2118",wfr:"\\u{1D534}",wopf:"\\u{1D568}",wp:"\\u2118",wr:"\\u2240",wreath:"\\u2240",wscr:"\\u{1D4CC}",xcap:"\\u22C2",xcirc:"\\u25EF",xcup:"\\u22C3",xdtri:"\\u25BD",xfr:"\\u{1D535}",xhArr:"\\u27FA",xharr:"\\u27F7",xi:"\\u03BE",xlArr:"\\u27F8",xlarr:"\\u27F5",xmap:"\\u27FC",xnis:"\\u22FB",xodot:"\\u2A00",xopf:"\\u{1D569}",xoplus:"\\u2A01",xotime:"\\u2A02",xrArr:"\\u27F9",xrarr:"\\u27F6",xscr:"\\u{1D4CD}",xsqcup:"\\u2A06",xuplus:"\\u2A04",xutri:"\\u25B3",xvee:"\\u22C1",xwedge:"\\u22C0",yacute:"\\xFD",yacy:"\\u044F",ycirc:"\\u0177",ycy:"\\u044B",yen:"\\xA5",yfr:"\\u{1D536}",yicy:"\\u0457",yopf:"\\u{1D56A}",yscr:"\\u{1D4CE}",yucy:"\\u044E",yuml:"\\xFF",zacute:"\\u017A",zcaron:"\\u017E",zcy:"\\u0437",zdot:"\\u017C",zeetrf:"\\u2128",zeta:"\\u03B6",zfr:"\\u{1D537}",zhcy:"\\u0436",zigrarr:"\\u21DD",zopf:"\\u{1D56B}",zscr:"\\u{1D4CF}",zwj:"\\u200D",zwnj:"\\u200C"};var uo={}.hasOwnProperty;function qe(e){return uo.call(_t,e)?_t[e]:!1}var it={name:"characterReference",tokenize:ao};function ao(e,t,r){let n=this,i=0,o,u;return a;function a(x){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(x),e.exit("characterReferenceMarker"),s}function s(x){return x===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(x),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),o=31,u=re,l(x))}function c(x){return x===88||x===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(x),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,u=zr,l):(e.enter("characterReferenceValue"),o=7,u=Me,l(x))}function l(x){let g;return x===59&&i?(g=e.exit("characterReferenceValue"),u===re&&!qe(n.sliceSerialize(g))?r(x):(e.enter("characterReferenceMarker"),e.consume(x),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)):u(x)&&i++<o?(e.consume(x),l):r(x)}}var ot={name:"codeFenced",tokenize:so,concrete:!0};function so(e,t,r){let n=this,i={tokenize:F,partial:!0},o={tokenize:q,partial:!0},u=this.events[this.events.length-1],a=u&&u[1].type==="linePrefix"?u[2].sliceSerialize(u[1],!0).length:0,s=0,c;return l;function l(k){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),c=k,x(k)}function x(k){return k===c?(e.consume(k),s++,x):(e.exit("codeFencedFenceSequence"),s<3?r(k):R(e,g,"whitespace")(k))}function g(k){return k===null||I(k)?b(k):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||G(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),R(e,m,"whitespace")(k)):k===96&&k===c?r(k):(e.consume(k),h)}function m(k){return k===null||I(k)?b(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(k))}function d(k){return k===null||I(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),b(k)):k===96&&k===c?r(k):(e.consume(k),d)}function b(k){return e.exit("codeFencedFence"),n.interrupt?t(k):w(k)}function w(k){return k===null?A(k):I(k)?e.attempt(o,e.attempt(i,A,a?R(e,w,"linePrefix",a+1):w),A)(k):(e.enter("codeFlowValue"),T(k))}function T(k){return k===null||I(k)?(e.exit("codeFlowValue"),w(k)):(e.consume(k),T)}function A(k){return e.exit("codeFenced"),t(k)}function q(k,P,z){let v=this;return _;function _(L){return k.enter("lineEnding"),k.consume(L),k.exit("lineEnding"),E}function E(L){return v.parser.lazy[v.now().line]?z(L):P(L)}}function F(k,P,z){let v=0;return R(k,_,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function _(S){return k.enter("codeFencedFence"),k.enter("codeFencedFenceSequence"),E(S)}function E(S){return S===c?(k.consume(S),v++,E):v<s?z(S):(k.exit("codeFencedFenceSequence"),R(k,L,"whitespace")(S))}function L(S){return S===null||I(S)?(k.exit("codeFencedFence"),P(S)):z(S)}}}var Ue={name:"codeIndented",tokenize:co},lo={tokenize:po,partial:!0};function co(e,t,r){let n=this;return i;function i(c){return e.enter("codeIndented"),R(e,o,"linePrefix",4+1)(c)}function o(c){let l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?u(c):r(c)}function u(c){return c===null?s(c):I(c)?e.attempt(lo,u,s)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||I(c)?(e.exit("codeFlowValue"),u(c)):(e.consume(c),a)}function s(c){return e.exit("codeIndented"),t(c)}}function po(e,t,r){let n=this;return i;function i(u){return n.parser.lazy[n.now().line]?r(u):I(u)?(e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),i):R(e,o,"linePrefix",4+1)(u)}function o(u){let a=n.events[n.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(u):I(u)?i(u):r(u)}}var Tt={name:"codeText",tokenize:mo,resolve:fo,previous:ho};function fo(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function ho(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function mo(e,t,r){let n=this,i=0,o,u;return a;function a(g){return e.enter("codeText"),e.enter("codeTextSequence"),s(g)}function s(g){return g===96?(e.consume(g),i++,s):(e.exit("codeTextSequence"),c(g))}function c(g){return g===null?r(g):g===96?(u=e.enter("codeTextSequence"),o=0,x(g)):g===32?(e.enter("space"),e.consume(g),e.exit("space"),c):I(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),c):(e.enter("codeTextData"),l(g))}function l(g){return g===null||g===32||g===96||I(g)?(e.exit("codeTextData"),c(g)):(e.consume(g),l)}function x(g){return g===96?(e.consume(g),o++,x):o===i?(e.exit("codeTextSequence"),e.exit("codeText"),t(g)):(u.type="codeTextData",l(g))}}function ut(e){let t={},r=-1,n,i,o,u,a,s,c;for(;++r<e.length;){for(;r in t;)r=t[r];if(n=e[r],r&&n[1].type==="chunkFlow"&&e[r-1][1].type==="listItemPrefix"&&(s=n[1]._tokenizer.events,o=0,o<s.length&&s[o][1].type==="lineEndingBlank"&&(o+=2),o<s.length&&s[o][1].type==="content"))for(;++o<s.length&&s[o][1].type!=="content";)s[o][1].type==="chunkText"&&(s[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,go(e,r)),r=t[r],c=!0);else if(n[1]._container){for(o=r,i=void 0;o--&&(u=e[o],u[1].type==="lineEnding"||u[1].type==="lineEndingBlank");)u[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),u[1].type="lineEnding",i=o);i&&(n[1].end=Object.assign({},e[i][1].start),a=e.slice(i,r),a.unshift(n),Y(e,i,r-i+1,a))}}return!c}function go(e,t){let r=e[t][1],n=e[t][2],i=t-1,o=[],u=r._tokenizer||n.parser[r.contentType](r.start),a=u.events,s=[],c={},l,x,g=-1,h=r,m=0,d=0,b=[d];for(;h;){for(;e[++i][1]!==h;);o.push(i),h._tokenizer||(l=n.sliceStream(h),h.next||l.push(null),x&&u.defineSkip(h.start),h._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(l),h._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),x=h,h=h.next}for(h=r;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(d=g+1,b.push(d),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(u.events=[],h?(h._tokenizer=void 0,h.previous=void 0):b.pop(),g=b.length;g--;){let w=a.slice(b[g],b[g+1]),T=o.pop();s.unshift([T,T+w.length-1]),Y(e,T,2,w)}for(g=-1;++g<s.length;)c[m+s[g][0]]=m+s[g][1],m+=s[g][1]-s[g][0]-1;return c}var It={tokenize:yo,resolve:xo},wo={tokenize:ko,partial:!0};function xo(e){return ut(e),e}function yo(e,t){let r;return n;function n(a){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):I(a)?e.check(wo,u,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function u(a){return e.consume(a),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function ko(e,t,r){let n=this;return i;function i(u){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(u),e.exit("lineEnding"),R(e,o,"linePrefix")}function o(u){if(u===null||I(u))return r(u);let a=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(u):e.interrupt(n.parser.constructs.flow,r,t)(u)}}function at(e,t,r,n,i,o,u,a,s){let c=s||Number.POSITIVE_INFINITY,l=0;return x;function x(w){return w===60?(e.enter(n),e.enter(i),e.enter(o),e.consume(w),e.exit(o),g):w===null||w===41||je(w)?r(w):(e.enter(n),e.enter(u),e.enter(a),e.enter("chunkString",{contentType:"string"}),d(w))}function g(w){return w===62?(e.enter(o),e.consume(w),e.exit(o),e.exit(i),e.exit(n),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===62?(e.exit("chunkString"),e.exit(a),g(w)):w===null||w===60||I(w)?r(w):(e.consume(w),w===92?m:h)}function m(w){return w===60||w===62||w===92?(e.consume(w),h):h(w)}function d(w){return w===40?++l>c?r(w):(e.consume(w),d):w===41?l--?(e.consume(w),d):(e.exit("chunkString"),e.exit(a),e.exit(u),e.exit(n),t(w)):w===null||G(w)?l?r(w):(e.exit("chunkString"),e.exit(a),e.exit(u),e.exit(n),t(w)):je(w)?r(w):(e.consume(w),w===92?b:d)}function b(w){return w===40||w===41||w===92?(e.consume(w),d):d(w)}}function st(e,t,r,n,i,o){let u=this,a=0,s;return c;function c(h){return e.enter(n),e.enter(i),e.consume(h),e.exit(i),e.enter(o),l}function l(h){return h===null||h===91||h===93&&!s||h===94&&!a&&"_hiddenFootnoteSupport"in u.parser.constructs||a>999?r(h):h===93?(e.exit(o),e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):I(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("chunkString",{contentType:"string"}),x(h))}function x(h){return h===null||h===91||h===93||I(h)||a++>999?(e.exit("chunkString"),l(h)):(e.consume(h),s=s||!W(h),h===92?g:x)}function g(h){return h===91||h===92||h===93?(e.consume(h),a++,x):x(h)}}function lt(e,t,r,n,i,o){let u;return a;function a(g){return e.enter(n),e.enter(i),e.consume(g),e.exit(i),u=g===40?41:g,s}function s(g){return g===u?(e.enter(i),e.consume(g),e.exit(i),e.exit(n),t):(e.enter(o),c(g))}function c(g){return g===u?(e.exit(o),s(u)):g===null?r(g):I(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),R(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),l(g))}function l(g){return g===u||g===null||I(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?x:l)}function x(g){return g===u||g===92?(e.consume(g),l):l(g)}}function Ee(e,t){let r;return n;function n(i){return I(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):W(i)?R(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}function we(e){return e.replace(/[\\t\\n\\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var Lt={name:"definition",tokenize:Eo},bo={tokenize:vo,partial:!0};function Eo(e,t,r){let n=this,i;return o;function o(s){return e.enter("definition"),st.call(n,e,u,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(s)}function u(s){return i=we(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),s===58?(e.enter("definitionMarker"),e.consume(s),e.exit("definitionMarker"),Ee(e,at(e,e.attempt(bo,R(e,a,"whitespace"),R(e,a,"whitespace")),r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):r(s)}function a(s){return s===null||I(s)?(e.exit("definition"),n.parser.defined.includes(i)||n.parser.defined.push(i),t(s)):r(s)}}function vo(e,t,r){return n;function n(u){return G(u)?Ee(e,i)(u):r(u)}function i(u){return u===34||u===39||u===40?lt(e,R(e,o,"whitespace"),r,"definitionTitle","definitionTitleMarker","definitionTitleString")(u):r(u)}function o(u){return u===null||I(u)?t(u):r(u)}}var Ft={name:"hardBreakEscape",tokenize:So};function So(e,t,r){return n;function n(o){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(o),i}function i(o){return I(o)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(o)):r(o)}}var qt={name:"headingAtx",tokenize:Co,resolve:Ao};function Ao(e,t){let r=e.length-2,n=3,i,o;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},o={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Y(e,n,r-n+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function Co(e,t,r){let n=this,i=0;return o;function o(l){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),u(l)}function u(l){return l===35&&i++<6?(e.consume(l),u):l===null||G(l)?(e.exit("atxHeadingSequence"),n.interrupt?t(l):a(l)):r(l)}function a(l){return l===35?(e.enter("atxHeadingSequence"),s(l)):l===null||I(l)?(e.exit("atxHeading"),t(l)):W(l)?R(e,a,"whitespace")(l):(e.enter("atxHeadingText"),c(l))}function s(l){return l===35?(e.consume(l),s):(e.exit("atxHeadingSequence"),a(l))}function c(l){return l===null||l===35||G(l)?(e.exit("atxHeadingText"),a(l)):(e.consume(l),c)}}var Vr=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ot=["pre","script","style","textarea"];var Pt={name:"htmlFlow",tokenize:Io,resolveTo:To,concrete:!0},_o={tokenize:Lo,partial:!0};function To(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Io(e,t,r){let n=this,i,o,u,a,s;return c;function c(p){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(p),l}function l(p){return p===33?(e.consume(p),x):p===47?(e.consume(p),m):p===63?(e.consume(p),i=3,n.interrupt?t:K):ie(p)?(e.consume(p),u=String.fromCharCode(p),o=!0,d):r(p)}function x(p){return p===45?(e.consume(p),i=2,g):p===91?(e.consume(p),i=5,u="CDATA[",a=0,h):ie(p)?(e.consume(p),i=4,n.interrupt?t:K):r(p)}function g(p){return p===45?(e.consume(p),n.interrupt?t:K):r(p)}function h(p){return p===u.charCodeAt(a++)?(e.consume(p),a===u.length?n.interrupt?t:E:h):r(p)}function m(p){return ie(p)?(e.consume(p),u=String.fromCharCode(p),d):r(p)}function d(p){return p===null||p===47||p===62||G(p)?p!==47&&o&&Ot.includes(u.toLowerCase())?(i=1,n.interrupt?t(p):E(p)):Vr.includes(u.toLowerCase())?(i=6,p===47?(e.consume(p),b):n.interrupt?t(p):E(p)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(p):o?T(p):w(p)):p===45||re(p)?(e.consume(p),u+=String.fromCharCode(p),d):r(p)}function b(p){return p===62?(e.consume(p),n.interrupt?t:E):r(p)}function w(p){return W(p)?(e.consume(p),w):v(p)}function T(p){return p===47?(e.consume(p),v):p===58||p===95||ie(p)?(e.consume(p),A):W(p)?(e.consume(p),T):v(p)}function A(p){return p===45||p===46||p===58||p===95||re(p)?(e.consume(p),A):q(p)}function q(p){return p===61?(e.consume(p),F):W(p)?(e.consume(p),q):T(p)}function F(p){return p===null||p===60||p===61||p===62||p===96?r(p):p===34||p===39?(e.consume(p),s=p,k):W(p)?(e.consume(p),F):(s=null,P(p))}function k(p){return p===null||I(p)?r(p):p===s?(e.consume(p),z):(e.consume(p),k)}function P(p){return p===null||p===34||p===39||p===60||p===61||p===62||p===96||G(p)?q(p):(e.consume(p),P)}function z(p){return p===47||p===62||W(p)?T(p):r(p)}function v(p){return p===62?(e.consume(p),_):r(p)}function _(p){return W(p)?(e.consume(p),_):p===null||I(p)?E(p):r(p)}function E(p){return p===45&&i===2?(e.consume(p),M):p===60&&i===1?(e.consume(p),D):p===62&&i===4?(e.consume(p),Q):p===63&&i===3?(e.consume(p),K):p===93&&i===5?(e.consume(p),N):I(p)&&(i===6||i===7)?e.check(_o,Q,L)(p):p===null||I(p)?L(p):(e.consume(p),E)}function L(p){return e.exit("htmlFlowData"),S(p)}function S(p){return p===null?f(p):I(p)?e.attempt({tokenize:O,partial:!0},S,f)(p):(e.enter("htmlFlowData"),E(p))}function O(p,Pe,be){return Ce;function Ce(me){return p.enter("lineEnding"),p.consume(me),p.exit("lineEnding"),De}function De(me){return n.parser.lazy[n.now().line]?be(me):Pe(me)}}function M(p){return p===45?(e.consume(p),K):E(p)}function D(p){return p===47?(e.consume(p),u="",j):E(p)}function j(p){return p===62&&Ot.includes(u.toLowerCase())?(e.consume(p),Q):ie(p)&&u.length<8?(e.consume(p),u+=String.fromCharCode(p),j):E(p)}function N(p){return p===93?(e.consume(p),K):E(p)}function K(p){return p===62?(e.consume(p),Q):p===45&&i===2?(e.consume(p),K):E(p)}function Q(p){return p===null||I(p)?(e.exit("htmlFlowData"),f(p)):(e.consume(p),Q)}function f(p){return e.exit("htmlFlow"),t(p)}}function Lo(e,t,r){return n;function n(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(ke,t,r)}}var Dt={name:"htmlText",tokenize:Fo};function Fo(e,t,r){let n=this,i,o,u,a;return s;function s(f){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(f),c}function c(f){return f===33?(e.consume(f),l):f===47?(e.consume(f),P):f===63?(e.consume(f),F):ie(f)?(e.consume(f),_):r(f)}function l(f){return f===45?(e.consume(f),x):f===91?(e.consume(f),o="CDATA[",u=0,b):ie(f)?(e.consume(f),q):r(f)}function x(f){return f===45?(e.consume(f),g):r(f)}function g(f){return f===null||f===62?r(f):f===45?(e.consume(f),h):m(f)}function h(f){return f===null||f===62?r(f):m(f)}function m(f){return f===null?r(f):f===45?(e.consume(f),d):I(f)?(a=m,N(f)):(e.consume(f),m)}function d(f){return f===45?(e.consume(f),Q):m(f)}function b(f){return f===o.charCodeAt(u++)?(e.consume(f),u===o.length?w:b):r(f)}function w(f){return f===null?r(f):f===93?(e.consume(f),T):I(f)?(a=w,N(f)):(e.consume(f),w)}function T(f){return f===93?(e.consume(f),A):w(f)}function A(f){return f===62?Q(f):f===93?(e.consume(f),A):w(f)}function q(f){return f===null||f===62?Q(f):I(f)?(a=q,N(f)):(e.consume(f),q)}function F(f){return f===null?r(f):f===63?(e.consume(f),k):I(f)?(a=F,N(f)):(e.consume(f),F)}function k(f){return f===62?Q(f):F(f)}function P(f){return ie(f)?(e.consume(f),z):r(f)}function z(f){return f===45||re(f)?(e.consume(f),z):v(f)}function v(f){return I(f)?(a=v,N(f)):W(f)?(e.consume(f),v):Q(f)}function _(f){return f===45||re(f)?(e.consume(f),_):f===47||f===62||G(f)?E(f):r(f)}function E(f){return f===47?(e.consume(f),Q):f===58||f===95||ie(f)?(e.consume(f),L):I(f)?(a=E,N(f)):W(f)?(e.consume(f),E):Q(f)}function L(f){return f===45||f===46||f===58||f===95||re(f)?(e.consume(f),L):S(f)}function S(f){return f===61?(e.consume(f),O):I(f)?(a=S,N(f)):W(f)?(e.consume(f),S):E(f)}function O(f){return f===null||f===60||f===61||f===62||f===96?r(f):f===34||f===39?(e.consume(f),i=f,M):I(f)?(a=O,N(f)):W(f)?(e.consume(f),O):(e.consume(f),i=void 0,j)}function M(f){return f===i?(e.consume(f),D):f===null?r(f):I(f)?(a=M,N(f)):(e.consume(f),M)}function D(f){return f===62||f===47||G(f)?E(f):r(f)}function j(f){return f===null||f===34||f===39||f===60||f===61||f===96?r(f):f===62||G(f)?E(f):(e.consume(f),j)}function N(f){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),R(e,K,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function K(f){return e.enter("htmlTextData"),a(f)}function Q(f){return f===62?(e.consume(f),e.exit("htmlTextData"),e.exit("htmlText"),t):r(f)}}var ve={name:"labelEnd",tokenize:zo,resolveTo:Ro,resolveAll:Do},qo={tokenize:No},Oo={tokenize:Bo},Po={tokenize:Mo};function Do(e){let t=-1,r;for(;++t<e.length;)r=e[t][1],(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++);return e}function Ro(e,t){let r=e.length,n=0,i,o,u,a;for(;r--;)if(i=e[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(u){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(u=r);let s={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[u][1].end)},l={type:"labelText",start:Object.assign({},e[o+n+2][1].end),end:Object.assign({},e[u-2][1].start)};return a=[["enter",s,t],["enter",c,t]],a=te(a,e.slice(o+1,o+n+3)),a=te(a,[["enter",l,t]]),a=te(a,Fe(t.parser.constructs.insideSpan.null,e.slice(o+n+4,u-3),t)),a=te(a,[["exit",l,t],e[u-2],e[u-1],["exit",c,t]]),a=te(a,e.slice(u+1)),a=te(a,[["exit",s,t]]),Y(e,o,e.length,a),e}function zo(e,t,r){let n=this,i=n.events.length,o,u;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){o=n.events[i][1];break}return a;function a(l){return o?o._inactive?c(l):(u=n.parser.defined.includes(we(n.sliceSerialize({start:o.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelEnd"),s):r(l)}function s(l){return l===40?e.attempt(qo,t,u?t:c)(l):l===91?e.attempt(Oo,t,u?e.attempt(Po,t,c):c)(l):u?t(l):c(l)}function c(l){return o._balanced=!0,r(l)}}function No(e,t,r){return n;function n(s){return e.enter("resource"),e.enter("resourceMarker"),e.consume(s),e.exit("resourceMarker"),Ee(e,i)}function i(s){return s===41?a(s):at(e,o,r,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(s)}function o(s){return G(s)?Ee(e,u)(s):a(s)}function u(s){return s===34||s===39||s===40?lt(e,Ee(e,a),r,"resourceTitle","resourceTitleMarker","resourceTitleString")(s):a(s)}function a(s){return s===41?(e.enter("resourceMarker"),e.consume(s),e.exit("resourceMarker"),e.exit("resource"),t):r(s)}}function Bo(e,t,r){let n=this;return i;function i(u){return st.call(n,e,o,r,"reference","referenceMarker","referenceString")(u)}function o(u){return n.parser.defined.includes(we(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(u):r(u)}}function Mo(e,t,r){return n;function n(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):r(o)}}var Rt={name:"labelStartImage",tokenize:jo,resolveAll:ve.resolveAll};function jo(e,t,r){let n=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),u):r(a)}function u(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}var zt={name:"labelStartLink",tokenize:Wo,resolveAll:ve.resolveAll};function Wo(e,t,r){let n=this;return i;function i(u){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(u),e.exit("labelMarker"),e.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(u):t(u)}}var He={name:"lineEnding",tokenize:Uo};function Uo(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),R(e,t,"linePrefix")}}var Se={name:"thematicBreak",tokenize:Ho};function Ho(e,t,r){let n=0,i;return o;function o(s){return e.enter("thematicBreak"),i=s,u(s)}function u(s){return s===i?(e.enter("thematicBreakSequence"),a(s)):W(s)?R(e,u,"whitespace")(s):n<3||s!==null&&!I(s)?r(s):(e.exit("thematicBreak"),t(s))}function a(s){return s===i?(e.consume(s),n++,a):(e.exit("thematicBreakSequence"),u(s))}}var X={name:"list",tokenize:Go,continuation:{tokenize:$o},exit:Zo},Vo={tokenize:Yo,partial:!0},Qo={tokenize:Ko,partial:!0};function Go(e,t,r){let n=this,i=n.events[n.events.length-1],o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,u=0;return a;function a(h){let m=n.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||h===n.containerState.marker:Me(h)){if(n.containerState.type||(n.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(Se,r,c)(h):c(h);if(!n.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),s(h)}return r(h)}function s(h){return Me(h)&&++u<10?(e.consume(h),s):(!n.interrupt||u<2)&&(n.containerState.marker?h===n.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):r(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||h,e.check(ke,n.interrupt?r:l,e.attempt(Vo,g,x))}function l(h){return n.containerState.initialBlankLine=!0,o++,g(h)}function x(h){return W(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),g):r(h)}function g(h){return n.containerState.size=o+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function $o(e,t,r){let n=this;return n.containerState._closeFlow=void 0,e.check(ke,i,o);function i(a){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,R(e,t,"listItemIndent",n.containerState.size+1)(a)}function o(a){return n.containerState.furtherBlankLines||!W(a)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,u(a)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(Qo,t,u)(a))}function u(a){return n.containerState._closeFlow=!0,n.interrupt=void 0,R(e,e.attempt(X,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Ko(e,t,r){let n=this;return R(e,i,"listItemIndent",n.containerState.size+1);function i(o){let u=n.events[n.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===n.containerState.size?t(o):r(o)}}function Zo(e){e.exit(this.containerState.type)}function Yo(e,t,r){let n=this;return R(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function i(o){let u=n.events[n.events.length-1];return!W(o)&&u&&u[1].type==="listItemPrefixWhitespace"?t(o):r(o)}}var ct={name:"setextUnderline",tokenize:Xo,resolveTo:Jo};function Jo(e,t){let r=e.length,n,i,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);let u={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",u,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=u,e.push(["exit",u,t]),e}function Xo(e,t,r){let n=this,i=n.events.length,o,u;for(;i--;)if(n.events[i][1].type!=="lineEnding"&&n.events[i][1].type!=="linePrefix"&&n.events[i][1].type!=="content"){u=n.events[i][1].type==="paragraph";break}return a;function a(l){return!n.parser.lazy[n.now().line]&&(n.interrupt||u)?(e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),o=l,s(l)):r(l)}function s(l){return l===o?(e.consume(l),s):(e.exit("setextHeadingLineSequence"),R(e,c,"lineSuffix")(l))}function c(l){return l===null||I(l)?(e.exit("setextHeadingLine"),t(l)):r(l)}}var Qr={tokenize:eu};function eu(e){let t=this,r=e.attempt(ke,n,e.attempt(this.parser.constructs.flowInitial,i,R(e,e.attempt(this.parser.constructs.flow,i,e.attempt(It,i)),"linePrefix")));return r;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,r}}var Gr={resolveAll:Yr()},$r=Zr("string"),Kr=Zr("text");function Zr(e){return{tokenize:t,resolveAll:Yr(e==="text"?tu:void 0)};function t(r){let n=this,i=this.parser.constructs[e],o=r.attempt(i,u,a);return u;function u(l){return c(l)?o(l):a(l)}function a(l){if(l===null){r.consume(l);return}return r.enter("data"),r.consume(l),s}function s(l){return c(l)?(r.exit("data"),o(l)):(r.consume(l),s)}function c(l){if(l===null)return!0;let x=i[l],g=-1;if(x)for(;++g<x.length;){let h=x[g];if(!h.previous||h.previous.call(n,n.previous))return!0}return!1}}}function Yr(e){return t;function t(r,n){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(r,n):r}}function tu(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){let n=e[r-1][1],i=t.sliceStream(n),o=i.length,u=-1,a=0,s;for(;o--;){let c=i[o];if(typeof c=="string"){for(u=c.length;c.charCodeAt(u-1)===32;)a++,u--;if(u)break;u=-1}else if(c===-2)s=!0,a++;else if(c!==-1){o++;break}}if(a){let c={type:r===e.length||s||a<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-a,offset:n.end.offset-a,_index:n.start._index+o,_bufferIndex:o?u:n.start._bufferIndex+u},end:Object.assign({},n.end)};n.end=Object.assign({},c.start),n.start.offset===n.end.offset?Object.assign(n,c):(e.splice(r,0,["enter",c,t],["exit",c,t]),r+=2)}r++}return e}function Jr(e,t,r){let n=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1}),i={},o=[],u=[],a=[],s=!0,c={consume:q,enter:F,exit:k,attempt:v(P),check:v(z),interrupt:v(z,{interrupt:!0})},l={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:m,now:b,defineSkip:w,write:h},x=t.tokenize.call(l,c),g;return t.resolveAll&&o.push(t),l;function h(S){return u=te(u,S),T(),u[u.length-1]!==null?[]:(_(t,0),l.events=Fe(o,l.events,l),l.events)}function m(S,O){return nu(d(S),O)}function d(S){return ru(u,S)}function b(){return Object.assign({},n)}function w(S){i[S.line]=S.column,L()}function T(){let S;for(;n._index<u.length;){let O=u[n._index];if(typeof O=="string")for(S=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===S&&n._bufferIndex<O.length;)A(O.charCodeAt(n._bufferIndex));else A(O)}}function A(S){s=void 0,g=S,x=x(S)}function q(S){I(S)?(n.line++,n.column=1,n.offset+=S===-3?2:1,L()):S!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===u[n._index].length&&(n._bufferIndex=-1,n._index++)),l.previous=S,s=!0}function F(S,O){let M=O||{};return M.type=S,M.start=b(),l.events.push(["enter",M,l]),a.push(M),M}function k(S){let O=a.pop();return O.end=b(),l.events.push(["exit",O,l]),O}function P(S,O){_(S,O.from)}function z(S,O){O.restore()}function v(S,O){return M;function M(D,j,N){let K,Q,f,p;return Array.isArray(D)?be(D):"tokenize"in D?be([D]):Pe(D);function Pe($){return Re;function Re(de){let _e=de!==null&&$[de],Te=de!==null&&$.null,Ye=[...Array.isArray(_e)?_e:_e?[_e]:[],...Array.isArray(Te)?Te:Te?[Te]:[]];return be(Ye)(de)}}function be($){return K=$,Q=0,$.length===0?N:Ce($[Q])}function Ce($){return Re;function Re(de){return p=E(),f=$,$.partial||(l.currentConstruct=$),$.name&&l.parser.constructs.disable.null.includes($.name)?me(de):$.tokenize.call(O?Object.assign(Object.create(l),O):l,c,De,me)(de)}}function De($){return s=!0,S(f,p),j}function me($){return s=!0,p.restore(),++Q<K.length?Ce(K[Q]):N}}}function _(S,O){S.resolveAll&&!o.includes(S)&&o.push(S),S.resolve&&Y(l.events,O,l.events.length-O,S.resolve(l.events.slice(O),l)),S.resolveTo&&(l.events=S.resolveTo(l.events,l))}function E(){let S=b(),O=l.previous,M=l.currentConstruct,D=l.events.length,j=Array.from(a);return{restore:N,from:D};function N(){n=S,l.previous=O,l.currentConstruct=M,l.events.length=D,a=j,L()}}function L(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function ru(e,t){let r=t.start._index,n=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex,u;return r===i?u=[e[r].slice(n,o)]:(u=e.slice(r,i),n>-1&&(u[0]=u[0].slice(n)),o>0&&u.push(e[i].slice(0,o))),u}function nu(e,t){let r=-1,n=[],i;for(;++r<e.length;){let o=e[r],u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\\r";break}case-4:{u=`\n`;break}case-3:{u=`\\r\n`;break}case-2:{u=t?" ":"	";break}case-1:{if(!t&&i)continue;u=" ";break}default:u=String.fromCharCode(o)}i=o===-2,n.push(u)}return n.join("")}var Nt={};xr(Nt,{attentionMarkers:()=>pu,contentInitial:()=>ou,disable:()=>fu,document:()=>iu,flow:()=>au,flowInitial:()=>uu,insideSpan:()=>cu,string:()=>su,text:()=>lu});var iu={[42]:X,[43]:X,[45]:X,[48]:X,[49]:X,[50]:X,[51]:X,[52]:X,[53]:X,[54]:X,[55]:X,[56]:X,[57]:X,[62]:rt},ou={[91]:Lt},uu={[-2]:Ue,[-1]:Ue,[32]:Ue},au={[35]:qt,[42]:Se,[45]:[ct,Se],[60]:Pt,[61]:ct,[95]:Se,[96]:ot,[126]:ot},su={[38]:it,[92]:nt},lu={[-5]:He,[-4]:He,[-3]:He,[33]:Rt,[38]:it,[42]:We,[60]:[Ct,Dt],[91]:zt,[92]:[Ft,nt],[93]:ve,[95]:We,[96]:Tt},cu={null:[We,Gr]},pu={null:[42,95]},fu={null:[]};function Xr(e={}){let t=Dr([Nt].concat(e.extensions||[])),r={defined:[],lazy:{},constructs:t,content:n(jr),document:n(Ur),flow:n(Qr),string:n($r),text:n(Kr)};return r;function n(i){return o;function o(u){return Jr(r,i,u)}}}var en=/[\\0\\t\\n\\r]/g;function tn(){let e=1,t="",r=!0,n;return i;function i(o,u,a){let s=[],c,l,x,g,h;for(o=t+o.toString(u),x=0,t="",r&&(o.charCodeAt(0)===65279&&x++,r=void 0);x<o.length;){if(en.lastIndex=x,c=en.exec(o),g=c&&c.index!==void 0?c.index:o.length,h=o.charCodeAt(g),!c){t=o.slice(x);break}if(h===10&&x===g&&n)s.push(-3),n=void 0;else switch(n&&(s.push(-5),n=void 0),x<g&&(s.push(o.slice(x,g)),e+=g-x),h){case 0:{s.push(65533),e++;break}case 9:{for(l=Math.ceil(e/4)*4,s.push(-2);e++<l;)s.push(-1);break}case 10:{s.push(-4),e=1;break}default:n=!0,e=1}x=g+1}return a&&(n&&s.push(-5),t&&s.push(t),s.push(null)),s}}function rn(e){for(;!ut(e););return e}function pt(e,t){let r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"\\uFFFD":String.fromCharCode(r)}var hu=/\\\\([!-/:-@[-`{-~])|&(#(?:\\d{1,7}|x[\\da-f]{1,6})|[\\da-z]{1,31});/gi;function nn(e){return e.replace(hu,mu)}function mu(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){let i=r.charCodeAt(1),o=i===120||i===88;return pt(r.slice(o?2:1),o?16:10)}return qe(r)||e}function Ae(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?on(e.position):"start"in e||"end"in e?on(e):"line"in e||"column"in e?Bt(e):""}function Bt(e){return un(e&&e.line)+":"+un(e&&e.column)}function on(e){return Bt(e&&e.start)+"-"+Bt(e&&e.end)}function un(e){return e&&typeof e=="number"?e:1}var Mt={}.hasOwnProperty,jt=function(e,t,r){return typeof t!="string"&&(r=t,t=void 0),du(r)(rn(Xr(r).document().write(tn()(e,t,!0))))};function du(e={}){let t=sn({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(gr),autolinkProtocol:L,autolinkEmail:L,atxHeading:s(hr),blockQuote:s(Te),characterEscape:L,characterReference:L,codeFenced:s(Ye),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:s(Ye,c),codeText:s(li,c),codeTextData:L,data:L,codeFlowValue:L,definition:s(ci),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:s(pi),hardBreakEscape:s(mr),hardBreakTrailing:s(mr),htmlFlow:s(dr,c),htmlFlowData:L,htmlText:s(dr,c),htmlTextData:L,image:s(fi),label:c,link:s(gr),listItem:s(hi),listItemValue:d,listOrdered:s(wr,m),listUnordered:s(wr),paragraph:s(mi),reference:De,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:s(hr),strong:s(di),thematicBreak:s(wi)},exit:{atxHeading:x(),atxHeadingSequence:z,autolink:x(),autolinkEmail:_e,autolinkProtocol:de,blockQuote:x(),characterEscapeValue:S,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:Re,codeFenced:x(A),codeFencedFence:T,codeFencedFenceInfo:b,codeFencedFenceMeta:w,codeFlowValue:S,codeIndented:x(q),codeText:x(N),codeTextData:S,data:S,definition:x(),definitionDestinationString:P,definitionLabelString:F,definitionTitleString:k,emphasis:x(),hardBreakEscape:x(M),hardBreakTrailing:x(M),htmlFlow:x(D),htmlFlowData:S,htmlText:x(j),htmlTextData:S,image:x(Q),label:p,labelText:f,lineEnding:O,link:x(K),listItem:x(),listOrdered:x(),listUnordered:x(),paragraph:x(),referenceString:me,resourceDestinationString:Pe,resourceTitleString:be,resource:Ce,setextHeading:x(E),setextHeadingLineSequence:_,setextHeadingText:v,strong:x(),thematicBreak:x()}},e.mdastExtensions||[]),r={};return n;function n(y){let C={type:"root",children:[]},B=[C],U=[],ae=[],ze={stack:B,tokenStack:U,config:t,enter:l,exit:g,buffer:c,resume:h,setData:o,getData:u},H=-1;for(;++H<y.length;)if(y[H][1].type==="listOrdered"||y[H][1].type==="listUnordered")if(y[H][0]==="enter")ae.push(H);else{let Z=ae.pop();H=i(y,Z,H)}for(H=-1;++H<y.length;){let Z=t[y[H][0]];Mt.call(Z,y[H][1].type)&&Z[y[H][1].type].call(Object.assign({sliceSerialize:y[H][2].sliceSerialize},ze),y[H][1])}if(U.length>0){let Z=U[U.length-1];(Z[1]||an).call(ze,void 0,Z[0])}for(C.position={start:a(y.length>0?y[0][1].start:{line:1,column:1,offset:0}),end:a(y.length>0?y[y.length-2][1].end:{line:1,column:1,offset:0})},H=-1;++H<t.transforms.length;)C=t.transforms[H](C)||C;return C}function i(y,C,B){let U=C-1,ae=-1,ze=!1,H,Z,Ie,Ne;for(;++U<=B;){let V=y[U];if(V[1].type==="listUnordered"||V[1].type==="listOrdered"||V[1].type==="blockQuote"?(V[0]==="enter"?ae++:ae--,Ne=void 0):V[1].type==="lineEndingBlank"?V[0]==="enter"&&(H&&!Ne&&!ae&&!Ie&&(Ie=U),Ne=void 0):V[1].type==="linePrefix"||V[1].type==="listItemValue"||V[1].type==="listItemMarker"||V[1].type==="listItemPrefix"||V[1].type==="listItemPrefixWhitespace"||(Ne=void 0),!ae&&V[0]==="enter"&&V[1].type==="listItemPrefix"||ae===-1&&V[0]==="exit"&&(V[1].type==="listUnordered"||V[1].type==="listOrdered")){if(H){let xt=U;for(Z=void 0;xt--;){let ge=y[xt];if(ge[1].type==="lineEnding"||ge[1].type==="lineEndingBlank"){if(ge[0]==="exit")continue;Z&&(y[Z][1].type="lineEndingBlank",ze=!0),ge[1].type="lineEnding",Z=xt}else if(!(ge[1].type==="linePrefix"||ge[1].type==="blockQuotePrefix"||ge[1].type==="blockQuotePrefixWhitespace"||ge[1].type==="blockQuoteMarker"||ge[1].type==="listItemIndent"))break}Ie&&(!Z||Ie<Z)&&(H._spread=!0),H.end=Object.assign({},Z?y[Z][1].start:V[1].end),y.splice(Z||U,0,["exit",H,V[2]]),U++,B++}V[1].type==="listItemPrefix"&&(H={type:"listItem",_spread:!1,start:Object.assign({},V[1].start)},y.splice(U,0,["enter",H,V[2]]),U++,B++,Ie=void 0,Ne=!0)}}return y[C][1]._spread=ze,B}function o(y,C){r[y]=C}function u(y){return r[y]}function a(y){return{line:y.line,column:y.column,offset:y.offset}}function s(y,C){return B;function B(U){l.call(this,y(U),U),C&&C.call(this,U)}}function c(){this.stack.push({type:"fragment",children:[]})}function l(y,C,B){return this.stack[this.stack.length-1].children.push(y),this.stack.push(y),this.tokenStack.push([C,B]),y.position={start:a(C.start)},y}function x(y){return C;function C(B){y&&y.call(this,B),g.call(this,B)}}function g(y,C){let B=this.stack.pop(),U=this.tokenStack.pop();if(U)U[0].type!==y.type&&(C?C.call(this,y,U[0]):(U[1]||an).call(this,y,U[0]));else throw new Error("Cannot close `"+y.type+"` ("+Ae({start:y.start,end:y.end})+"): it\\u2019s not open");return B.position.end=a(y.end),B}function h(){return qr(this.stack.pop())}function m(){o("expectingFirstListItemValue",!0)}function d(y){if(u("expectingFirstListItemValue")){let C=this.stack[this.stack.length-2];C.start=Number.parseInt(this.sliceSerialize(y),10),o("expectingFirstListItemValue")}}function b(){let y=this.resume(),C=this.stack[this.stack.length-1];C.lang=y}function w(){let y=this.resume(),C=this.stack[this.stack.length-1];C.meta=y}function T(){u("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function A(){let y=this.resume(),C=this.stack[this.stack.length-1];C.value=y.replace(/^(\\r?\\n|\\r)|(\\r?\\n|\\r)$/g,""),o("flowCodeInside")}function q(){let y=this.resume(),C=this.stack[this.stack.length-1];C.value=y.replace(/(\\r?\\n|\\r)$/g,"")}function F(y){let C=this.resume(),B=this.stack[this.stack.length-1];B.label=C,B.identifier=we(this.sliceSerialize(y)).toLowerCase()}function k(){let y=this.resume(),C=this.stack[this.stack.length-1];C.title=y}function P(){let y=this.resume(),C=this.stack[this.stack.length-1];C.url=y}function z(y){let C=this.stack[this.stack.length-1];if(!C.depth){let B=this.sliceSerialize(y).length;C.depth=B}}function v(){o("setextHeadingSlurpLineEnding",!0)}function _(y){let C=this.stack[this.stack.length-1];C.depth=this.sliceSerialize(y).charCodeAt(0)===61?1:2}function E(){o("setextHeadingSlurpLineEnding")}function L(y){let C=this.stack[this.stack.length-1],B=C.children[C.children.length-1];(!B||B.type!=="text")&&(B=gi(),B.position={start:a(y.start)},C.children.push(B)),this.stack.push(B)}function S(y){let C=this.stack.pop();C.value+=this.sliceSerialize(y),C.position.end=a(y.end)}function O(y){let C=this.stack[this.stack.length-1];if(u("atHardBreak")){let B=C.children[C.children.length-1];B.position.end=a(y.end),o("atHardBreak");return}!u("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(C.type)&&(L.call(this,y),S.call(this,y))}function M(){o("atHardBreak",!0)}function D(){let y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function j(){let y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function N(){let y=this.resume(),C=this.stack[this.stack.length-1];C.value=y}function K(){let y=this.stack[this.stack.length-1];u("inReference")?(y.type+="Reference",y.referenceType=u("referenceType")||"shortcut",delete y.url,delete y.title):(delete y.identifier,delete y.label),o("referenceType")}function Q(){let y=this.stack[this.stack.length-1];u("inReference")?(y.type+="Reference",y.referenceType=u("referenceType")||"shortcut",delete y.url,delete y.title):(delete y.identifier,delete y.label),o("referenceType")}function f(y){let C=this.stack[this.stack.length-2],B=this.sliceSerialize(y);C.label=nn(B),C.identifier=we(B).toLowerCase()}function p(){let y=this.stack[this.stack.length-1],C=this.resume(),B=this.stack[this.stack.length-1];o("inReference",!0),B.type==="link"?B.children=y.children:B.alt=C}function Pe(){let y=this.resume(),C=this.stack[this.stack.length-1];C.url=y}function be(){let y=this.resume(),C=this.stack[this.stack.length-1];C.title=y}function Ce(){o("inReference")}function De(){o("referenceType","collapsed")}function me(y){let C=this.resume(),B=this.stack[this.stack.length-1];B.label=C,B.identifier=we(this.sliceSerialize(y)).toLowerCase(),o("referenceType","full")}function $(y){o("characterReferenceType",y.type)}function Re(y){let C=this.sliceSerialize(y),B=u("characterReferenceType"),U;B?(U=pt(C,B==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):U=qe(C);let ae=this.stack.pop();ae.value+=U,ae.position.end=a(y.end)}function de(y){S.call(this,y);let C=this.stack[this.stack.length-1];C.url=this.sliceSerialize(y)}function _e(y){S.call(this,y);let C=this.stack[this.stack.length-1];C.url="mailto:"+this.sliceSerialize(y)}function Te(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function li(){return{type:"inlineCode",value:""}}function ci(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function pi(){return{type:"emphasis",children:[]}}function hr(){return{type:"heading",depth:void 0,children:[]}}function mr(){return{type:"break"}}function dr(){return{type:"html",value:""}}function fi(){return{type:"image",title:null,url:"",alt:null}}function gr(){return{type:"link",title:null,url:"",children:[]}}function wr(y){return{type:"list",ordered:y.type==="listOrdered",start:null,spread:y._spread,children:[]}}function hi(y){return{type:"listItem",spread:y._spread,checked:null,children:[]}}function mi(){return{type:"paragraph",children:[]}}function di(){return{type:"strong",children:[]}}function gi(){return{type:"text",value:""}}function wi(){return{type:"thematicBreak"}}}function sn(e,t){let r=-1;for(;++r<t.length;){let n=t[r];Array.isArray(n)?sn(e,n):gu(e,n)}return e}function gu(e,t){let r;for(r in t)if(Mt.call(t,r)){let n=r==="canContainEols"||r==="transforms",o=(Mt.call(e,r)?e[r]:void 0)||(e[r]=n?[]:{}),u=t[r];u&&(n?e[r]=[...o,...u]:Object.assign(o,u))}}function an(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ae({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ae({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ae({start:t.start,end:t.end})+") is still open")}function Wt(e){Object.assign(this,{Parser:r=>{let n=this.data("settings");return jt(r,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}var ln=Wt;function Ut(e){if(e)throw e}var Tn=xe(Ht(),1),Yt=xe(yn(),1);function Ve(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kn(){let e=[],t={run:r,use:n};return t;function r(...i){let o=-1,u=i.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);a(null,...i);function a(s,...c){let l=e[++o],x=-1;if(s){u(s);return}for(;++x<i.length;)(c[x]===null||c[x]===void 0)&&(c[x]=i[x]);i=c,l?wu(l,a)(...c):u(null,...c)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function wu(e,t){let r;return n;function n(...u){let a=e.length>u.length,s;a&&u.push(i);try{s=e.apply(this,u)}catch(c){let l=c;if(a&&r)throw l;return i(l)}a||(s instanceof Promise?s.then(o,i):s instanceof Error?i(s):o(s))}function i(u,...a){r||(r=!0,t(u,...a))}function o(u){i(null,u)}}var Sn=xe(Ht(),1);var ne=class extends Error{constructor(t,r,n){let i=[null,null],o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof r=="string"&&(n=r,r=void 0),typeof n=="string"){let u=n.indexOf(":");u===-1?i[1]=n:(i[0]=n.slice(0,u),i[1]=n.slice(u+1))}r&&("type"in r||"position"in r?r.position&&(o=r.position):"start"in r||"end"in r?o=r:("line"in r||"column"in r)&&(o.start=r)),this.name=Ae(r)||"1:1",this.message=typeof t=="object"?t.message:t,this.stack=typeof t=="object"?t.stack:"",this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.source=i[0],this.ruleId=i[1],this.position=o,this.actual,this.expected,this.file,this.url,this.note}};ne.prototype.file="";ne.prototype.name="";ne.prototype.reason="";ne.prototype.message="";ne.prototype.stack="";ne.prototype.fatal=null;ne.prototype.column=null;ne.prototype.line=null;ne.prototype.source=null;ne.prototype.ruleId=null;ne.prototype.position=null;var le={basename:xu,dirname:yu,extname:ku,join:bu,sep:"/"};function xu(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError(\'"ext" argument must be a string\');Qe(e);let r=0,n=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.charCodeAt(i)===47){if(o){r=i+1;break}}else n<0&&(o=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let u=-1,a=t.length-1;for(;i--;)if(e.charCodeAt(i)===47){if(o){r=i+1;break}}else u<0&&(o=!0,u=i+1),a>-1&&(e.charCodeAt(i)===t.charCodeAt(a--)?a<0&&(n=i):(a=-1,n=u));return r===n?n=u:n<0&&(n=e.length),e.slice(r,n)}function yu(e){if(Qe(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.charCodeAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.charCodeAt(0)===47?"/":".":t===1&&e.charCodeAt(0)===47?"//":e.slice(0,t)}function ku(e){Qe(e);let t=e.length,r=-1,n=0,i=-1,o=0,u;for(;t--;){let a=e.charCodeAt(t);if(a===47){if(u){n=t+1;break}continue}r<0&&(u=!0,r=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function bu(...e){let t=-1,r;for(;++t<e.length;)Qe(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":Eu(r)}function Eu(e){Qe(e);let t=e.charCodeAt(0)===47,r=vu(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.charCodeAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function vu(e,t){let r="",n=0,i=-1,o=0,u=-1,a,s;for(;++u<=e.length;){if(u<e.length)a=e.charCodeAt(u);else{if(a===47)break;a=47}if(a===47){if(!(i===u-1||o===1))if(i!==u-1&&o===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){if(s=r.lastIndexOf("/"),s!==r.length-1){s<0?(r="",n=0):(r=r.slice(0,s),n=r.length-1-r.lastIndexOf("/")),i=u,o=0;continue}}else if(r.length>0){r="",n=0,i=u,o=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,u):r=e.slice(i+1,u),n=u-i-1;i=u,o=0}else a===46&&o>-1?o++:o=-1}return r}function Qe(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}var bn={cwd:Su};function Su(){return"/"}function Oe(e){return e!==null&&typeof e=="object"&&e.href&&e.origin}function En(e){if(typeof e=="string")e=new URL(e);else if(!Oe(e)){let t=new TypeError(\'The "path" argument must be of type string or an instance of URL. Received `\'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){let t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Au(e)}function Au(e){if(e.hostname!==""){let n=new TypeError(\'File URL host must be "localhost" or empty on darwin\');throw n.code="ERR_INVALID_FILE_URL_HOST",n}let t=e.pathname,r=-1;for(;++r<t.length;)if(t.charCodeAt(r)===37&&t.charCodeAt(r+1)===50){let n=t.charCodeAt(r+2);if(n===70||n===102){let i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}var Vt=["history","path","basename","stem","extname","dirname"],Ge=class{constructor(t){let r;t?typeof t=="string"||(0,Sn.default)(t)?r={value:t}:Oe(t)?r={path:t}:r=t:r={},this.data={},this.messages=[],this.history=[],this.cwd=bn.cwd(),this.value,this.stored,this.result,this.map;let n=-1;for(;++n<Vt.length;){let o=Vt[n];o in r&&r[o]!==void 0&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)Vt.includes(i)||(this[i]=r[i])}get path(){return this.history[this.history.length-1]}set path(t){Oe(t)&&(t=En(t)),Gt(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return typeof this.path=="string"?le.dirname(this.path):void 0}set dirname(t){vn(this.basename,"dirname"),this.path=le.join(t||"",this.basename)}get basename(){return typeof this.path=="string"?le.basename(this.path):void 0}set basename(t){Gt(t,"basename"),Qt(t,"basename"),this.path=le.join(this.dirname||"",t)}get extname(){return typeof this.path=="string"?le.extname(this.path):void 0}set extname(t){if(Qt(t,"extname"),vn(this.dirname,"extname"),t){if(t.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=le.join(this.dirname,this.stem+(t||""))}get stem(){return typeof this.path=="string"?le.basename(this.path,this.extname):void 0}set stem(t){Gt(t,"stem"),Qt(t,"stem"),this.path=le.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,r,n){let i=new ne(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(t,r,n){let i=this.message(t,r,n);return i.fatal=null,i}fail(t,r,n){let i=this.message(t,r,n);throw i.fatal=!0,i}};function Qt(e,t){if(e&&e.includes(le.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+le.sep+"`")}function Gt(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function vn(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}var Jt=Ln().freeze(),In={}.hasOwnProperty;function Ln(){let e=kn(),t=[],r={},n,i=-1;return o.data=u,o.Parser=void 0,o.Compiler=void 0,o.freeze=a,o.attachers=t,o.use=s,o.parse=c,o.stringify=l,o.run=x,o.runSync=g,o.process=h,o.processSync=m,o;function o(){let d=Ln(),b=-1;for(;++b<t.length;)d.use(...t[b]);return d.data((0,Yt.default)(!0,{},r)),d}function u(d,b){return typeof d=="string"?arguments.length===2?(Zt("data",n),r[d]=b,o):In.call(r,d)&&r[d]||null:d?(Zt("data",n),r=d,o):r}function a(){if(n)return o;for(;++i<t.length;){let[d,...b]=t[i];if(b[0]===!1)continue;b[0]===!0&&(b[0]=void 0);let w=d.call(o,...b);typeof w=="function"&&e.use(w)}return n=!0,i=Number.POSITIVE_INFINITY,o}function s(d,...b){let w;if(Zt("use",n),d!=null)if(typeof d=="function")F(d,...b);else if(typeof d=="object")Array.isArray(d)?q(d):A(d);else throw new TypeError("Expected usable value, not `"+d+"`");return w&&(r.settings=Object.assign(r.settings||{},w)),o;function T(k){if(typeof k=="function")F(k);else if(typeof k=="object")if(Array.isArray(k)){let[P,...z]=k;F(P,...z)}else A(k);else throw new TypeError("Expected usable value, not `"+k+"`")}function A(k){q(k.plugins),k.settings&&(w=Object.assign(w||{},k.settings))}function q(k){let P=-1;if(k!=null)if(Array.isArray(k))for(;++P<k.length;){let z=k[P];T(z)}else throw new TypeError("Expected a list of plugins, not `"+k+"`")}function F(k,P){let z=-1,v;for(;++z<t.length;)if(t[z][0]===k){v=t[z];break}v?(Ve(v[1])&&Ve(P)&&(P=(0,Yt.default)(!0,v[1],P)),v[1]=P):t.push([...arguments])}}function c(d){o.freeze();let b=$e(d),w=o.Parser;return $t("parse",w),An(w,"parse")?new w(String(b),b).parse():w(String(b),b)}function l(d,b){o.freeze();let w=$e(b),T=o.Compiler;return Kt("stringify",T),Cn(d),An(T,"compile")?new T(d,w).compile():T(d,w)}function x(d,b,w){if(Cn(d),o.freeze(),!w&&typeof b=="function"&&(w=b,b=void 0),!w)return new Promise(T);T(null,w);function T(A,q){e.run(d,$e(b),F);function F(k,P,z){P=P||d,k?q(k):A?A(P):w(null,P,z)}}}function g(d,b){let w,T;return o.run(d,b,A),_n("runSync","run",T),w;function A(q,F){Ut(q),w=F,T=!0}}function h(d,b){if(o.freeze(),$t("process",o.Parser),Kt("process",o.Compiler),!b)return new Promise(w);w(null,b);function w(T,A){let q=$e(d);o.run(o.parse(q),q,(k,P,z)=>{if(k||!P||!z)F(k);else{let v=o.stringify(P,z);v==null||(Tu(v)?z.value=v:z.result=v),F(k,z)}});function F(k,P){k||!P?A(k):T?T(P):b(null,P)}}}function m(d){let b;o.freeze(),$t("processSync",o.Parser),Kt("processSync",o.Compiler);let w=$e(d);return o.process(w,T),_n("processSync","process",b),w;function T(A){b=!0,Ut(A)}}}function An(e,t){return typeof e=="function"&&e.prototype&&(Cu(e.prototype)||t in e.prototype)}function Cu(e){let t;for(t in e)if(In.call(e,t))return!0;return!1}function $t(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Parser`")}function Kt(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `Compiler`")}function Zt(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Cn(e){if(!Ve(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function _n(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $e(e){return _u(e)?e:new Ge(e)}function _u(e){return Boolean(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Tu(e){return typeof e=="string"||(0,Tn.default)(e)}var Fn={}.hasOwnProperty;function fe(e,t){var r=t||{};function n(i){var o=n.invalid,u=n.handlers;if(i&&Fn.call(i,e)&&(o=Fn.call(u,i[e])?u[i[e]]:n.unknown),o)return o.apply(this,arguments)}return n.handlers=r.handlers||{},n.invalid=r.invalid,n.unknown=r.unknown,n}function qn(e){return e.type==="RootNode"||e.type==="root"}function ht(e){return Array.isArray(e.children)}var Iu={}.hasOwnProperty,Lu=fe("nestingOperator",{unknown:Fu,invalid:qu,handlers:{null:On,">":Xt,"+":Ou,"~":Pu}}),tr=Lu;function Fu(e){throw new Error("Unexpected nesting `"+e.nestingOperator+"`")}function qu(e,t,r,n,i){if(n)throw new Error("topScan is supposed to be called from the root node");if(!i.iterator)throw new Error("Expected `iterator` to be defined");if(typeof r!="number")throw new TypeError("Expected `index` to be defined");i.iterator(e,t,r,n,i),i.shallow||On(e,t,r,n,i)}function On(e,t,r,n,i){if(!i.iterator)throw new Error("Expected `iterator` to be defined");let o=i.iterator;i.iterator=u,Xt(e,t,r,n,i);function u(a,s,c,l,x){x.iterator=o,o(a,s,c,l,x),x.iterator=u,!(x.one&&x.found)&&Xt(a,s,c,l,x)}}function Xt(e,t,r,n,i){!ht(t)||t.children.length!==0&&new Ke(e,t,i).each().done()}function Ou(e,t,r,n,i){if(typeof r!="number")throw new TypeError("Expected `index` to be defined");!n||new Ke(e,n,i).prefillTypeIndex(0,++r).each(r,++r).prefillTypeIndex(r).done()}function Pu(e,t,r,n,i){if(typeof r!="number")throw new TypeError("Expected `index` to be defined");!n||new Ke(e,n,i).prefillTypeIndex(0,++r).each(r).done()}var Ke=class{constructor(t,r,n){this.query=t,this.parent=r,this.state=n,this.typeIndex=n.index?new er:void 0,this.delayed=[]}prefillTypeIndex(t,r){let[n,i]=this.defaults(t,r);if(this.typeIndex)for(;n<i;)this.typeIndex.index(this.parent.children[n]),n++;return this}each(t,r){let[n,i]=this.defaults(t,r),o=this.parent.children[n],u,a;if(n>=i)return this;if(this.typeIndex)a=this.typeIndex.nodes,u=this.typeIndex.index(o),this.delayed.push(s);else{if(!this.state.iterator)throw new Error("Expected `iterator` to be defined");this.state.iterator(this.query,o,n,this.parent,this.state)}if(this.state.one&&this.state.found)return this;return this.each(n+1,i);function s(){if(!this.typeIndex)throw new TypeError("Expected `typeIndex` to be defined");if(!this.state.iterator)throw new Error("Expected `iterator` to be defined");this.state.typeIndex=u,this.state.nodeIndex=a,this.state.typeCount=this.typeIndex.count(o),this.state.nodeCount=this.typeIndex.nodes,this.state.iterator(this.query,o,n,this.parent,this.state)}}done(){let t=-1;for(;++t<this.delayed.length&&(this.delayed[t].call(this),!(this.state.one&&this.state.found)););return this}defaults(t,r){return(t==null||t<0)&&(t=0),(r==null||r>this.parent.children.length)&&(r=this.parent.children.length),[t,r]}},er=class{constructor(){this.counts={},this.nodes=0}index(t){let r=t.type;return this.nodes++,Iu.call(this.counts,r)||(this.counts[r]=0),this.counts[r]++}count(t){return this.counts[t.type]}};var rr=function(e){if(e==null)return Nu;if(typeof e=="string")return zu(e);if(typeof e=="object")return Array.isArray(e)?Du(e):Ru(e);if(typeof e=="function")return mt(e);throw new Error("Expected function, string, or object as test")};function Du(e){let t=[],r=-1;for(;++r<e.length;)t[r]=rr(e[r]);return mt(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].call(this,...i))return!0;return!1}}function Ru(e){return mt(t);function t(r){let n;for(n in e)if(r[n]!==e[n])return!1;return!0}}function zu(e){return mt(t);function t(r){return r&&r.type===e}}function mt(e){return t;function t(...r){return Boolean(e.call(this,...r))}}function Nu(){return!0}var Dn=rr(),Bu=fe("name",{unknown:ea,invalid:Xu,handlers:{any:nr,blank:Pn,empty:Pn,"first-child":Uu,"first-of-type":Zu,has:ta,"last-child":Hu,"last-of-type":Yu,matches:nr,not:Mu,"nth-child":Qu,"nth-last-child":Gu,"nth-of-type":$u,"nth-last-of-type":Ku,"only-child":Vu,"only-of-type":Ju,root:ju,scope:Wu}});Ze.needsIndex=["first-child","first-of-type","last-child","last-of-type","nth-child","nth-last-child","nth-of-type","nth-last-of-type","only-child","only-of-type"];function Ze(e,t,r,n,i){let o=e.pseudos,u=-1;for(;++u<o.length;)if(!Bu(o[u],t,r,n,i))return!1;return!0}function nr(e,t,r,n,i){let o=i.shallow,u=i.one;i.one=!0,i.shallow=!0;let a=i.any(e.value,t,i)[0]===t;return i.shallow=o,i.one=u,a}function Mu(e,t,r,n,i){return!nr(e,t,r,n,i)}function ju(e,t,r,n){return Dn(t)&&!n}function Wu(e,t,r,n,i){return Dn(t)&&i.scopeNodes!==void 0&&i.scopeNodes.includes(t)}function Pn(e,t){return ht(t)?t.children.length===0:!("value"in t)}function Uu(e,t,r,n,i){return he(i,e),i.nodeIndex===0}function Hu(e,t,r,n,i){return he(i,e),typeof i.nodeCount=="number"&&i.nodeIndex===i.nodeCount-1}function Vu(e,t,r,n,i){return he(i,e),i.nodeCount===1}function Qu(e,t,r,n,i){return he(i,e),typeof i.nodeIndex=="number"&&e.value(i.nodeIndex)}function Gu(e,t,r,n,i){return he(i,e),typeof i.nodeCount=="number"&&typeof i.nodeIndex=="number"&&e.value(i.nodeCount-i.nodeIndex-1)}function $u(e,t,r,n,i){return he(i,e),typeof i.typeIndex=="number"&&e.value(i.typeIndex)}function Ku(e,t,r,n,i){return he(i,e),typeof i.typeIndex=="number"&&typeof i.typeCount=="number"&&e.value(i.typeCount-1-i.typeIndex)}function Zu(e,t,r,n,i){return he(i,e),i.typeIndex===0}function Yu(e,t,r,n,i){return he(i,e),typeof i.typeCount=="number"&&i.typeIndex===i.typeCount-1}function Ju(e,t,r,n,i){return he(i,e),i.typeCount===1}function Xu(){throw new Error("Invalid pseudo-selector")}function ea(e){throw e.name?new Error("Unknown pseudo-selector `"+e.name+"`"):new Error("Unexpected pseudo-element or empty pseudo-class")}function he(e,t){if(e.shallow)throw new Error("Cannot use `:"+t.name+"` without parent")}function ta(e,t,r,n,i){let o=i.shallow,u=i.one,a=i.scopeNodes,s=ra(e.value),c=i.any;i.shallow=!1,i.one=!0,i.scopeNodes=[t];let l=Boolean(c(s,t,i)[0]);return i.shallow=o,i.one=u,i.scopeNodes=a,l}function ra(e){let t=e.type==="ruleSet"?{type:"selectors",selectors:[e]}:e,r=-1,n;for(;++r<t.selectors.length;)n=t.selectors[r].rule,n.nestingOperator=null,(!n.pseudos||n.pseudos.length!==1||n.pseudos[0].name!=="scope")&&(t.selectors[r]={type:"ruleSet",rule:{type:"rule",rule:n,pseudos:[{name:"scope"}]}});return t}var na=fe("operator",{unknown:la,invalid:zn,handlers:{"=":ia,"^=":ua,"$=":aa,"*=":sa,"~=":oa}});function Rn(e,t){let r=-1;for(;++r<e.attrs.length;)if(!na(e.attrs[r],t))return!1;return!0}function zn(e,t){return t[e.name]!==null&&t[e.name]!==void 0}function ia(e,t){return zn(e,t)&&String(t[e.name])===e.value}function oa(e,t){let r=t[e.name];return r==null?!1:Array.isArray(r)&&r.includes(e.value)?!0:String(r)===e.value}function ua(e,t){let r=t[e.name];return e.value&&typeof r=="string"&&r.slice(0,e.value.length)===e.value}function aa(e,t){let r=t[e.name];return e.value&&typeof r=="string"&&r.slice(-e.value.length)===e.value}function sa(e,t){let r=t[e.name];return e.value&&typeof r=="string"&&r.includes(e.value)}function la(e){throw new Error("Unknown operator `"+e.operator+"`")}function Nn(e,t){return e.tagName==="*"||e.tagName===t.type}function Bn(e,t,r,n,i){if(e.id)throw new Error("Invalid selector: id");if(e.classNames)throw new Error("Invalid selector: class");return Boolean(t&&(!e.tagName||Nn(e,t))&&(!e.attrs||Rn(e,t))&&(!e.pseudos||Ze(e,t,r,n,i)))}var ca=fe("type",{unknown:fa,invalid:ha,handlers:{selectors:pa,ruleSet:jn,rule:Wn}});function ir(e,t,r){return e&&t?ca(e,t,r):[]}function pa(e,t,r){let n=Un(r.one),i=-1;for(;++i<e.selectors.length;)n(jn(e.selectors[i],t,r));return n.result}function jn(e,t,r){return Wn(e.rule,t,r)}function Wn(e,t,r){let n=Un(r.one);if(r.shallow&&e.rule)throw new Error("Expected selector without nesting");return tr(e,t,0,null,Mn(e,{scopeNodes:qn(t)?t.children:[t],index:!1,iterator:i,one:r.one,shallow:r.shallow,any:r.any})),n.result;function i(o,u,a,s,c){Bn(o,u,a,s,c)&&(o.rule?tr(o.rule,u,a,s,Mn(o.rule,c)):(n(u),c.found=!0))}}function Mn(e,t){let r=e.pseudos||[],n=-1;for(;++n<r.length;)if(Ze.needsIndex.includes(r[n].name)){t.index=!0;break}return t}function fa(e){throw new Error("Unknown type `"+e.type+"`")}function ha(){throw new Error("Invalid type")}function Un(e){let t=[],r;return n.result=t,n;function n(o){let u=-1;if("length"in o)for(;++u<o.length;)i(o[u]);else i(o)}function i(o){if(e){if(r)throw new Error("Cannot collect multiple nodes");r=!0}t.includes(o)||t.push(o)}}var Jn=xe(Qn(),1);var va=new Set([9,10,12,13,32]),Gn="0".charCodeAt(0),Sa="9".charCodeAt(0);function $n(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,r=0,n=o(),i=u();if(t<e.length&&e.charAt(t)==="n"&&(t++,r=n*(i??1),a(),t<e.length?(n=o(),a(),i=u()):n=i=0),i===null||t<e.length)throw new Error(`n-th rule couldn\'t be parsed (\'${e}\')`);return[r,n*i];function o(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function u(){let s=t,c=0;for(;t<e.length&&e.charCodeAt(t)>=Gn&&e.charCodeAt(t)<=Sa;)c=c*10+(e.charCodeAt(t)-Gn),t++;return t===s?null:c}function a(){for(;t<e.length&&va.has(e.charCodeAt(t));)t++}}var lr=xe(Zn(),1);function Yn(e){let t=e[0],r=e[1]-1;if(r<0&&t<=0)return lr.default.falseFunc;if(t===-1)return o=>o<=r;if(t===0)return o=>o===r;if(t===1)return r<0?lr.default.trueFunc:o=>o>=r;let n=Math.abs(t),i=(r%n+n)%n;return t>1?o=>o>=r&&o%n===i:o=>o<=r&&o%n===i}function cr(e){return Yn($n(e))}var Aa=cr.default,Ca=new Set(["nth-child","nth-last-child","nth-of-type","nth-last-of-type"]),gt=new Jn.CssSelectorParser;gt.registerAttrEqualityMods("~","^","$","*");gt.registerSelectorPseudos("any","matches","not","has");gt.registerNestingOperators(">","+","~");var pr=fe("type",{handlers:{selectors:_a,ruleSet:Ta,rule:ei}});function Xn(e){if(typeof e!="string")throw new TypeError("Expected `string` as selector, not `"+e+"`");return pr(gt.parse(e))}function _a(e){let t=e.selectors,r=-1;for(;++r<t.length;)pr(t[r]);return e}function Ta(e){return ei(e.rule)}function ei(e){let t=e.pseudos||[],r=-1,n;for(;++r<t.length;)n=t[r],Ca.has(n.name)&&(n.value=Aa(n.value),n.valueType="function");return pr(e.rule),e}function fr(e,t){return ir(Xn(e),t,{any:ir})}var Ia=Jt().use(ln).freeze(),La=e=>{let t=Ia.parse(e),r=fr("blockquote > paragraph link",t).filter(({url:a})=>{try{let s=new URL(a);return s.protocol==="zotero:"&&s.searchParams.has("annotation")}catch{return!1}}),n=fr("blockquote > paragraph",t),i=new Map;for(let{children:a}of n){let s="";for(let c of a)if(c.type==="text")s+=c.value;else if(c.type==="link")i.set(c,s.replace(/\\n+/g," ").trim()),s="";else{let{start:l,end:x}=c.position;s+=e.slice(l.offset,x.offset)}}let o=Fa(e,r.map(({position:{start:a,end:s}})=>[a.offset,s.offset]));return{annots:r.map(a=>{let{url:s,children:c}=a,l=c[0],x=c[c.length-1],g={annotKey:new URL(s).searchParams.get("annotation"),url:s,fallback:i.get(a)??""};return c.length===1&&l.type==="inlineCode"&&l.value?{...g,alt:l.value,altType:"code"}:c.length>0&&l.type==="text"&&l.value.startsWith("%%")&&x.type==="text"&&x.value.endsWith("%%")?{...g,alt:ti(e,c).slice(2,-2),altType:"text"}:{...g,alt:ti(e,c),altType:"none"}}),withoutLinks:o}},ri=La,Fa=(e,t)=>{let r=0;for(let[n,i]of t)e=e.slice(0,n+r)+e.slice(i+r),r+=n-i;return e},ti=(e,t)=>{if(t.length===0)return"";let r=t[0].position.start.offset,n=t[t.length-1].position.end.offset;return e.slice(r,n)};var oi=xe(ii()),qa=e=>{let t=e.map(({text:n,alt:i,altType:o})=>{if(o==="code")try{return`${new Function("raw",`return raw.${i}`)(n)}`}catch(u){let a=`Failed to alter annotation "${n}", error: ${u}`;return console.error(a,u),`<span style="color:var(--text-error)">${n}</span>`}else{if(o==="text")return i;if(o==="none")return n;(0,oi.assertNever)(o)}}),r=e.map(({url:n,altType:i,alt:o},u)=>`[${i==="none"&&o&&!Oa.has(o.toLowerCase())?o:u>0?u:"annot"}](${n})`);return[t.join(" ")+" "+r.join(" ")].map(n=>"> "+n).join(`\n`)},Oa=new Set(["zotero","annot"]),ui=qa;var Pa={parse:ri,stringify:ui};(0,ai.worker)((0,si.logError)(Pa));\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/**\n * workerpool.js\n * https://github.com/josdejong/workerpool\n *\n * Offload tasks to a pool of workers on node.js and in the browser.\n *\n * @version 6.2.1-mod.13\n * @date    2022-10-04\n *\n * @license\n * Copyright (C) 2014-2022 Jos de Jong <wjosdejong@gmail.com>\n *\n * Licensed under the Apache License, Version 2.0 (the "License"); you may not\n * use this file except in compliance with the License. You may obtain a copy\n * of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n';function U1(){return URL.createObjectURL(new Blob([vR],{type:"text/javascript"}))}var a2=_(Wt()),sc=require("obsidian");var Yh=class extends sc.MarkdownRenderChild{constructor(r,n,i){super(r);this.db=n;this.worker=i;this.cache=null}async render(r){this.containerEl.empty();let n,i,o;if(r)[o,i]=r,this.cache=null,n=(await this.worker.parse(o)).annots,this.cache=[n,i,o];else if(this.cache)[n,i,o]=this.cache;else{V.debug("Cannot render without spec or cache");return}let s;try{let a=await this.db.getAnnotFromKey(n.map(({annotKey:u})=>u));s=await this.worker.stringify(n.map(({annotKey:u,...l})=>({...l,annotKey:u,text:a[u]?.type===a2.AnnotationType.highlight?a[u].text??"":""})))}catch(a){V.error("Failed to stringify annots",a),s=o}await sc.MarkdownRenderer.renderMarkdown(s,this.containerEl,i,this)}onload(){this.registerEvent(this.db.on("refresh",this.render.bind(this)))}},u2=e=>{e.registerMarkdownCodeBlockProcessor("zotero-annot",(t,r,n)=>{let i=new Yh(r,e.db,e.annotBlockWorker);n.addChild(i),i.load(),i.render([t,n.sourcePath])})},oc=class{constructor(t){this.plugin=t;this.pool=s2.default.pool(U1(),{workerType:"web"}),this.proxy=this.pool.proxy()}async parse(t){return(await this.proxy).parse(t)}async stringify(t){return(await this.proxy).stringify(t)}};var Se=_(le(),1),ce={},no=Symbol(),F2=e=>!!e[no],T2=e=>!e[no].c,ta=e=>{var t;let{b:r,c:n}=e[no];n&&(n(),(t=VR.get(r))==null||t())},fc=(e,t)=>{let r=e[no].o,n=t[no].o;return r===n||e===n||F2(r)&&fc(r,t)},O2=(e,t)=>{let r={b:e,o:t,c:null},n=new Promise(i=>{r.c=()=>{r.c=null,i()},t.finally(r.c)});return n[no]=r,n},VR=new WeakMap;var cc=e=>"init"in e,om="r",sm="w",ra="c",am="s",I2="h",GR="n",KR="l",JR="a",QR="m",YR=e=>{let t=new WeakMap,r=new WeakMap,n=new Map,i,o;if((ce.env&&ce.env.MODE)!=="production"&&(i=new Set,o=new Set),e)for(let[A,S]of e){let N={v:S,r:0,y:!0,d:new Map};(ce.env&&ce.env.MODE)!=="production"&&(Object.freeze(N),cc(A)||console.warn("Found initial value for derived atom which can cause unexpected behavior",A)),t.set(A,N)}let s=new WeakMap,a=(A,S,N)=>{let D=s.get(S);D||(D=new Map,s.set(S,D)),N.then(()=>{D.get(A)===N&&(D.delete(A),D.size||s.delete(S))}),D.set(A,N)},u=A=>{let S=new Set,N=s.get(A);return N&&(s.delete(A),N.forEach((D,P)=>{ta(D),S.add(P)})),S},l=new WeakMap,c=A=>{let S=l.get(A);return S||(S=new Map,l.set(A,S)),S},f=(A,S)=>{if(A){let N=c(A),D=N.get(S);return D||(D=f(A.p,S),D&&"p"in D&&T2(D.p)&&(D=void 0),D&&N.set(S,D)),D}return t.get(S)},p=(A,S,N)=>{if((ce.env&&ce.env.MODE)!=="production"&&Object.freeze(N),A)c(A).set(S,N);else{let D=t.get(S);t.set(S,N),n.has(S)||n.set(S,D)}},d=(A,S=new Map,N)=>{if(!N)return S;let D=new Map,P=!1;return N.forEach(M=>{var U;let X=((U=f(A,M))==null?void 0:U.r)||0;D.set(M,X),S.get(M)!==X&&(P=!0)}),S.size===D.size&&!P?S:D},m=(A,S,N,D,P)=>{let M=f(A,S);if(M){if(P&&(!("p"in M)||!fc(M.p,P)))return M;"p"in M&&ta(M.p)}let U={v:N,r:M?.r||0,y:!0,d:d(A,M?.d,D)},X=!M?.y;return!M||!("v"in M)||!Object.is(M.v,N)?(X=!0,++U.r,U.d.has(S)&&(U.d=new Map(U.d).set(S,U.r))):U.d!==M.d&&(U.d.size!==M.d.size||!Array.from(U.d.keys()).every(dr=>M.d.has(dr)))&&(X=!0,Promise.resolve().then(()=>{B(A)})),M&&!X?M:(p(A,S,U),U)},b=(A,S,N,D,P)=>{let M=f(A,S);if(M){if(P&&(!("p"in M)||!fc(M.p,P)))return M;"p"in M&&ta(M.p)}let U={e:N,r:(M?.r||0)+1,y:!0,d:d(A,M?.d,D)};return p(A,S,U),U},h=(A,S,N,D)=>{let P=f(A,S);if(P&&"p"in P){if(fc(P.p,N))return P.y?P:{...P,y:!0};ta(P.p)}a(A,S,N);let M={p:N,r:(P?.r||0)+1,y:!0,d:d(A,P?.d,D)};return p(A,S,M),M},g=(A,S,N,D)=>{if(N instanceof Promise){let P=O2(N,N.then(M=>{m(A,S,M,D,P)}).catch(M=>{if(M instanceof Promise)return F2(M)?M.then(()=>{x(A,S,!0)}):M;b(A,S,M,D,P)}));return h(A,S,P,D)}return m(A,S,N,D)},y=(A,S)=>{let N=f(A,S);if(N){let D={...N,y:!1};p(A,S,D)}else(ce.env&&ce.env.MODE)!=="production"&&console.warn("[Bug] could not invalidate non existing atom",S)},x=(A,S,N)=>{if(!N){let P=f(A,S);if(P){if(P.y&&"p"in P&&!T2(P.p))return P;if(P.d.forEach((M,U)=>{if(U!==S)if(!r.has(U))x(A,U);else{let X=f(A,U);X&&!X.y&&x(A,U)}}),Array.from(P.d).every(([M,U])=>{let X=f(A,M);return X&&!("p"in X)&&X.r===U}))return P.y?P:{...P,y:!0}}}let D=new Set;try{let P=S.read(M=>{D.add(M);let U=M===S?f(A,M):x(A,M);if(U){if("e"in U)throw U.e;if("p"in U)throw U.p;return U.v}if(cc(M))return M.init;throw new Error("no atom init")});return g(A,S,P,D)}catch(P){if(P instanceof Promise){let M=O2(P,P);return h(A,S,M,D)}return b(A,S,P,D)}},k=(A,S)=>x(S,A),j=(A,S)=>{let N=r.get(S);return N||(N=O(A,S)),N},F=(A,S)=>!S.l.size&&(!S.t.size||S.t.size===1&&S.t.has(A)),W=(A,S)=>{let N=r.get(S);N&&F(S,N)&&T(A,S)},q=(A,S)=>{let N=r.get(S);N?.t.forEach(D=>{D!==S&&(y(A,D),q(A,D))})},w=(A,S,N)=>{let D=!0,P=(X,dr)=>{let rr=x(A,X);if("e"in rr)throw rr.e;if("p"in rr){if(dr?.unstable_promise)return rr.p.then(()=>{let kl=f(A,X);return kl&&"p"in kl&&kl.p===rr.p?new Promise(Kd=>setTimeout(Kd)).then(()=>P(X,dr)):P(X,dr)});throw(ce.env&&ce.env.MODE)!=="production"&&console.info("Reading pending atom state in write operation. We throw a promise for now.",X),rr.p}if("v"in rr)return rr.v;throw(ce.env&&ce.env.MODE)!=="production"&&console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",X),new Error("no value found")},M=(X,dr)=>{let rr;if(X===S){if(!cc(X))throw new Error("atom not writable");u(X).forEach(fv=>{fv!==A&&g(fv,X,dr)});let Kd=f(A,X),TP=g(A,X,dr);Kd!==TP&&q(A,X)}else rr=w(A,X,dr);return D||B(A),rr},U=S.write(P,M,N);return D=!1,U},C=(A,S,N)=>{let D=w(N,A,S);return B(N),D},E=A=>!!A.write,O=(A,S,N)=>{let D={t:new Set(N&&[N]),l:new Set};if(r.set(S,D),(ce.env&&ce.env.MODE)!=="production"&&o.add(S),x(void 0,S).d.forEach((M,U)=>{let X=r.get(U);X?X.t.add(S):U!==S&&O(A,U,S)}),E(S)&&S.onMount){let M=X=>C(S,X,A),U=S.onMount(M);A=void 0,U&&(D.u=U)}return D},T=(A,S)=>{var N;let D=(N=r.get(S))==null?void 0:N.u;D&&D(),r.delete(S),(ce.env&&ce.env.MODE)!=="production"&&o.delete(S);let P=f(A,S);P?("p"in P&&ta(P.p),P.d.forEach((M,U)=>{if(U!==S){let X=r.get(U);X&&(X.t.delete(S),F(U,X)&&T(A,U))}})):(ce.env&&ce.env.MODE)!=="production"&&console.warn("[Bug] could not find atom state to unmount",S)},J=(A,S,N,D)=>{let P=new Set(N.d.keys());D?.forEach((M,U)=>{if(P.has(U)){P.delete(U);return}let X=r.get(U);X&&(X.t.delete(S),F(U,X)&&T(A,U))}),P.forEach(M=>{let U=r.get(M);U?U.t.add(S):r.has(S)&&O(A,M,S)})},B=A=>{if(A){c(A).forEach((N,D)=>{let P=t.get(D);if(N!==P){let M=r.get(D);M?.l.forEach(U=>U(A))}});return}for(;n.size;){let S=Array.from(n);n.clear(),S.forEach(([N,D])=>{let P=f(void 0,N);if(P&&P.d!==D?.d&&J(void 0,N,P,D?.d),D&&!D.y&&P?.y)return;let M=r.get(N);M?.l.forEach(U=>U())})}(ce.env&&ce.env.MODE)!=="production"&&i.forEach(S=>S())},$=A=>{c(A).forEach((N,D)=>{let P=t.get(D);(!P||N.r>P.r||N.y!==P.y||N.r===P.r&&N.d!==P.d)&&(t.set(D,N),N.d!==P?.d&&J(A,D,N,P?.d))})},G=(A,S)=>{S&&$(S),B(void 0)},Q=(A,S,N)=>{let P=j(N,A).l;return P.add(S),()=>{P.delete(S),W(N,A)}},ie=(A,S)=>{for(let[N,D]of A)cc(N)&&(g(S,N,D),q(S,N));B(S)};return(ce.env&&ce.env.MODE)!=="production"?{[om]:k,[sm]:C,[ra]:G,[am]:Q,[I2]:ie,[GR]:A=>(i.add(A),()=>{i.delete(A)}),[KR]:()=>o.values(),[JR]:A=>t.get(A),[QR]:A=>r.get(A)}:{[om]:k,[sm]:C,[ra]:G,[am]:Q,[I2]:ie}};var N2=(e,t)=>({s:t?t(e).SECRET_INTERNAL_store:YR(e)}),im=new Map,pc=e=>(im.has(e)||im.set(e,(0,Se.createContext)(N2())),im.get(e)),dn=({children:e,initialValues:t,scope:r,unstable_createStore:n,unstable_enableVersionedWrite:i})=>{let[o,s]=(0,Se.useState)({});(0,Se.useEffect)(()=>{let l=a.current;l.w&&(l.s[ra](null,o),delete o.p,l.v=o)},[o]);let a=(0,Se.useRef)();if(!a.current){let l=N2(t,n);if(i){let c=0;l.w=f=>{s(p=>{let d=c?p:{p};return f(d),d})},l.v=o,l.r=f=>{++c,f(),--c}}a.current=l}let u=pc(r);return(0,Se.createElement)(u.Provider,{value:a.current},e)},ZR=0;function L(e,t){let r=`atom${++ZR}`,n={toString:()=>r};return typeof e=="function"?n.read=e:(n.init=e,n.read=i=>i(n),n.write=(i,o,s)=>o(n,typeof s=="function"?s(i(n)):s)),t&&(n.write=t),n}function H(e,t){let r=pc(t),n=(0,Se.useContext)(r),{s:i,v:o}=n,s=p=>{let d=i[om](e,p);if((ce.env&&ce.env.MODE)!=="production"&&!d.y)throw new Error("should not be invalidated");if("e"in d)throw d.e;if("p"in d)throw d.p;if("v"in d)return d.v;throw new Error("no atom value")},[[a,u,l],c]=(0,Se.useReducer)((p,d)=>{let m=s(d);return Object.is(p[1],m)&&p[2]===e?p:[d,m,e]},o,p=>{let d=s(p);return[p,d,e]}),f=u;return l!==e&&(c(a),f=s(a)),(0,Se.useEffect)(()=>{let{v:p}=n;p&&i[ra](e,p);let d=i[am](e,c,p);return c(p),d},[i,e,n]),(0,Se.useEffect)(()=>{i[ra](e,a)}),(0,Se.useDebugValue)(f),f}function Qe(e,t){let r=pc(t),{s:n,w:i}=(0,Se.useContext)(r);return(0,Se.useCallback)(s=>{if((ce.env&&ce.env.MODE)!=="production"&&!("write"in e))throw new Error("not writable atom");let a=u=>n[sm](e,s,u);return i?i(a):a()},[n,i,e])}function xr(e,t){return"scope"in e&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),t=e.scope),[H(e,t),Qe(e,t)]}var lm=_(le(),1),na=Symbol();function D2(e,t){let r=null,n=new Map,i=o=>{let s;if(t===void 0)s=n.get(o);else for(let[u,l]of n)if(t(u,o)){s=l;break}if(s!==void 0)if(r?.(s[1],o))i.remove(o);else return s[0];let a=e(o);return n.set(o,[a,Date.now()]),a};return i.remove=o=>{if(t===void 0)n.delete(o);else for(let[s]of n)if(t(s,o)){n.delete(s);break}},i.setShouldRemove=o=>{if(r=o,!!r)for(let[s,a]of n)r(a[1],s)&&n.delete(s)},i}var XR=(e,t)=>{do{let[r,...n]=t,i=e.get(r);if(!i)return;if(!n.length)return i[1];e=i[0],t=n}while(t.length)},e5=(e,t,r)=>{do{let[n,...i]=t,o=e.get(n);if(o||(o=[new WeakMap],e.set(n,o)),!i.length){o[1]=r;return}e=o[0],t=i}while(t.length)},ia=()=>{let e=new WeakMap;return(r,n)=>{let i=XR(e,n);if(i)return i;let o=r();return e5(e,n,o),o}},t5=ia();function P2(e,t,r=Object.is){return t5(()=>{let n=L(()=>({}));return L(o=>{let s=t(o(e)),a=o(n);return"prev"in a&&r(a.prev,s)?a.prev:(a.prev=s,s)})},[e,t,r])}var IG=ia();var FG=ia();function dc(e){let t=Symbol(),r=L(t),n=L(i=>{let o=i(r);return o!==t?o:e(i)},(i,o,s)=>s===na?o(r,t):o(r,typeof s=="function"?s(i(n)):s));return n}var NG=ia(),DG=L(()=>[]);var um=Symbol();function r5(e){let t,r,n={getItem:i=>{var o,s;let a=l=>{if(l=l||"",t!==l){try{r=JSON.parse(l)}catch{return um}t=l}return r},u=(s=(o=e())==null?void 0:o.getItem(i))!=null?s:null;return u instanceof Promise?u.then(a):a(u)},setItem:(i,o)=>{var s;return(s=e())==null?void 0:s.setItem(i,JSON.stringify(o))},removeItem:i=>{var o;return(o=e())==null?void 0:o.removeItem(i)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&(n.subscribe=(i,o)=>{let s=a=>{a.key===i&&a.newValue&&o(JSON.parse(a.newValue))};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}}),n}var n5=r5(()=>typeof window<"u"?window.localStorage:void 0);function M2(e,t,r=n5){let n=()=>{let s=r.getItem(e);return s instanceof Promise?s.then(a=>a===um?t:a):s===um?t:s},i=L(r.delayInit?t:n());return i.onMount=s=>{let a;if(r.subscribe&&(a=r.subscribe(e,s),s(n())),r.delayInit){let u=n();u instanceof Promise?u.then(s):s(u)}return a},L(s=>s(i),(s,a,u)=>{let l=typeof u=="function"?u(s(i)):u;return l===na?(a(i,t),r.removeItem(e)):(a(i,l),r.setItem(e,l))})}var i5=ia(),o5={state:"loading"};function Lr(e){return i5(()=>{let t=new WeakMap,r=L(i=>{let o;try{let u=i(e);return L({state:"hasData",data:u})}catch(u){if(u instanceof Promise)o=u;else return L({state:"hasError",error:u})}let s=t.get(o);if(s)return s;let a=L(o5,async(u,l)=>{try{let c=await u(e,{unstable_promise:!0});l(a,{state:"hasData",data:c})}catch(c){l(a,{state:"hasError",error:c})}});return a.onMount=u=>{u()},t.set(o,a),a});return L(i=>{let o=i(r);return i(o)})},[e])}var vn=_(nr());var Rm=require("path/posix"),O_=_(nr()),I_=_(Wt());var io=require("fs"),oo=require("path");function s5(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function Rr(e){var t=new Error(e);return s5(t,Rr.prototype),t}Rr.prototype=Object.create(Error.prototype,{name:{value:"Eta Error",enumerable:!1}});function oa(e,t,r){var n=t.slice(0,r).split(/\n/),i=n.length,o=n[i-1].length+1;throw e+=" at line "+i+" col "+o+`:

  `+t.split(/\n/)[i-1]+`
  `+Array(o).join(" ")+"^",Rr(e)}var MG=new Function("return this")().Promise;function a5(){try{return new Function("return (async function(){}).constructor")()}catch(e){throw e instanceof SyntaxError?Rr("This environment doesn't support async/await"):e}}function u5(e){return String.prototype.trimLeft?e.trimLeft():e.replace(/^\s+/,"")}function l5(e){return String.prototype.trimRight?e.trimRight():e.replace(/\s+$/,"")}function c5(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function sa(e,t){for(var r in t)c5(t,r)&&(e[r]=t[r]);return e}function f5(e,t,r,n){var i,o;return Array.isArray(t.autoTrim)?(i=t.autoTrim[1],o=t.autoTrim[0]):i=o=t.autoTrim,(r||r===!1)&&(i=r),(n||n===!1)&&(o=n),!o&&!i?e:i==="slurp"&&o==="slurp"?e.trim():(i==="_"||i==="slurp"?e=u5(e):(i==="-"||i==="nl")&&(e=e.replace(/^(?:\r\n|\n|\r)/,"")),o==="_"||o==="slurp"?e=l5(e):(o==="-"||o==="nl")&&(e=e.replace(/(?:\r\n|\n|\r)$/,"")),e)}var p5={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function d5(e){return p5[e]}function h5(e){var t=String(e);return/[&<>"']/.test(t)?t.replace(/[&<>"']/g,d5):t}var hc=/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})*}|(?!\${)[^\\`])*`/g,mc=/'(?:\\[\s\w"'\\`]|[^\n\r'\\])*?'/g,gc=/"(?:\\[\s\w"'\\`]|[^\n\r"\\])*?"/g;function yc(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}function m5(e,t){var r=[],n=!1,i=0,o=t.parse;if(t.plugins)for(var s=0;s<t.plugins.length;s++){var a=t.plugins[s];a.processTemplate&&(e=a.processTemplate(e,t))}t.rmWhitespace&&(e=e.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"")),hc.lastIndex=0,mc.lastIndex=0,gc.lastIndex=0;function u(w,C){w&&(w=f5(w,t,n,C),w&&(w=w.replace(/\\|'/g,"\\$&").replace(/\r\n|\n|\r/g,"\\n"),r.push(w)))}for(var l=[o.exec,o.interpolate,o.raw].reduce(function(w,C){return w&&C?w+"|"+yc(C):C?yc(C):w},""),c=new RegExp("([^]*?)"+yc(t.tags[0])+"(-|_)?\\s*("+l+")?\\s*","g"),f=new RegExp("'|\"|`|\\/\\*|(\\s*(-|_)?"+yc(t.tags[1])+")","g"),p;p=c.exec(e);){i=p[0].length+p.index;var d=p[1],m=p[2],b=p[3]||"";u(d,m),f.lastIndex=i;for(var h=void 0,g=!1;h=f.exec(e);)if(h[1]){var y=e.slice(i,h.index);c.lastIndex=i=f.lastIndex,n=h[2];var x=b===o.exec?"e":b===o.raw?"r":b===o.interpolate?"i":"";g={t:x,val:y};break}else{var k=h[0];if(k==="/*"){var j=e.indexOf("*/",f.lastIndex);j===-1&&oa("unclosed comment",e,h.index),f.lastIndex=j}else if(k==="'"){mc.lastIndex=h.index;var F=mc.exec(e);F?f.lastIndex=mc.lastIndex:oa("unclosed string",e,h.index)}else if(k==='"'){gc.lastIndex=h.index;var W=gc.exec(e);W?f.lastIndex=gc.lastIndex:oa("unclosed string",e,h.index)}else if(k==="`"){hc.lastIndex=h.index;var q=hc.exec(e);q?f.lastIndex=hc.lastIndex:oa("unclosed string",e,h.index)}}g?r.push(g):oa("unclosed tag",e,p.index+d.length)}if(u(e.slice(i,e.length),!1),t.plugins)for(var s=0;s<t.plugins.length;s++){var a=t.plugins[s];a.processAST&&(r=a.processAST(r,t))}return r}function j2(e,t){var r=m5(e,t),n="var tR='',__l,__lP"+(t.include?",include=E.include.bind(E)":"")+(t.includeFile?",includeFile=E.includeFile.bind(E)":"")+`
function layout(p,d){__l=p;__lP=d}
`+(t.useWith?"with("+t.varName+"||{}){":"")+g5(r,t)+(t.includeFile?"if(__l)tR="+(t.async?"await ":"")+("includeFile(__l,Object.assign("+t.varName+`,{body:tR},__lP))
`):t.include?"if(__l)tR="+(t.async?"await ":"")+("include(__l,Object.assign("+t.varName+`,{body:tR},__lP))
`):"")+"if(cb){cb(null,tR)} return tR"+(t.useWith?"}":"");if(t.plugins)for(var i=0;i<t.plugins.length;i++){var o=t.plugins[i];o.processFnString&&(n=o.processFnString(n,t))}return n}function g5(e,t){var r=0,n=e.length,i="";for(r;r<n;r++){var o=e[r];if(typeof o=="string"){var s=o;i+="tR+='"+s+`'
`}else{var a=o.t,u=o.val||"";a==="r"?(t.filter&&(u="E.filter("+u+")"),i+="tR+="+u+`
`):a==="i"?(t.filter&&(u="E.filter("+u+")"),t.autoEscape&&(u="E.e("+u+")"),i+="tR+="+u+`
`):a==="e"&&(i+=u+`
`)}}return i}var y5=function(){function e(t){this.cache=t}return e.prototype.define=function(t,r){this.cache[t]=r},e.prototype.get=function(t){return this.cache[t]},e.prototype.remove=function(t){delete this.cache[t]},e.prototype.reset=function(){this.cache={}},e.prototype.load=function(t){sa(this.cache,t)},e}(),aa=new y5({});function v5(e,t){var r=this.templates.get(e);if(!r)throw Rr('Could not fetch template "'+e+'"');return r(t,this)}var so={async:!1,autoEscape:!0,autoTrim:[!1,"nl"],cache:!1,e:h5,include:v5,parse:{exec:"",interpolate:"=",raw:"~"},plugins:[],rmWhitespace:!1,tags:["<%","%>"],templates:aa,useWith:!1,varName:"it"};function cm(e,t){var r={};return sa(r,so),t&&sa(r,t),e&&sa(r,e),r}function R2(e){return sa(so,e)}function fm(e,t){var r=cm(t||{}),n=r.async?a5():Function;try{return new n(r.varName,"E","cb",j2(e,r))}catch(i){throw i instanceof SyntaxError?Rr(`Bad template syntax

`+i.message+`
`+Array(i.message.length+1).join("=")+`
`+j2(e,r)+`
`):i}}var b5=/^\uFEFF/;function vc(e,t,r){var n=(0,oo.resolve)(r?t:(0,oo.dirname)(t),e)+((0,oo.extname)(e)?"":".eta");return n}function w5(e,t){var r=!1,n=t.views,i=[],o=JSON.stringify({filename:t.filename,path:e,root:t.root,views:t.views});if(t.cache&&t.filepathCache&&t.filepathCache[o])return t.filepathCache[o];function s(p){i.includes(p)||i.push(p)}function a(p,d){var m;return Array.isArray(p)&&p.some(function(b){return m=vc(d,b,!0),s(m),(0,io.existsSync)(m)})||typeof p=="string"&&(m=vc(d,p,!0),s(m),(0,io.existsSync)(m))?m:!1}var u=/^[A-Za-z]+:\\|^\//.exec(e);if(u&&u.length){var l=e.replace(/^\/*/,"");if(r=a(n,l),!r){var c=vc(l,t.root||"/",!0);s(c),r=c}}else{if(t.filename){var f=vc(e,t.filename);s(f),(0,io.existsSync)(f)&&(r=f)}if(r||(r=a(n,e)),!r)throw Rr('Could not find the template "'+e+'". Paths tried: '+i)}return t.cache&&t.filepathCache&&(t.filepathCache[o]=r),r}function x5(e){try{return(0,io.readFileSync)(e).toString().replace(b5,"")}catch{throw Rr("Failed to read template at '"+e+"'")}}function L2(e,t,r){var n=cm(t),i=x5(e);try{var o=fm(i,n);return r||n.templates.define(n.filename,o),o}catch(s){throw Rr("Loading file: "+e+` failed:

`+s.message)}}function E5(e){var t=e.filename;if(e.cache){var r=e.templates.get(t);return r||L2(t,e)}return L2(t,e,!0)}function k5(e,t){var r=cm({filename:w5(e,t)},t);return[E5(r),r]}function _5(e,t){var r=k5(e,this);return r[0](t,r[1])}so.includeFile=_5;so.filepathCache={};var F_=_(r_()),Eo=require("obsidian");var n_=require("os"),ga=require("path"),i_=_(nr()),o_=require("obsidian");var s_=e=>({zoteroDataDir:(0,ga.join)((0,n_.homedir)(),"Zotero"),get zoteroDbPath(){return(0,ga.join)(this.zoteroDataDir,"zotero.sqlite")},get betterBibTexDbPath(){return(0,ga.join)(this.zoteroDataDir,"better-bibtex-search.sqlite")},get zoteroCacheDirPath(){return(0,ga.join)(this.zoteroDataDir,"cache")},literatureNoteFolder:new gi("LiteratureNotes"),template:new ya(e),logLevel:Vh,citationLibrary:1,citationEditorSuggester:!0,showCitekeyInSuggester:!1,autoRefresh:!0,autoPairEta:!0,mutoolPath:null,symlinkImgExcerpt:!1,imgExcerptPath:new gi("ZtImgExcerpt")}),L4=new Set((0,i_.enumerate)()("imgExcerptPath","literatureNoteFolder","template")),R4=new Set(["zoteroDbPath","betterBibTexDbPath","zoteroCacheDirPath"]),q4=e=>L4.has(e);async function a_(){let e=await this.loadData()??{};await Promise.all(Object.keys(this.settings).map(async t=>{let r=t;R4.has(r)||(q4(r)?await this.settings[r].updateFromJSON(e[r]):e[r]!==void 0&&(this.settings[r]=e[r]))})),V.level=this.settings.logLevel}async function u_(){let{betterBibTexDbPath:e,zoteroDbPath:t,zoteroCacheDirPath:r,...n}=this.settings;await this.saveData(n)}var Ic=class{constructor(t){this.path=t??Ic.defaultPath}get path(){return this.vaildPath}set path(t){t?this.vaildPath=(0,o_.normalizePath)(t):this.vaildPath=Ic.defaultPath}getFile(t){return t.getAbstractFileByPath(this.vaildPath)}updateFromJSON(t){return t&&(this.vaildPath=t),this}toJSON(){return this.path}toString(){return this.path}},gi=Ic;gi.defaultPath="/";var yo={note:"zt-note.eta.md",annotation:"zt-annot.eta.md",annots:"zt-annots.eta.md"},Fc=Object.keys(yo),B4=`# <%= it.title %>
\\n
[Zotero](<%= it.backlink %>) <%= it.fileLink %>
\\n
<%~ include("annots", it.annotations) %>`,$4=`<% for (const annotation of it) { %>
<%~ include("annotation", annotation) %>
<% } %>`,z4=`
## Page <%= it.pageLabel %> ^<%= it.blockID %>
\\n
[Zotero](<%= it.backlink %>) <%= it.fileLink %>
\\n
<%= it.textBlock %>
<%= it.imgEmbed %>
\\n
<% if (it.comment) { %>
comment: <%= it.commentMd %>
<% } %>
\\n
<% if (it.tags.length > 0) { %>
tags: <%= it.tags.map((tag) => tag.name).join(", ") %>
<% } %>`,va={filename:"<%= it.citekey ?? it.DOI ?? it.title ?? it.key ?? it.citekey %>.md",note:B4,annots:$4,annotation:z4,citation:"[@<%= it.citekey %>]",altCitation:"@<%= it.citekey %>"},vo=Object.keys(va),gn="zotero-key",l_={title:!0,citekey:!0,creators:!0};var ka=_(nr()),jm=_(bo()),yi=_(Wt()),__=_(Nc()),S_=require("obsidian");var Dc=new WeakMap,xa=e=>{Dc.get(e)?.()},b_=(e,...t)=>{let r=Dc.get(e);Dc.set(e,()=>{r?.(),t.forEach(xa)})},wo=(e,t,r)=>{let{proxy:n,revoke:i}=Proxy.revocable(e,{get(o,s){return r&&s in r?r[s].call(e):t&&s in t?t[s]:Reflect.get(...arguments)},ownKeys(o){let s=Reflect.ownKeys(o);return t&&s.push(...Reflect.ownKeys(t)),r&&s.push(...Reflect.ownKeys(r)),s}});return Dc.set(n,i),n};var Mc=require("path");function Nm(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Dm(e,t){if(typeof e!="string"||typeof t!="string")throw new TypeError("Expected a string");let r=new RegExp(`(?:${Nm(t)}){2,}`,"g");return e.replace(r,t)}function Pc(){return/[<>:"/\\|?*\u0000-\u001F]/g}function w_(){return/^(con|prn|aux|nul|com\d|lpt\d)$/i}function Pm(e,t){if(typeof e!="string"||typeof t!="string")throw new TypeError("Expected a string");return e.startsWith(t)&&(e=e.slice(t.length)),e.endsWith(t)&&(e=e.slice(0,-t.length)),e}var n9=100,x_=/[\u0000-\u001F\u0080-\u009F]/g,i9=/^\.+(\\|\/)|^\.+$/,o9=/\.+$/;function Ea(e,t={}){if(typeof e!="string")throw new TypeError("Expected a string");let r=t.replacement===void 0?"!":t.replacement;if(Pc().test(r)&&x_.test(r))throw new Error("Replacement string cannot contain reserved filename characters");if(e=e.normalize("NFD"),e=e.replace(i9,r),e=e.replace(Pc(),r),e=e.replace(x_,r),e=e.replace(o9,""),r.length>0){let i=e[0]===".";e=Dm(e,r),e=e.length>1?Pm(e,r):e,!i&&e[0]==="."&&(e=r+e),e[e.length-1]==="."&&(e+=r)}e=w_().test(e)?e+r:e;let n=typeof t.maxLength=="number"?t.maxLength:n9;if(e.length>n){let i=e.lastIndexOf(".");if(i===-1)e=e.slice(0,n);else{let o=e.slice(0,i),s=e.slice(i);e=o.slice(0,Math.max(1,n-s.length))+s}}return e}var Mm=e=>`file://${e}`,jc=e=>{let t=Mm(e);return encodeURI(t)===t?t:`<${t}>`},xo=e=>e.name.endsWith(".eta.md"),Lc=(e,t,r=null,n=null)=>{if(!r?.path)return"";let i=n?`#page=${n}`:void 0,o=app.vault.adapter.getBasePath(),s=(0,Mc.join)(e,"storage",r.key,r.path.replace(/^storage:/,"")),a=(0,Mc.relative)(o,s);if(a.startsWith(".."))return`[attachment](${jc(s+(i??""))})`;{let u=app.metadataCache.getFirstLinkpathDest(a,"");return u?app.fileManager.generateMarkdownLink(u,t??"",i).replace(/^!/,""):(V.warn("fileLink: file not found",a,s),"")}},E_=e=>Ea(e,{replacement:"_"});var yn=(e,t,{plugin:r,sourcePath:n})=>wo(e,t,{backlink(){return(0,yi.getBacklink)(this)},blockID(){let i=(0,ka.getItemKeyGroupID)(this),o=(0,ka.toPage)(this.position.pageIndex,!0);return typeof o=="number"&&(i+=`p${o}`),i},commentMd(){return this.comment?(0,S_.htmlToMarkdown)(this.comment):""},imgPath(){return Lm(this)?(0,jm.getCacheImagePath)(this,r.settings.zoteroDataDir):""},imgUrl(){if(Lm(this)){let i=(0,jm.getCacheImagePath)(this,r.settings.zoteroDataDir);return Mm(i)}else return""},imgLink(){return k_(this,r)},imgEmbed(){let i=k_(this,r);return i?`!${i}`:""},fileLink(){return Lc(r.settings.zoteroDataDir,n,t.attachment,(0,ka.toPage)(this.position.pageIndex,!0))},textBlock(){return this.text?__.default`
      \`\`\`zotero-annot
      > ${this.text} [zotero](${(0,yi.getBacklink)(this)})
      \`\`\``:""},colorName(){switch(this.color?.toUpperCase()){case"#FF6666":return"red";case"#FF8C19":return"orange";case"#999999":return"gray";case"#5FB236":return"green";case"#009980":return"cyan";case"#2EA8E5":return"blue";case"#576DD9":return"navy";case"#A28AE5":return"purple";case"#A6507B":return"brown";default:return this.color}}}),Lm=e=>(0,yi.isAnnotationItem)(e)&&e.type===yi.AnnotationType.image,s9=(e,t,r)=>t?`[${r??""}](${jc(e)})`:`[[${e}${r?"|"+r:""}]]`,k_=(e,t)=>{if(Lm(e)){let r=t.imgCacheImporter.import(e);if(r)return s9(r,app.vault.getConfig("useMarkdownLinks"));{let n=t.imgCacheImporter.getCachePath(e);return`[Annotation ${e.key}](${jc(n)})`}}else return""};var T_=_(Wt());var A_=_(Wt());var C_=e=>wo(e,void 0,{fullname(){return(0,A_.getCreatorName)(this)??""}});var Rc=({creators:e,...t},{annotations:r,...n},i)=>{let o=r?.map(([l,c])=>yn(l,c,i))??null,s=o?{...n,annotations:o}:n,a=e.map(l=>C_(l)),u=wo({...t,creators:a},s,{backlink(){return(0,T_.getBacklink)(this)},fileLink(){return Lc(i.plugin.settings.zoteroDataDir,i.sourcePath,n.attachment)}});return b_(u,...a,...o??[]),u};R2({autoEscape:!1});var a9={},ya=class{constructor(t){this.plugin=t;this.rawTemplates={...va};this.frontmatter={...l_};this.ejected=!1;this.folder=new gi("ZtTemplates");this.ready=!1;this.cacheReady=new Promise(t=>{if(app.metadataCache.initialized)t();else{let r=app.metadataCache.on("finished",()=>{t(),app.metadataCache.offref(r)})}})}getTemplate(t){return this.rawTemplates[t]}getTemplateFile(t){return(0,Rm.join)(this.folder.path,yo[t])}render(t,r){return aa.get(t)(r,so)}renderAnnot(...t){let r=yn(...t),n=this.render("annotation",r);return xa(r),n}renderNote(...t){let r=Rc(...t),n=this.render("note",r);return xa(r),n}renderAnnots(t,r){let n=t.map(([o,s])=>yn(o,s,r)),i=this.render("annots",n);return xa(n),i}renderCitation(t,r=!1){return this.render(r?"altCitation":"citation",t)}renderFilename(t){return this.render("filename",t)}toFrontmatterData(t){let r={},n=!1;r[gn]=(0,O_.getItemKeyGroupID)(t,!0);for(let[i,o]of Object.entries(this.frontmatter)){if(!(i in t)||o===void 0)continue;let s=i,a=t[s];o===!0?s==="creators"?r[i]=a.map(u=>(0,I_.getCreatorName)(u)):r[i]=a:r[o]=a,n=!0}return n?r:null}toJSON(){let{altCitation:t,citation:r,filename:n}=this.rawTemplates;return{ejected:this.ejected,folder:this.folder.path,templates:{altCitation:t,citation:r,filename:n}}}complie(t,r){let n=u9(r);try{if(!!aa.get(t)&&this.rawTemplates[t]===r)return;this.rawTemplates[t]=r;let i=fm(n,{name:t}),o;switch(t){case"filename":o=(s,a)=>E_(i(s,a));break;case"note":o=(s,a)=>{let u=i(s,a),l=this.toFrontmatterData(s);return l?(0,F_.stringify)(u,l,a9):u};break;default:o=i;break}aa.define(t,o),V.debug(`Template "${t}" complie success`,n)}catch(i){V.error("Error compling template",t,n,i),new Eo.Notice(`Error compling template "${t}", error: ${i}`)}}async load(t){if(!this.ejected)throw new Error("Attempt to load template from file when not ejected");await this.cacheReady;let r=(0,Rm.join)(this.folder.path,yo[t]),n=app.vault.getAbstractFileByPath(r);if(n&&!(n instanceof Eo.TFile)){let s=`Template file location occupied by a folder: ${r}, skipping...`;new Eo.Notice(s),V.error(s);return}let i=n,o;i?o=await app.vault.cachedRead(i):(V.debug("Template file not found, creating new file...",r),i=await app.fileManager.createNewMarkdownFileFromLinktext(r,""),o=va[t],await app.vault.modify(i,o)),this.complie(t,o)}async loadAll(){if(this.ready=!1,this.ejected)await Promise.all(vo.map(async t=>t in yo?this.load(t):this.complie(t,this.rawTemplates[t])));else for(let t of vo)this.complie(t,va[t]);this.ready=!0}async updateFromJSON(t){if(t&&(typeof t.ejected=="boolean"&&(this.ejected=t.ejected??!1),t.folder&&typeof t.folder=="string"&&(this.folder.path=t.folder),t.templates)){let{altCitation:r,citation:n,filename:i}=t.templates;Object.assign(this.rawTemplates,{altCitation:r,citation:n,filename:i})}return this.plugin.registerEvent(app.vault.on("modify",r=>{if(!this.ejected||!(r instanceof Eo.TFile)||!r.path.startsWith(this.folder.path)||!xo(r)||Fc.every(i=>this.getTemplateFile(i)!==r.path))return;let n=Object.entries(yo).find(([,i])=>i===r.name)?.[0];if(!n){V.error("Failed to match eta file with template: unexpected file name",r.name);return}this.load(n)})),await this.loadAll(),this}},u9=e=>e.replace(/((?:[^\\]|^)(?:\\{2})*)\\n/g,`$1
`);var _a=e=>{let t=e?.frontmatter?.[gn];return t&&typeof t=="string"&&vn.itemKeyGroupIdPattern.test(t)?t:null};function*qm(e,t){if(!(t.frontmatter&&gn in t.frontmatter))return null;let r=_a(t);if(!!r){yield{file:e,key:r};for(let n of t.sections??[])if(n.type==="heading"&&n.id?.match(vn.multipleAnnotKeyPagePattern))for(let i of n.id.split("n")){let[,o,,s]=i.split("p")[0].match(vn.annotKeyPagePattern);yield{file:e,blockId:n.id,key:(0,vn.getItemKeyGroupID)({key:o,groupID:s?+s:void 0},!0)}}}}var P_=_(bo());function N_(e,t){let r=null,n=new Map,i=o=>{let s;if(t===void 0)s=n.get(o);else for(let[u,l]of n)if(t(u,o)){s=l;break}if(s!==void 0)if(r?.(s[1],o))i.remove(o);else return s[0];let a=e(o);return n.set(o,[a,Date.now()]),a};return i.remove=o=>{if(t===void 0)n.delete(o);else for(let[s]of n)if(t(s,o)){n.delete(s);break}},i.filter=o=>{if(t===void 0)o.filter(s=>!n.has(s)).forEach(s=>n.delete(s));else for(let s of[...n.keys()])o.some(a=>t(a,s))||n.delete(s)},i.setShouldRemove=o=>{if(r=o,!!r)for(let[s,a]of n)r(a[1],s)&&n.delete(s)},i}var Bm=async e=>{let t=e(qc);if(t===null)return null;let{db:r}=e(ue),n=(await r.getAnnotations(t)).sort((i,o)=>(0,P_.sortBySortIndex)(i.sortIndex,o.sortIndex));return Object.values(vi).forEach(i=>i.filter(n.map(o=>o.itemID))),n},ko=dc(Bm),D_=e=>N_(t=>L(e)),vi={showDetails:D_(!1),isSelected:D_(!1)},$m=L(!1);var Bc=L(e=>({plugin:e(ue),sourcePath:e(zm)})),ue=L(null),Sa=L(null),zm=L(e=>e(Sa),(e,t,r)=>{let n=e(Sa);if(n===r)return;let{noteIndex:i}=e(ue);if(!r||!i.isLiteratureNote(r)){t(Sa,null);return}t(Sa,r),n!==r&&(t($r,na),t(ko,na))}),bn=L(async e=>{let{db:t}=e(ue),r=e(Sa);if(!r)return null;let n=_a(app.metadataCache.getCache(r));if(!n)return null;let i=await t.getItem(n);return i||null}),Wm=L(async e=>{let t=e(bn);if(!t)return null;let{itemID:r}=t;return(await e(ue).db.getTags([r]))[r]}),NJ=Lr(Wm);var l9=e=>`obzt-active-atch-${e.itemID}-${e.libraryID}`,Aa=D2(e=>M2(l9(e),null),(e,t)=>e.itemID===t.itemID&&e.libraryID===t.libraryID),qc=L(e=>e(bi)?.itemID??null),bi=L(e=>{let t=e(bn);if(!t)return null;let r=e(Aa(t)),n=e($r);if(n.length===0)return null;let i;return r!==null&&(i=n.find(o=>o.itemID===r))?i:n[0]},async(e,t,r)=>{let n=parseInt(r.target.value,10),i=e(bn);!i||t(Aa(i),n)}),Um=async e=>{let t=e(bn),{db:r}=e(ue);return t?(V.trace("fetching attachments for",t),r.getAttachments(t.itemID,t.libraryID)):null},$r=dc(Um);var j_=require("obsidian");var Wc=_(Wt());var c9=(e,t)=>$c(e,t[0])||$c(e,t[1]),$c=(e,t)=>e[0]<t&&e[1]>t,f9=(e,t)=>{let r=$c(e,t[0])?e[0]:t[0],n=$c(e,t[1])?e[1]:t[1];return[r,n]},p9=e=>e.sort((t,r)=>t[0]-r[0]).reduce((t,r)=>{let n=t.findIndex(i=>c9(i,r));return n!==-1?t[n]=f9(t[n],r):t.push(r),t},[]),M_=p9;var zc="title",Uc="zt-citations",Hc=async(e,t)=>typeof e=="string"&&e.trim().length>0?await t.db.search(e.replace(/^\+|\+$/g,"").split(/\+/),zc,50):await t.db.getAll(50);function Vc(e,t){let r=e.item,[n]=r[zc],{matches:i}=e,o=t.createDiv({cls:"title"});if(!(typeof n=="string"&&n))o.setText("Title missing");else if(i){let s=i.length===1?i[0].key===zc?i[0].indices:[]:M_(i.flatMap(a=>a.key===zc?a.indices:[]));g9(o,n,s)}else o.setText(n);this.plugin.settings.showCitekeyInSuggester&&r.citekey&&t.createDiv({cls:"citekey",text:r.citekey}),d9(r)&&t.append(h9(r))}var d9=e=>e.itemType==="journalArticle",h9=e=>{let{creators:t,date:r,publicationTitle:n,volume:i,issue:o,pages:s}=e,a={creators:m9(t),date:r,publication:n,volume:i,issue:o,pages:s},u=(l,c,f)=>a[c]&&l.createSpan({cls:f??c,text:a[c]});return createDiv({cls:"meta"},l=>{(a.creators||a.date)&&l.createSpan({cls:"author-year"},c=>{u(c,"creators"),u(c,"date")}),u(l,"publication"),(a.volume||a.issue)&&l.createSpan({cls:"vol-issue"},c=>{u(c,"volume"),u(c,"issue")}),u(l,"pages")})},m9=e=>{if(!e||!e[0])return"";let t=e[0],r=(0,Wc.isCreatorFullName)(t)||(0,Wc.isCreatorNameOnly)(t)?t.lastName:"";return e.length>1&&(r=r.trim()+" et al."),r},g9=(e,t,r,n)=>{if(r){n===void 0&&(n=0);let i=0;for(let o=0;o<r.length&&i<t.length;o++){let s=r[o],a=s[0]+n,u=s[1]+n+1;if(!(u<=0)){if(a>=t.length)break;a<0&&(a=0),a!==i&&e.appendText(t.substring(i,a)),e.createSpan({cls:"suggestion-highlight",text:t.substring(a,u)}),i=u}}i<t.length&&e.appendText(t.substring(i))}else e.appendText(t)};var _o=class extends j_.EditorSuggest{constructor(r){super(r.app);this.plugin=r;this.renderSuggestion=Vc.bind(this);this.suggestEl.addClass(Uc)}getSuggestions(r){return Hc(r.query,this.plugin)}};var L_=require("obsidian");var Gc=require("obsidian"),Kc=e=>e.shiftKey,Ca=class extends Gc.SuggestModal{constructor(){super(...arguments);this.resolve=null;this.promise=null}open(){return super.open(),this.promise=new Promise(r=>{this.resolve=r}),this.promise}onClose(){this.resolve&&(this.resolve(null),this.resolve=null)}onChooseSuggestion(){}selectSuggestion(r,n){this.resolve&&(r?this.resolve({value:r,evt:n}):this.resolve(null),this.resolve=null),super.selectSuggestion(r,n)}},Ta=class extends Gc.FuzzySuggestModal{constructor(){super(...arguments);this.resolve=null;this.promise=null}open(){return super.open(),this.promise=new Promise(r=>{this.resolve=r}),this.promise}onClose(){this.resolve&&(this.resolve(null),this.resolve=null)}onChooseSuggestion(){}selectSuggestion(r,n){this.resolve&&(r?this.resolve({value:r,evt:n}):this.resolve(null),this.resolve=null),super.selectSuggestion(r,n)}};var Oa,Hm,wn=class extends Ca{constructor(r){super(r.app);this.plugin=r;pe(this,Oa);this.initial=!0;this.debouncedUpdate=(0,L_.debounce)(Re(this,Oa,Hm),250,!0);this.renderSuggestion=Vc.bind(this);this.modalEl.addClass(Uc)}updateSuggestions(){this.initial?(Re(this,Oa,Hm).call(this),this.initial=!1):this.debouncedUpdate()}getSuggestions(r){return Hc(r,this.plugin)}};Oa=new WeakSet,Hm=async function(){let r=this.inputEl.value,n=await this.getSuggestions(r);if(n.length!==0){let i=this.limit;i&&i>0&&(n=n.slice(0,i)),this.chooser.setSuggestions(n)}else r?this.onNoSuggestion():this.chooser.setSuggestions(null)};var R_=[{command:"\u2191\u2193",purpose:"to navigate"},{command:"\u21B5",purpose:"to insert Markdown citation"},{command:"shift \u21B5",purpose:"to insert secondary Markdown citation"},{command:"esc",purpose:"to dismiss"}],Gm=e=>t=>new Vm(e).insertTo(t),Vm=class extends wn{constructor(r){super(r);this.plugin=r;this.setInstructions(R_)}async insertTo(r){let n=await(this.promise??this.open());return n?(q_({item:n.value.item,alt:Kc(n.evt)},void 0,r,this.plugin.settings.template),!0):!1}},Ia=class extends _o{constructor(r){super(r);this.plugin=r;this.setInstructions(R_)}onTrigger(r,n){if(!this.plugin.settings.citationEditorSuggester)return null;let i=n.getLine(r.line),s=i.substring(0,r.ch).match(/\[@([\w ]*)$/);if(!s)return null;let a={...r};return i[r.ch]==="]"&&(a.ch+=1),{end:a,start:{ch:s.index,line:r.line},query:s[1]}}selectSuggestion(r,n){if(!this.context)return;let{item:i}=r;q_({item:i,alt:Kc(n)},this.context,this.context.editor,this.plugin.settings.template)}},q_=({alt:e,item:t},r,n,i)=>{let o=n.getCursor();r=r??{start:o,end:o};let s=i.renderCitation(t,e);n.replaceRange(s,r.start,r.end),n.setCursor(n.offsetToPos(n.posToOffset(r.start)+s.length))};var gT=require("fs"),Vn=require("obsidian");var hT=require("obsidian"),d0=_(up());var zn=()=>{let e=[];return{get:()=>e,set:(n,i)=>{e.push([n,i])}}};var qC=require("path/posix"),BC=_(nr()),lp=require("obsidian"),{arch:cQ,platform:fQ,versions:{modules:d$,electron:pQ}}=process,jC={103:{darwin:["arm64","x64"],linux:["x64"],win32:["x64","ia32"]}},i0=({modules:e})=>e in jC,LC=e=>{if(!i0(e))return!1;let{platform:t,arch:r}=e;return!!jC[d$][t]?.includes(r)},RC=()=>lp.Platform.isDesktopApp?{arch:process.arch,platform:process.platform,modules:process.versions.modules,electron:process.versions.electron}:null,o0=e=>e.versions?.["better-sqlite3"],s0=e=>{let t=o0(e);return t?(0,qC.join)(app.vault.configDir,(0,BC.betterSqlite3)(t)):null},rs=e=>{let t=s0(e);return!t||!(app.vault.adapter instanceof lp.FileSystemAdapter)?null:app.vault.adapter.getFullPath(t)};var ur=L(null),a0=L(e=>{let{arch:t,platform:r,modules:n}=e(ur).platform;return`${r}-${t}-${n}.node.gz`}),Ou=L(e=>`https://github.com/aidenlx/better-sqlite3/releases/download/${e(ur).binaryVersion}/${e(a0)}`),gQ=L(e=>e(Ou).replace("github.com","download.fastgit.org")),yQ=L(e=>s0(e(ur).manifest)),cp=L(e=>rs(e(ur).manifest)),$C=L(e=>e(ur).mode);var fT=_(ns());var Iu=_(le());var WC=function(t){return typeof t=="function"};var h$=!1,UC=h$;function m$(e){UC&&(WC(e)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof e)));var t=(0,Iu.useRef)(e);t.current=(0,Iu.useMemo)(function(){return e},[e]);var r=(0,Iu.useRef)();return r.current||(r.current=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t.current.apply(this,n)}),r.current}var Wn=m$;function HC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=HC(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function g$(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=HC(e))&&(n&&(n+=" "),n+=t);return n}var be=g$;var VC=require("obsidian"),pp=_(le()),Zt=(e,t)=>{let r=(0,pp.useRef)(null);return[(0,pp.useCallback)(i=>{r.current&&r.current.empty(),i&&(0,VC.setIcon)(i,e,t),r.current=i},[e,t])]};var Un=_(ee()),Nu=({name:e,desc:t,button:r,onClick:n,icon:i,className:o,...s})=>(0,Un.jsxs)("div",{className:be("setting-item",o),...s,children:[i&&(0,Un.jsx)("div",{className:"setting-icon",children:i}),(0,Un.jsxs)("div",{className:"setting-item-info",children:[(0,Un.jsx)("div",{className:"setting-item-name",children:e}),(0,Un.jsx)("div",{className:"setting-item-description",children:t})]}),(0,Un.jsx)("div",{className:"setting-item-control",children:r&&(0,Un.jsx)("button",{className:"mod-cta",onClick:n,children:r})})]});var dp=_(le()),Kr=_(ee()),x$=()=>(0,Kr.jsx)("svg",{className:"icon-blank svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",height:"32",width:"32"}),E$=()=>(0,Kr.jsxs)("svg",{className:"icon-spin svg-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",height:"32",width:"32",children:[(0,Kr.jsx)("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),(0,Kr.jsx)("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z",children:(0,Kr.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 16 16",to:"360 16 16",dur:"0.8s",repeatCount:"indefinite"})})]}),YC=({color:e="var(--icon-color, black)",delay:t=0,height:r=16,width:n=16,...i})=>{let[o,s]=(0,dp.useState)(t>0);return(0,dp.useEffect)(()=>{let a=-1;return o&&(a=window.setTimeout(()=>{s(!1)},t)),()=>{window.clearTimeout(a)}},[]),(0,Kr.jsx)("div",{style:{fill:e,height:Number(r)||r,width:Number(n)||n},...i,children:o?(0,Kr.jsx)(x$,{}):(0,Kr.jsx)(E$,{})})};var XC=require("fs"),eT=require("fs/promises"),tT=require("stream"),f0=require("stream/promises"),rT=require("zlib"),T$=require("@electron/remote");var hp=class extends Error{},l0=class extends hp{},c0=class extends hp{},k$=(e,t=",")=>e.join(t),_$={accept:"*",multiple:!1,strict:!1},ZC=e=>{let{accept:t,multiple:r,strict:n}={..._$,...e},i=C$({multiple:r,accept:Array.isArray(t)?k$(t):t});return new Promise(o=>{i.onchange=()=>{o(S$(i.files,r,n)),i.remove()},i.click()})},S$=(e,t,r)=>new Promise((n,i)=>{if(!e)return i(new l0);let o=A$(e,t,r);if(!o)return i(new c0);n(o)}),A$=(e,t,r)=>!t&&r?e.length===1?e[0]:null:e.length?e:null,C$=({accept:e,multiple:t})=>{let r=document.createElement("input");return r.type="file",r.multiple=t,r.accept=e,r};var nT=require("obsidian"),mp=async(e,t,r)=>{let n=tT.Readable.from(Buffer.from(e)),i=(0,XC.createWriteStream)(t);try{r?await(0,f0.pipeline)(n,i):await(0,f0.pipeline)(n,(0,rT.createGunzip)(),i)}catch(o){throw i.destroy(),await(0,eT.rm)(t,{force:!0}),o}},iT=async()=>{let e=await ZC({multiple:!1,accept:[".gz",".node"],strict:!0});return e?{decompressed:e.name.endsWith(".node"),arrayBuffer:await e.arrayBuffer()}:null},oT=async e=>(await(0,nT.requestUrl)({url:e})).arrayBuffer;var Hn=_(ee()),sT=(o=>(o[o.Idle=0]="Idle",o[o.Downloading=1]="Downloading",o[o.Importing=2]="Importing",o[o.Success=3]="Success",o[o.Failed=4]="Failed",o))(sT||{}),is=L(0),O$=L(e=>e(is)===4),aT=L(null),I$=L(e=>{switch(e(is)){case 0:return null;case 1:return"Downloading...";case 2:return"Importing...";case 3:return"Module successfully installed";case 4:return`Module install failed: ${e(aT)}`;default:break}}),F$=L(null,(e,t,[r,n])=>{t(is,4);let i="Failed to install module when "+sT[r];V.error(i,n),t(aT,i+": "+(n instanceof Error?n.message:`${n}`))}),N$=()=>{let e=Qe(is),t=Qe(F$),r=H(Ou),n=H(cp);return Wn(async()=>{if(!n){t([0,new Error("Cannot find binary version")]);return}e(1);let i;try{i=await oT(r)}catch(o){t([1,o]);return}e(2);try{await mp(i,n,!1)}catch(o){t([2,o]);return}e(3)})},uT=()=>{let e=H(is),t=H(I$),r=H(ur),n=N$();return(0,Hn.jsxs)("div",{className:"zt-auto-install",children:[(0,Hn.jsx)(Nu,{name:"Auto Install",desc:"Recommended",button:e===0?"Install":void 0,onClick:n}),e!==0&&(0,Hn.jsx)(Nu,{className:be("zt-auto-install-status",{"mod-warning":e===4,"mod-success":e===3}),icon:(0,Hn.jsx)(P$,{}),name:t,button:e===3?"Reload Plugin":void 0,onClick:()=>r.reloadPlugin()})]})},D$=()=>{let e=H(O$),[t]=Zt(e?"slash":"check");return(0,Hn.jsx)("div",{className:"zt-install-done-icon",style:{display:"contents"},ref:t})},P$=()=>{switch(H(is)){case 0:return null;case 1:case 2:return(0,Hn.jsx)(YC,{className:"zt-install-spin-icon",style:{display:"contents"}});case 3:case 4:return(0,Hn.jsx)(D$,{})}};var lT=require("obsidian"),p0=_(le());var Ve=_(ee()),M$=async e=>{try{let t=await iT();return t?(await mp(t.arrayBuffer,e,t.decompressed),!0):(V.info("No file selected, skip import module"),!1)}catch(t){return new lT.Notice(`Failed to import module: ${t}`),V.error("Failed to import module",t),!1}},j$=()=>{let[e,t]=(0,p0.useState)(!1),r=H(cp),n=async()=>{if(!r)return;await M$(r)&&t(!0)},i=H(Ou),o=H(a0),s=H(ur);return(0,Ve.jsxs)("ol",{children:[(0,Ve.jsxs)("li",{children:["Download ",(0,Ve.jsx)("code",{children:".node.gz"})," file from"," ",(0,Ve.jsx)("a",{href:i,children:"GitHub"}),"."]}),(0,Ve.jsxs)("li",{children:["Select downloaded ",(0,Ve.jsx)("code",{children:o})," or uncompressed"," ",(0,Ve.jsx)("code",{children:"better-sqlite3.node"}),"to install:",(0,Ve.jsx)(L$,{onClick:n,done:e})]}),(0,Ve.jsxs)("li",{children:["Reload Obsidian Zotero Plugin:",(0,Ve.jsx)(R$,{onClick:()=>s.reloadPlugin()})]})]})},cT=()=>{let[e,t]=(0,p0.useState)(!1);return(0,Ve.jsxs)("div",{className:"zt-manual-install",children:[(0,Ve.jsx)(Nu,{name:"Manual Install",desc:"Use this option if you have trouble downloading the module with auto install.",button:`${e?"Hide":"Show"} Guide`,onClick:()=>t(r=>!r)}),(0,Ve.jsx)("div",{hidden:!e,children:(0,Ve.jsx)(j$,{})})]})},L$=({done:e,onClick:t})=>(0,Ve.jsx)("button",{className:be({"zt-import-done":e}),onClick:t,children:e?"Library file imported":"Select"}),R$=({disabled:e,onClick:t})=>(0,Ve.jsx)("button",{disabled:e,onClick:t,children:"Reload Plugin"});var nt=_(ee()),q$=()=>{let e=H($C);switch(e){case"install":return(0,nt.jsxs)(nt.Fragment,{children:["Obsidian Zotero Plugin requires latest version of"," ",(0,nt.jsx)("code",{children:"better-sqlite3"})," to be installed. Use one of the method below to install or update it."]});case"reset":return(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("code",{children:"better-sqlite3"})," seems to be broken and failed to load. you can try to use one of the method below to reinstall it."]});default:(0,fT.default)(e)}},pT=()=>(0,nt.jsxs)(nt.Fragment,{children:[(0,nt.jsx)("style",{children:`
.modal.mod-zt-install-guide .modal-content {
  display: flex;
  flex-direction: column;
}
.zt-install-methods {
  display: flex;
  flex-direction: column;
  gap: var(--size-4-4);
  flex-grow: 1;
  padding: var(--size-4-4);
  padding-bottom: var(--size-4-2);
}
.zt-install-methods .setting-item {
  padding: 0;
}
.zt-auto-install {
  display: flex;
  flex-direction: column;
  gap: var(--size-4-4);
}
.modal.mod-zt-install-guide button:disabled {
  background-color: var(--background-modifier-cover);
}
.modal.mod-zt-install-guide button:disabled:hover {
  box-shadow: var(--input-shadow);
}
.modal.mod-zt-install-guide button.zt-import-done {
  background-color: var(--background-modifier-success);
}
.zt-auto-install-status {
  border-top: none;
}
.zt-auto-install-status.mod-success .setting-icon ,
.zt-auto-install-status.mod-success .setting-item-name  {
  color: var(--text-success);
}
.zt-auto-install-status.mod-warning .setting-icon ,
.zt-auto-install-status.mod-warning .setting-item-name  {
  color: var(--text-error);
}
.zt-auto-install-status .setting-icon ,
.zt-auto-install-status .setting-item-name  {
  color: var(--text-muted);
}
      `}),(0,nt.jsx)("div",{className:"zt-install-desc",children:(0,nt.jsx)(q$,{})}),(0,nt.jsxs)("div",{className:"zt-install-methods",children:[(0,nt.jsx)(uT,{}),(0,nt.jsx)(cT,{})]})]});var dT=_(ee()),Du=class extends hT.Modal{constructor(r,n,i,o){super(app);this.manifest=r;this.platform=n;this.binaryVersion=i;this.mode=o;this.titleEl.setText("Setup Obsidian Zotero Plugin"),this.modalEl.addClass("mod-zt-install-guide")}onOpen(){let r=zn();r.set(ur,this),d0.default.render((0,dT.jsx)(dn,{initialValues:r.get(),children:(0,dT.jsx)(pT,{})}),this.contentEl)}onClose(){d0.default.unmountComponentAtNode(this.contentEl)}async reloadPlugin(){await app.plugins.disablePlugin(this.manifest.id),this.close(),await app.plugins.enablePlugin(this.manifest.id)}};var mT=(e,t,r)=>{let n=RC();if(!n)throw new Error("Not in desktop app");if(!i0(n))new Vn.Notice(`The electron (electron: ${n.electron}, module version: ${n.modules}) in current version of obsidian is not supported by obsidian-zotero-plugin, please reinstall using latest obsidian installer from official website`);else if(!LC(n))new Vn.Notice(`Your device (${n.arch}-${n.platform}) is not supported by obsidian-zotero-plugin`);else{let i=o0(t);if(!i)throw new Error(`Cannot find binary version for ${t.name} v${t.version}`);try{(0,gT.statSync)(e).isFile()?r==="reset"&&new Du(t,n,i,r).open():new Vn.Notice("Path to database library occupied, please check the location manually: "+e,2e3)}catch(o){let s=o;s.code==="ENOENT"?new Du(t,n,i,r).open():(new Vn.Notice(`Unexpected error while checking path, please check the location manually: ${e}, error: ${s}`,2e3),V.error("Unexpected error while checking path",e,s))}}},B$=e=>{if(!Vn.Platform.isDesktopApp)throw new Error("Not in desktop app");let t=rs(e);if(!t)throw new Error(`Cannot find binary version for ${e.name} v${e.version}`);try{return require(t),!0}catch(r){return r?.code==="MODULE_NOT_FOUND"?mT(t,e,"install"):(new Vn.Notice(`Failed to load database library: ${r}`),V.error("Failed to load database library",r),mT(t,e,"reset")),!1}},yT=B$;var vT=()=>({events:{},emit(e,...t){let r=this.events[e]||[];for(let n=0,i=r.length;n<i;n++)r[n](...t)},on(e,t){return this.events[e]?.push(t)||(this.events[e]=[t]),()=>{this.events[e]=this.events[e]?.filter(r=>t!==r)}}});var nv=_(up());var oe=Symbol("jotai-scope-global");var ys=_(le());var Qn=_(le());var bT=_(Nc()),h0=require("obsidian"),wT=()=>bT.default`
Press ${h0.Platform.isMacOS?"\u2318 Cmd":"Ctrl"} + ${h0.Platform.isMacOS?"\u2325 Option":"Shift"} + I, then go to the "Console" tab to see the log.`,xT=e=>({dangerouslySetInnerHTML:{__html:DOMPurify.sanitize(e)}});var TT=_(bo()),Pu=_(Wt()),OT=_(ns());var IT=_(le());var _T=_(kT());var m0=_(le());var Xt=Symbol("jotai-scope-annot-preview"),Ir=L(null),ST=()=>it(e=>e,_T.default),gp=()=>{let e=(0,m0.useMemo)(()=>L(t=>vi.showDetails(t(t(Ir)).itemID)),[Ir]);return xr(H(e,Xt))},AT=()=>{let e=(0,m0.useMemo)(()=>L(t=>vi.isSelected(t(t(Ir)).itemID)),[Ir]);return xr(H(e,Xt))},g0=L(async e=>{let{itemID:t}=e(CT);return(await e(ue).db.getTags([t]))[t]}),$$=Lr(g0),CT=L(e=>e(e(Ir))),yp=()=>{let e=H(CT,Xt),t=H($$,Xt),r=H(bi,oe),n=H(Bc,oe);return t.state==="hasData"&&r?[e,{attachment:r,tags:t.data},n]:null};var it=(e,t)=>{let r=H(Ir,Xt),n=(0,IT.useMemo)(()=>P2(r,e,t),[r]);return H(n)},Mu=({color:e})=>e??void 0,FT=L(e=>`app://local${(0,TT.getCacheImagePath)(e(e(Ir)),e(ue).settings.zoteroDataDir)}`),NT=({type:e})=>{switch(e){case Pu.AnnotationType.highlight:return"align-left";case Pu.AnnotationType.image:return"frame";case Pu.AnnotationType.note:case Pu.AnnotationType.ink:return"file-question";default:(0,OT.default)(e)}};var fr=_(Wt()),fl=_(Nc()),kd=require("obsidian"),_d=_(le());var iN=_(Qr()),oN=_(Ru()),sN=_(vp()),aN=_(bp()),uN=_(wp()),lN=_(Ep()),Y0=_(kp()),xd=_(Mi()),cN=_(_0()),ps=_(le()),ht=_(en());var Kn=_(Qr()),OO=_(Mi()),IO=_(Ru()),Dt=_(le()),cr=_(en());function S0(e){var t=Object.prototype.toString.call(e).slice(8,-1);return t==="Object"&&typeof e[Symbol.iterator]=="function"?"Iterable":t==="Custom"&&e.constructor!==Object&&e instanceof Object?"Object":t}var pO=_(Qr()),dO=_(Ru()),hO=_(le()),M0=_(en());var sO=_(vp()),aO=_(bp()),uO=_(xp()),lO=_(wp()),cO=_(Ep()),D0=_(kp()),nl=_(Mi()),P0=_(_p()),rl=_(Qr()),er=_(le()),Ce=_(en());var QT=_(Qr()),Sp=_(le()),os=_(en()),A0=function(t){var r=t.styling,n=t.arrowStyle,i=t.expanded,o=t.nodeType,s=t.onClick;return Sp.default.createElement("div",(0,QT.default)({},r("arrowContainer",n),{onClick:s}),Sp.default.createElement("div",r(["arrow","arrowSign"],o,i,n),"\u25B6",n==="double"&&Sp.default.createElement("div",r(["arrowSign","arrowSignInner"]),"\u25B6")))};A0.propTypes={styling:os.default.func.isRequired,arrowStyle:os.default.oneOf(["single","double"]),expanded:os.default.bool.isRequired,nodeType:os.default.string.isRequired,onClick:os.default.func.isRequired};A0.defaultProps={arrowStyle:"single"};var Ap=A0;var ss=_(_p());function xz(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ez(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function Ez(e,t){if(!!e){if(typeof e=="string")return YT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YT(e,t)}}function YT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kz(e,t){return e==="Object"?Object.keys(t).length:e==="Array"?t.length:1/0}function _z(e){return typeof e.set=="function"}function Sz(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1/0,o;if(e==="Object"){var s=Object.getOwnPropertyNames(t);r&&s.sort(r===!0?void 0:r),s=s.slice(n,i+1),o={entries:s.map(function(m){return{key:m,value:t[m]}})}}else if(e==="Array")o={entries:t.slice(n,i+1).map(function(m,b){return{key:b+n,value:m}})};else{var a=0,u=[],l=!0,c=_z(t),f=xz(t),p;try{for(f.s();!(p=f.n()).done;){var d=p.value;if(a>i){l=!1;break}n<=a&&(c&&Array.isArray(d)?typeof d[0]=="string"||typeof d[0]=="number"?u.push({key:d[0],value:d[1]}):u.push({key:"[entry ".concat(a,"]"),value:{"[key]":d[0],"[value]":d[1]}}):u.push({key:a,value:d})),a++}}catch(m){f.e(m)}finally{f.f()}o={hasMore:!l,entries:u}}return o}function C0(e,t,r){for(var n=[];t-e>r*r;)r=r*r;for(var i=e;i<=t;i+=r)n.push({from:i,to:Math.min(t,i+r-1)});return n}function T0(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,s=Sz.bind(null,e,t,r);if(!n)return s().entries;var a=o<1/0,u=Math.min(o-i,kz(e,t));if(e!=="Iterable"){if(u<=n||n<7)return s(i,o).entries}else if(u<=n&&!a)return s(i,o).entries;var l;if(e==="Iterable"){var c=s(i,i+n-1),f=c.hasMore,p=c.entries;l=f?[].concat((0,ss.default)(p),(0,ss.default)(C0(i+n,i+2*n-1,n))):p}else l=a?C0(i,o,n):[].concat((0,ss.default)(s(0,n-5).entries),(0,ss.default)(C0(n-4,u-5,n)),(0,ss.default)(s(u-4,u-1).entries));return l}var ZT=_(Qr()),XT=_(vp()),eO=_(bp()),tO=_(xp()),rO=_(wp()),nO=_(Ep()),O0=_(kp()),I0=_(Mi()),tl=_(le()),as=_(en());function Az(e){var t=Cz();return function(){var n=(0,O0.default)(e),i;if(t){var o=(0,O0.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,nO.default)(this,i)}}function Cz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var F0=function(e){(0,rO.default)(r,e);var t=Az(r);function r(n){var i;return(0,XT.default)(this,r),i=t.call(this,n),(0,I0.default)((0,tO.default)(i),"handleClick",function(){i.setState({expanded:!i.state.expanded})}),i.state={expanded:!1},i}return(0,eO.default)(r,[{key:"render",value:function(){var i=this.props,o=i.styling,s=i.from,a=i.to,u=i.renderChildNodes,l=i.nodeType;return this.state.expanded?tl.default.createElement("div",o("itemRange",this.state.expanded),u(this.props,s,a)):tl.default.createElement("div",(0,ZT.default)({},o("itemRange",this.state.expanded),{onClick:this.handleClick}),tl.default.createElement(Ap,{nodeType:l,styling:o,expanded:!1,onClick:this.handleClick,arrowStyle:"double"}),"".concat(s," ... ").concat(a))}}]),r}(tl.default.Component);(0,I0.default)(F0,"propTypes",{styling:as.default.func.isRequired,from:as.default.number.isRequired,to:as.default.number.isRequired,renderChildNodes:as.default.func.isRequired,nodeType:as.default.string.isRequired});function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){(0,nl.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tz(e){var t=Oz();return function(){var n=(0,D0.default)(e),i;if(t){var o=(0,D0.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,cO.default)(this,i)}}function Oz(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iz(e){return e.to!==void 0}function fO(e,t,r){var n=e.nodeType,i=e.data,o=e.collectionLimit,s=e.circularCache,a=e.keyPath,u=e.postprocessValue,l=e.sortObjectKeys,c=[];return T0(n,i,l,o,t,r).forEach(function(f){if(Iz(f))c.push(er.default.createElement(F0,(0,rl.default)({},e,{key:"ItemRange--".concat(f.from,"-").concat(f.to),from:f.from,to:f.to,renderChildNodes:fO})));else{var p=f.key,d=f.value,m=s.indexOf(d)!==-1;c.push(er.default.createElement(Cp,(0,rl.default)({},e,{postprocessValue:u,collectionLimit:o,key:"Node--".concat(p),keyPath:[p].concat((0,P0.default)(a)),value:u(d),circularCache:[].concat((0,P0.default)(s),[d]),isCircular:m,hideRoot:!1})))}}),c}function N0(e){var t=e.isCircular?!1:e.shouldExpandNode(e.keyPath,e.data,e.level);return{expanded:t}}var Gn=function(e){(0,lO.default)(r,e);var t=Tz(r);function r(n){var i;return(0,sO.default)(this,r),i=t.call(this,n),(0,nl.default)((0,uO.default)(i),"handleClick",function(){i.props.expandable&&i.setState({expanded:!i.state.expanded})}),i.state=N0(n),i}return(0,aO.default)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(i){var o=N0(i);N0(this.props).expanded!==o.expanded&&this.setState(o)}},{key:"shouldComponentUpdate",value:function(i,o){var s=this;return!!Object.keys(i).find(function(a){return a!=="circularCache"&&(a==="keyPath"?i[a].join("/")!==s.props[a].join("/"):i[a]!==s.props[a])})||o.expanded!==this.state.expanded}},{key:"render",value:function(){var i=this.props,o=i.getItemString,s=i.nodeTypeIndicator,a=i.nodeType,u=i.data,l=i.hideRoot,c=i.createItemString,f=i.styling,p=i.collectionLimit,d=i.keyPath,m=i.labelRenderer,b=i.expandable,h=this.state.expanded,g=h||l&&this.props.level===0?fO(oO(oO({},this.props),{},{level:this.props.level+1})):null,y=er.default.createElement("span",f("nestedNodeItemType",h),s),x=o(a,u,y,c(u,p),d),k=[d,a,h,b];return l?er.default.createElement("li",f.apply(void 0,["rootNode"].concat(k)),er.default.createElement("ul",f.apply(void 0,["rootNodeChildren"].concat(k)),g)):er.default.createElement("li",f.apply(void 0,["nestedNode"].concat(k)),b&&er.default.createElement(Ap,{styling:f,nodeType:a,expanded:h,onClick:this.handleClick}),er.default.createElement("label",(0,rl.default)({},f.apply(void 0,[["label","nestedNodeLabel"]].concat(k)),{onClick:this.handleClick}),m.apply(void 0,k)),er.default.createElement("span",(0,rl.default)({},f.apply(void 0,["nestedNodeItemString"].concat(k)),{onClick:this.handleClick}),x),er.default.createElement("ul",f.apply(void 0,["nestedNodeChildren"].concat(k)),g))}}]),r}(er.default.Component);(0,nl.default)(Gn,"propTypes",{getItemString:Ce.default.func.isRequired,nodeTypeIndicator:Ce.default.any,nodeType:Ce.default.string.isRequired,data:Ce.default.any,hideRoot:Ce.default.bool.isRequired,createItemString:Ce.default.func.isRequired,styling:Ce.default.func.isRequired,collectionLimit:Ce.default.number,keyPath:Ce.default.arrayOf(Ce.default.oneOfType([Ce.default.string,Ce.default.number])).isRequired,labelRenderer:Ce.default.func.isRequired,shouldExpandNode:Ce.default.func,level:Ce.default.number.isRequired,sortObjectKeys:Ce.default.oneOfType([Ce.default.func,Ce.default.bool]),isCircular:Ce.default.bool,expandable:Ce.default.bool});(0,nl.default)(Gn,"defaultProps",{data:[],circularCache:[],level:0,expandable:!0});var Fz=["data"];function Nz(e){var t=Object.getOwnPropertyNames(e).length;return"".concat(t," ").concat(t!==1?"keys":"key")}var mO=function(t){var r=t.data,n=(0,dO.default)(t,Fz);return hO.default.createElement(Gn,(0,pO.default)({},n,{data:r,nodeType:"Object",nodeTypeIndicator:n.nodeType==="Error"?"Error()":"{}",createItemString:Nz,expandable:Object.getOwnPropertyNames(r).length>0}))};mO.propTypes={data:M0.default.object,nodeType:M0.default.string.isRequired};var gO=mO;var yO=_(Qr()),vO=_(Ru()),bO=_(le()),wO=_(en());var Dz=["data"];function Pz(e){return"".concat(e.length," ").concat(e.length!==1?"items":"item")}var xO=function(t){var r=t.data,n=(0,vO.default)(t,Dz);return bO.default.createElement(Gn,(0,yO.default)({},n,{data:r,nodeType:"Array",nodeTypeIndicator:"[]",createItemString:Pz,expandable:r.length>0}))};xO.propTypes={data:wO.default.array};var EO=xO;var j0=_(Qr()),_O=_(le());function Mz(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=jz(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,s=!1,a;return{s:function(){r=r.call(e)},n:function(){var l=r.next();return o=l.done,l},e:function(l){s=!0,a=l},f:function(){try{!o&&r.return!=null&&r.return()}finally{if(s)throw a}}}}function jz(e,t){if(!!e){if(typeof e=="string")return kO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kO(e,t)}}function kO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lz(e,t){var r=0,n=!1;if(Number.isSafeInteger(e.size))r=e.size;else{var i=Mz(e),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(t&&r+1>t){n=!0;break}r+=1}}catch(a){i.e(a)}finally{i.f()}}return"".concat(n?">":"").concat(r," ").concat(r!==1?"entries":"entry")}var Rz=function(t){var r=(0,j0.default)({},t);return _O.default.createElement(Gn,(0,j0.default)({},r,{nodeType:"Iterable",nodeTypeIndicator:"()",createItemString:Lz}))},SO=Rz;var AO=_(_p()),Tp=_(le()),lr=_(en()),CO=function(t){var r=t.nodeType,n=t.styling,i=t.labelRenderer,o=t.keyPath,s=t.valueRenderer,a=t.value,u=t.valueGetter,l=u===void 0?function(c){return c}:u;return Tp.default.createElement("li",n("value",r,o),Tp.default.createElement("label",n(["label","valueLabel"],r,o),i(o,r,!1,!1)),Tp.default.createElement("span",n("valueText",r,o),s.apply(void 0,[l(a),a].concat((0,AO.default)(o)))))};CO.propTypes={nodeType:lr.default.string.isRequired,styling:lr.default.func.isRequired,labelRenderer:lr.default.func.isRequired,keyPath:lr.default.arrayOf(lr.default.oneOfType([lr.default.string,lr.default.number]).isRequired).isRequired,valueRenderer:lr.default.func.isRequired,value:lr.default.any,valueGetter:lr.default.func};var Fr=CO;var qz=["getItemString","keyPath","labelRenderer","styling","value","valueRenderer","isCustomNode"];function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function L0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){(0,OO.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var FO=function(t){var r=t.getItemString,n=t.keyPath,i=t.labelRenderer,o=t.styling,s=t.value,a=t.valueRenderer,u=t.isCustomNode,l=(0,IO.default)(t,qz),c=u(s)?"Custom":S0(s),f={getItemString:r,key:n[0],keyPath:n,labelRenderer:i,nodeType:c,styling:o,value:s,valueRenderer:a},p=L0(L0(L0({},l),f),{},{data:s,isCustomNode:u});switch(c){case"Object":case"Error":case"WeakMap":case"WeakSet":return Dt.default.createElement(gO,p);case"Array":return Dt.default.createElement(EO,p);case"Iterable":case"Map":case"Set":return Dt.default.createElement(SO,p);case"String":return Dt.default.createElement(Fr,(0,Kn.default)({},f,{valueGetter:function(m){return'"'.concat(m,'"')}}));case"Number":return Dt.default.createElement(Fr,f);case"Boolean":return Dt.default.createElement(Fr,(0,Kn.default)({},f,{valueGetter:function(m){return m?"true":"false"}}));case"Date":return Dt.default.createElement(Fr,(0,Kn.default)({},f,{valueGetter:function(m){return m.toISOString()}}));case"Null":return Dt.default.createElement(Fr,(0,Kn.default)({},f,{valueGetter:function(){return"null"}}));case"Undefined":return Dt.default.createElement(Fr,(0,Kn.default)({},f,{valueGetter:function(){return"undefined"}}));case"Function":case"Symbol":return Dt.default.createElement(Fr,(0,Kn.default)({},f,{valueGetter:function(m){return m.toString()}}));case"Custom":return Dt.default.createElement(Fr,f);default:return Dt.default.createElement(Fr,(0,Kn.default)({},f,{valueGetter:function(){return"<".concat(c,">")}}))}};FO.propTypes={getItemString:cr.default.func.isRequired,keyPath:cr.default.arrayOf(cr.default.oneOfType([cr.default.string,cr.default.number]).isRequired).isRequired,labelRenderer:cr.default.func.isRequired,styling:cr.default.func.isRequired,value:cr.default.any,valueRenderer:cr.default.func.isRequired,isCustomNode:cr.default.func.isRequired};var Cp=FO;var XF=_(Mi());var bd=_(w0()),VF=_(Mi()),J0=_(_0()),Q0=_(ZI()),V0=_(EF()),G0=_($F());function zF(e){var t=e[0],r=e[1],n=e[2],i,o,s;return i=t*1+r*0+n*1.13983,o=t*1+r*-.39465+n*-.5806,s=t*1+r*2.02311+n*0,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]}function WF(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=t*.299+r*.587+n*.114,o=t*-.14713+r*-.28886+n*.436,s=t*.615+r*-.51499+n*-.10001;return[i,o,s]}function UF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UF(Object(r),!0).forEach(function(n){(0,VF.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var GF=Q0.default,HF=Object.keys(GF),zW=function(t){return t<.25?1:t<.5?.9-t:1.1-t},WW=function(t){var r=(0,V0.default)(t),n=WF(r.array()),i=(0,J0.default)(n,3),o=i[0],s=i[1],a=i[2],u=[zW(o),s,a],l=zF(u);return V0.default.rgb(l).hex()},fs=function(t){return function(r){return{className:[r.className,t.className].filter(Boolean).join(" "),style:At(At({},r.style||{}),t.style||{})}}},UW=function(t,r){if(t===void 0)return r;if(r===void 0)return t;var n=(0,bd.default)(t),i=(0,bd.default)(r);switch(n){case"string":switch(i){case"string":return[r,t].filter(Boolean).join(" ");case"object":return fs({className:t,style:r});case"function":return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return fs({className:t})(r.apply(void 0,[o].concat(a)))}}break;case"object":switch(i){case"string":return fs({className:r,style:t});case"object":return At(At({},r),t);case"function":return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return fs({style:t})(r.apply(void 0,[o].concat(a)))}}break;case"function":switch(i){case"string":return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return t.apply(void 0,[fs(o)({className:r})].concat(a))};case"object":return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return t.apply(void 0,[fs(o)({style:r})].concat(a))};case"function":return function(o){for(var s=arguments.length,a=new Array(s>1?s-1:0),u=1;u<s;u++)a[u-1]=arguments[u];return t.apply(void 0,[r.apply(void 0,[o].concat(a))].concat(a))}}}},HW=function(t,r){var n=Object.keys(r);for(var i in t)n.indexOf(i)===-1&&n.push(i);return n.reduce(function(o,s){return o[s]=UW(t[s],r[s]),o},{})},VW=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(r===null)return t;Array.isArray(r)||(r=[r]);var s=r.map(function(u){return t[u]}).filter(Boolean),a=s.reduce(function(u,l){return typeof l=="string"?u.className=[u.className,l].filter(Boolean).join(" "):(0,bd.default)(l)==="object"?u.style=At(At({},u.style),l):typeof l=="function"&&(u=At(At({},u),l.apply(void 0,[u].concat(i)))),u},{className:"",style:{}});return a.className||delete a.className,Object.keys(a.style).length===0&&delete a.style,a},K0=function(t){return Object.keys(t).reduce(function(r,n){return r[n]=/^base/.test(n)?WW(t[n]):n==="scheme"?t[n]+":inverted":t[n],r},{})},KF=(0,G0.default)(function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=t.defaultBase16,i=n===void 0?GF:n,o=t.base16Themes,s=o===void 0?null:o,a=GW(r,s);a&&(r=At(At({},a),r));for(var u=HF.reduce(function(b,h){return b[h]=r[h]||i[h],b},{}),l=Object.keys(r).reduce(function(b,h){return HF.indexOf(h)===-1&&(b[h]=r[h]),b},{}),c=e(u),f=HW(l,c),p=arguments.length,d=new Array(p>3?p-3:0),m=3;m<p;m++)d[m-3]=arguments[m];return(0,G0.default)(VW,2).apply(void 0,[f].concat(d))},3),JF=function(t){return!!t.extend},GW=function(t,r){if(t&&JF(t)&&t.extend&&(t=t.extend),typeof t=="string"){var n=t.split(":"),i=(0,J0.default)(n,2),o=i[0],s=i[1];r?t=r[o]:t=Q0[o],s==="inverted"&&(t=K0(t))}return t&&Object.prototype.hasOwnProperty.call(t,"base00")?t:void 0},QF=function(t){return typeof t=="string"?"".concat(t,":inverted"):t&&JF(t)&&t.extend?typeof t.extend=="string"?At(At({},t),{},{extend:"".concat(t.extend,":inverted")}):At(At({},t),{},{extend:K0(t.extend)}):t&&K0(t)};var YF={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"};function ZF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(r),!0).forEach(function(n){(0,XF.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var KW=function(t){return{BACKGROUND_COLOR:t.base00,TEXT_COLOR:t.base07,STRING_COLOR:t.base0B,DATE_COLOR:t.base0B,NUMBER_COLOR:t.base09,BOOLEAN_COLOR:t.base09,NULL_COLOR:t.base08,UNDEFINED_COLOR:t.base08,FUNCTION_COLOR:t.base08,SYMBOL_COLOR:t.base08,LABEL_COLOR:t.base0D,ARROW_COLOR:t.base0D,ITEM_STRING_COLOR:t.base0B,ITEM_STRING_EXPANDED_COLOR:t.base03}},JW=function(t){return{String:t.STRING_COLOR,Date:t.DATE_COLOR,Number:t.NUMBER_COLOR,Boolean:t.BOOLEAN_COLOR,Null:t.NULL_COLOR,Undefined:t.UNDEFINED_COLOR,Function:t.FUNCTION_COLOR,Symbol:t.SYMBOL_COLOR}},QW=function(t){var r=KW(t);return{tree:{border:0,padding:0,marginTop:"0.5em",marginBottom:"0.5em",marginLeft:"0.125em",marginRight:0,listStyle:"none",MozUserSelect:"none",WebkitUserSelect:"none",backgroundColor:r.BACKGROUND_COLOR},value:function(i,o,s){var a=i.style;return{style:ot(ot({},a),{},{paddingTop:"0.25em",paddingRight:0,marginLeft:"0.875em",WebkitUserSelect:"text",MozUserSelect:"text",wordWrap:"break-word",paddingLeft:s.length>1?"2.125em":"1.25em",textIndent:"-0.5em",wordBreak:"break-all"})}},label:{display:"inline-block",color:r.LABEL_COLOR},valueLabel:{margin:"0 0.5em 0 0"},valueText:function(i,o){var s=i.style;return{style:ot(ot({},s),{},{color:JW(r)[o]})}},itemRange:function(i,o){return{style:{paddingTop:o?0:"0.25em",cursor:"pointer",color:r.LABEL_COLOR}}},arrow:function(i,o,s){var a=i.style;return{style:ot(ot({},a),{},{marginLeft:0,transition:"150ms",WebkitTransition:"150ms",MozTransition:"150ms",WebkitTransform:s?"rotateZ(90deg)":"rotateZ(0deg)",MozTransform:s?"rotateZ(90deg)":"rotateZ(0deg)",transform:s?"rotateZ(90deg)":"rotateZ(0deg)",transformOrigin:"45% 50%",WebkitTransformOrigin:"45% 50%",MozTransformOrigin:"45% 50%",position:"relative",lineHeight:"1.1em",fontSize:"0.75em"})}},arrowContainer:function(i,o){var s=i.style;return{style:ot(ot({},s),{},{display:"inline-block",paddingRight:"0.5em",paddingLeft:o==="double"?"1em":0,cursor:"pointer"})}},arrowSign:{color:r.ARROW_COLOR},arrowSignInner:{position:"absolute",top:0,left:"-0.4em"},nestedNode:function(i,o,s,a,u){var l=i.style;return{style:ot(ot({},l),{},{position:"relative",paddingTop:"0.25em",marginLeft:o.length>1?"0.875em":0,paddingLeft:u?0:"1.125em"})}},rootNode:{padding:0,margin:0},nestedNodeLabel:function(i,o,s,a,u){var l=i.style;return{style:ot(ot({},l),{},{margin:0,padding:0,WebkitUserSelect:u?"inherit":"text",MozUserSelect:u?"inherit":"text",cursor:u?"pointer":"default"})}},nestedNodeItemString:function(i,o,s,a){var u=i.style;return{style:ot(ot({},u),{},{paddingLeft:"0.5em",cursor:"default",color:a?r.ITEM_STRING_EXPANDED_COLOR:r.ITEM_STRING_COLOR})}},nestedNodeItemType:{marginLeft:"0.3em",marginRight:"0.3em"},nestedNodeChildren:function(i,o,s){var a=i.style;return{style:ot(ot({},a),{},{padding:0,margin:0,listStyle:"none",display:s?"block":"none"})}},rootNodeChildren:{padding:0,margin:0,listStyle:"none"}}},YW=KF(QW,{defaultBase16:YF}),eN=YW;var ZW=["data","keyPath","postprocessValue","hideRoot","theme","invertTheme"];function XW(e){var t=eU();return function(){var n=(0,Y0.default)(e),i;if(t){var o=(0,Y0.default)(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return(0,lN.default)(this,i)}}function eU(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){(0,xd.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var rN=function(t){return t},tU=function(t,r,n){return n===0},rU=function(t,r,n,i){return ps.default.createElement("span",null,n," ",i)},nU=function(t){var r=(0,cN.default)(t,1),n=r[0];return ps.default.createElement("span",null,n,":")},iU=function(){return!1};function oU(e,t){var r={getArrowStyle:"arrow",getListStyle:"nestedNodeChildren",getItemStringStyle:"nestedNodeItemString",getLabelStyle:"label",getValueStyle:"valueText"},n=Object.keys(r).filter(function(i){return t[i]});return n.length>0&&(typeof e=="string"?e={extend:e}:e=wd({},e),n.forEach(function(i){console.error('Styling method "'.concat(i,'" is deprecated, use "theme" property instead')),e[r[i]]=function(o){for(var s=o.style,a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];return{style:wd(wd({},s),t[i].apply(t,u))}}})),e}function nN(e){var t=oU(e.theme,e);return e.invertTheme&&(t=QF(t)),{styling:eN(t)}}var Ed=function(e){(0,uN.default)(r,e);var t=XW(r);function r(n){var i;return(0,sN.default)(this,r),i=t.call(this,n),i.state=nN(n),i}return(0,aN.default)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(i){var o=this;["theme","invertTheme"].find(function(s){return i[s]!==o.props[s]})&&this.setState(nN(i))}},{key:"shouldComponentUpdate",value:function(i){var o=this;return!!Object.keys(i).find(function(s){return s==="keyPath"?i[s].join("/")!==o.props[s].join("/"):i[s]!==o.props[s]})}},{key:"render",value:function(){var i=this.props,o=i.data,s=i.keyPath,a=i.postprocessValue,u=i.hideRoot,l=i.theme,c=i.invertTheme,f=(0,oN.default)(i,ZW),p=this.state.styling;return ps.default.createElement("ul",p("tree"),ps.default.createElement(Cp,(0,iN.default)({},wd({postprocessValue:a,hideRoot:u,styling:p},f),{keyPath:u?[]:s,value:a(o)})))}}]),r}(ps.default.Component);(0,xd.default)(Ed,"propTypes",{data:ht.default.any,hideRoot:ht.default.bool,theme:ht.default.oneOfType([ht.default.object,ht.default.string]),invertTheme:ht.default.bool,keyPath:ht.default.arrayOf(ht.default.oneOfType([ht.default.string,ht.default.number])),postprocessValue:ht.default.func,sortObjectKeys:ht.default.oneOfType([ht.default.func,ht.default.bool])});(0,xd.default)(Ed,"defaultProps",{shouldExpandNode:tU,hideRoot:!1,keyPath:["root"],getItemString:rU,labelRenderer:nU,valueRenderer:rN,postprocessValue:rN,isCustomNode:iU,collectionLimit:50,invertTheme:!0});var Ke=_(ee()),sU=()=>document.body.hasClass("theme-dark"),aU={scheme:"Solarized Light",author:"Ethan Schoonover (modified by aramisgithub)",base00:"#fdf6e3",base01:"#eee8d5",base02:"#93a1a1",base03:"#839496",base04:"#657b83",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},uU={scheme:"Solarized Dark",author:"Ethan Schoonover (modified by aramisgithub)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},lU=/^#(?:[\dA-F]{3}){1,2}$|^#(?:[\dA-F]{4}){1,2}$/i,Sd=({item:e})=>{let[t,r]=(0,_d.useState)(!1);return(0,_d.useEffect)(()=>{let n=()=>r(sU());return app.workspace.on("css-change",n),()=>app.workspace.off("css-change",n)},[r]),e?(0,Ke.jsx)(Ed,{data:e,labelRenderer:vU,theme:t?uU:aU,invertTheme:!1,keyPath:["Zotero Item Data"],shouldExpandNode:mU,getItemString:yU,valueRenderer:fU}):(0,Ke.jsx)("div",{children:"No Details Available"})},cU=e=>{let t=e.charAt(0)==="#"?e.substring(1,7):e,r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),i=parseInt(t.substring(4,6),16);return r*.299+n*.587+i*.114>186},fU=(e,t,...r)=>{if(typeof t=="string"&&lU.test(t))return(0,Ke.jsx)("span",{style:{backgroundColor:t,padding:"0 0.5em",color:cU(t)?"black":"white"},children:t});if(r[0]==="type"&&typeof t=="number"){let n="";if(r.length===2&&fr.AnnotationType[t]?n=fr.AnnotationType[t]:r.length===4&&typeof r[1]=="number"&&r[2]==="tags"&&fr.TagType[t]&&(n=fr.TagType[t]),n)return(0,Ke.jsxs)(Ke.Fragment,{children:[e," ",(0,Ke.jsxs)("span",{children:["(",n,")"]})]})}return e},pU=new Set(["sortIndex"]),dU=new Set(["creators","tags"]),hU=new Set(["position"]),mU=(e,t,r)=>{let n=e[0];return pU.has(n)||dU.has(n)&&Array.isArray(t)&&t.length>6?!1:!!(hU.has(n)||r<1||r<2&&Array.isArray(t)&&t.length>1)},gU=()=>{let[e]=Zt("clipboard-copy",8);return(0,Ke.jsx)("span",{ref:e})},yU=(e,t,r,n,i)=>{if(i.length===1){let o=async s=>{s.preventDefault(),s.stopPropagation(),await navigator.clipboard.writeText("```json\n"+JSON.stringify(t,null,2)+"\n```"),new kd.Notice("Copied JSON code block to clipboard")};return(0,Ke.jsxs)("span",{role:"button",tabIndex:0,onClick:o,onKeyDown:o,"aria-label":"Copy Item Details in JSON",children:[n," ",(0,Ke.jsx)(gU,{})]})}if(i[1]==="creators"&&i.length===3){let o=(0,fr.getCreatorName)(t);if(o)return(0,Ke.jsx)("span",{children:o})}if(i[1]==="tags"&&i.length===3){let o=t;return(0,Ke.jsxs)("span",{children:['"',o.name,'"" (',fr.TagType[o.type],")"]})}if(i[0]==="sortIndex"&&i.length===2)return(0,Ke.jsxs)("span",{children:["[",t.join(", "),"]"]});if(i.length===2&&Array.isArray(t)&&t.length===1){let o=JSON.stringify(t[0]);return(0,Ke.jsxs)("span",{children:[r," ",o.length>100?o.slice(0,100)+"...":o]})}return(0,Ke.jsxs)("span",{children:[r," ",n]})},fN=e=>"it"+e.map(bU).reverse().join(""),vU=(e,t,r,n)=>{let i=e.length===1,o=e.slice(0,-1),s=fN(o);return(0,Ke.jsxs)("span",{...i?void 0:{onContextMenu:l=>{let c=new kd.Menu().addItem(f=>f.setTitle("Copy Template").onClick(()=>{navigator.clipboard.writeText(`<%= ${s} %>`)}));n&&t!=="Array"&&c.addItem(f=>f.setTitle("Copy Template (using with)").onClick(()=>{let[p,...d]=o,m=typeof p=="string"&&pN.test(p)?p:`'${p}'`;navigator.clipboard.writeText(fl.default`
          <% { const { ${m}: $it } = ${fN(d)}; %>
            <%= $it %>
          <% } %>`)})),t==="Array"&&c.addItem(f=>f.setTitle("Copy Template (using for-of loop)").onClick(()=>{navigator.clipboard.writeText(fl.default`
              <% for (const $it of ${s}) { %>
                <%= $it %>
              <% } %>`)})).addItem(f=>f.setTitle("Copy Template (using forEach)").onClick(()=>{navigator.clipboard.writeText(fl.default`
              <% ${s}.forEach(($it, i) => { %>
                <%= $it %>
              <% }) %>`)})).addItem(f=>f.setTitle("Copy Template (pick first element)").onClick(()=>{navigator.clipboard.writeText(`<%= ${s}.first() %>`)})).addItem(f=>f.setTitle("Copy Template (pick last element)").onClick(()=>{navigator.clipboard.writeText(`<%= ${s}.last() %>`)})),fr.requiredKeys.has(o[0])||c.addItem(f=>f.setTitle("Copy Template (render when present)").onClick(()=>{navigator.clipboard.writeText(fl.default`
            <% if ${s} { %>
              <%= ${s} %>
            <% } %>`)})),l.preventDefault(),c.showAtMouseEvent(l.nativeEvent)},style:{cursor:"context-menu"}},children:[e[0],": "]})},pN=/^[$_\p{ID_Start}][$\u200c\u200d\p{ID_Continue}]*$/u,bU=e=>typeof e=="number"?`[${e}]`:pN.test(e)?`.${e}`:`[${JSON.stringify(e)}]`;var dN=_(ee()),hN=()=>{let[e]=gp(),t=yp();return t?(0,dN.jsx)("div",{className:be("annot-details",{showing:e}),children:(0,dN.jsx)(Sd,{item:yn(...t)})}):null};var ds=_(Wt()),mN=_(ns());var gN=_(le());var pr=_(ee()),wU=(0,gN.forwardRef)(function(t,r){let n=it(({type:o})=>o),i;switch(n){case ds.AnnotationType.highlight:i=(0,pr.jsx)(xU,{});break;case ds.AnnotationType.image:i=(0,pr.jsx)(EU,{});break;case ds.AnnotationType.note:case ds.AnnotationType.ink:i=(0,pr.jsxs)(pr.Fragment,{children:["Unsupported Type: ",ds.AnnotationType[n]]});break;default:(0,mN.default)(n)}return(0,pr.jsx)("div",{className:"annot-excerpt",ref:r,children:i})}),xU=()=>{let e=it(Mu),t=it(({text:r})=>r);return(0,pr.jsx)("blockquote",{style:{borderColor:e??void 0},children:(0,pr.jsx)("p",{children:t})})},EU=()=>{let e=H(FT,Xt),t=it(Mu),r=it(({text:n,pageLabel:i})=>n??`Area Excerpt for Page ${i}`);return(0,pr.jsx)("blockquote",{style:{borderColor:t??void 0},children:(0,pr.jsx)("img",{src:e,alt:r})})},yN=wU;var Td=_(Wt());var kU=typeof global=="object"&&global&&global.Object===Object&&global,vN=kU;var _U=typeof self=="object"&&self&&self.Object===Object&&self,SU=vN||_U||Function("return this")(),bN=SU;var AU=bN.Symbol,tn=AU;var wN=Object.prototype,CU=wN.hasOwnProperty,TU=wN.toString,pl=tn?tn.toStringTag:void 0;function OU(e){var t=CU.call(e,pl),r=e[pl];try{e[pl]=void 0;var n=!0}catch{}var i=TU.call(e);return n&&(t?e[pl]=r:delete e[pl]),i}var xN=OU;var IU=Object.prototype,FU=IU.toString;function NU(e){return FU.call(e)}var EN=NU;var DU="[object Null]",PU="[object Undefined]",kN=tn?tn.toStringTag:void 0;function MU(e){return e==null?e===void 0?PU:DU:kN&&kN in Object(e)?xN(e):EN(e)}var _N=MU;function jU(e){return e!=null&&typeof e=="object"}var SN=jU;var LU="[object Symbol]";function RU(e){return typeof e=="symbol"||SN(e)&&_N(e)==LU}var AN=RU;function qU(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var CN=qU;var BU=Array.isArray,TN=BU;var $U=1/0,ON=tn?tn.prototype:void 0,IN=ON?ON.toString:void 0;function FN(e){if(typeof e=="string")return e;if(TN(e))return CN(e,FN)+"";if(AN(e))return IN?IN.call(e):"";var t=e+"";return t=="0"&&1/e==-$U?"-0":t}var NN=FN;function zU(e){return e==null?"":NN(e)}var hs=zU;function WU(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var DN=WU;function UU(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:DN(e,t,r)}var PN=UU;var HU="\\ud800-\\udfff",VU="\\u0300-\\u036f",GU="\\ufe20-\\ufe2f",KU="\\u20d0-\\u20ff",JU=VU+GU+KU,QU="\\ufe0e\\ufe0f",YU="\\u200d",ZU=RegExp("["+YU+HU+JU+QU+"]");function XU(e){return ZU.test(e)}var Ad=XU;function e7(e){return e.split("")}var MN=e7;var jN="\\ud800-\\udfff",t7="\\u0300-\\u036f",r7="\\ufe20-\\ufe2f",n7="\\u20d0-\\u20ff",i7=t7+r7+n7,o7="\\ufe0e\\ufe0f",s7="["+jN+"]",Z0="["+i7+"]",X0="\\ud83c[\\udffb-\\udfff]",a7="(?:"+Z0+"|"+X0+")",LN="[^"+jN+"]",RN="(?:\\ud83c[\\udde6-\\uddff]){2}",qN="[\\ud800-\\udbff][\\udc00-\\udfff]",u7="\\u200d",BN=a7+"?",$N="["+o7+"]?",l7="(?:"+u7+"(?:"+[LN,RN,qN].join("|")+")"+$N+BN+")*",c7=$N+BN+l7,f7="(?:"+[LN+Z0+"?",Z0,RN,qN,s7].join("|")+")",p7=RegExp(X0+"(?="+X0+")|"+f7+c7,"g");function d7(e){return e.match(p7)||[]}var zN=d7;function h7(e){return Ad(e)?zN(e):MN(e)}var WN=h7;function m7(e){return function(t){t=hs(t);var r=Ad(t)?WN(t):void 0,n=r?r[0]:t.charAt(0),i=r?PN(r,1).join(""):t.slice(1);return n[e]()+i}}var UN=m7;var g7=UN("toUpperCase"),HN=g7;function y7(e,t,r,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}var VN=y7;function v7(e){return function(t){return e?.[t]}}var GN=v7;var b7={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},w7=GN(b7),KN=w7;var x7=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,E7="\\u0300-\\u036f",k7="\\ufe20-\\ufe2f",_7="\\u20d0-\\u20ff",S7=E7+k7+_7,A7="["+S7+"]",C7=RegExp(A7,"g");function T7(e){return e=hs(e),e&&e.replace(x7,KN).replace(C7,"")}var JN=T7;var O7=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function I7(e){return e.match(O7)||[]}var QN=I7;var F7=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function N7(e){return F7.test(e)}var YN=N7;var rD="\\ud800-\\udfff",D7="\\u0300-\\u036f",P7="\\ufe20-\\ufe2f",M7="\\u20d0-\\u20ff",j7=D7+P7+M7,nD="\\u2700-\\u27bf",iD="a-z\\xdf-\\xf6\\xf8-\\xff",L7="\\xac\\xb1\\xd7\\xf7",R7="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",q7="\\u2000-\\u206f",B7=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",oD="A-Z\\xc0-\\xd6\\xd8-\\xde",$7="\\ufe0e\\ufe0f",sD=L7+R7+q7+B7,aD="['\u2019]",ZN="["+sD+"]",z7="["+j7+"]",uD="\\d+",W7="["+nD+"]",lD="["+iD+"]",cD="[^"+rD+sD+uD+nD+iD+oD+"]",U7="\\ud83c[\\udffb-\\udfff]",H7="(?:"+z7+"|"+U7+")",V7="[^"+rD+"]",fD="(?:\\ud83c[\\udde6-\\uddff]){2}",pD="[\\ud800-\\udbff][\\udc00-\\udfff]",ms="["+oD+"]",G7="\\u200d",XN="(?:"+lD+"|"+cD+")",K7="(?:"+ms+"|"+cD+")",eD="(?:"+aD+"(?:d|ll|m|re|s|t|ve))?",tD="(?:"+aD+"(?:D|LL|M|RE|S|T|VE))?",dD=H7+"?",hD="["+$7+"]?",J7="(?:"+G7+"(?:"+[V7,fD,pD].join("|")+")"+hD+dD+")*",Q7="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Y7="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Z7=hD+dD+J7,X7="(?:"+[W7,fD,pD].join("|")+")"+Z7,eH=RegExp([ms+"?"+lD+"+"+eD+"(?="+[ZN,ms,"$"].join("|")+")",K7+"+"+tD+"(?="+[ZN,ms+XN,"$"].join("|")+")",ms+"?"+XN+"+"+eD,ms+"+"+tD,Y7,Q7,uD,X7].join("|"),"g");function tH(e){return e.match(eH)||[]}var mD=tH;function rH(e,t,r){return e=hs(e),t=r?void 0:t,t===void 0?YN(e)?mD(e):QN(e):e.match(t)||[]}var gD=rH;var nH="['\u2019]",iH=RegExp(nH,"g");function oH(e){return function(t){return VN(gD(JN(t).replace(iH,"")),e,"")}}var yD=oH;var sH=yD(function(e,t,r){return e+(r?" ":"")+HN(t)}),ev=sH;var gs=require("obsidian");var wD=_(le()),xD=_(bD());var rn=_(ee()),Dee=Lr(bn),tv=L(!1),aH=()=>{let e=H(bn,oe),t=H(bi,oe),r=H($r,oe),n=H(Bc,oe),i=H(Wm,oe);return e&&i&&r&&t?Rc(e,{attachment:t,allAttachments:r,tags:i},n):null},uH=()=>{let e=aH();return e?(0,rn.jsx)(Sd,{item:e}):null},ED=()=>{let e=H(tv,oe);return(0,rn.jsx)("div",{className:be("doc-details",{showing:e}),children:(0,rn.jsx)(xD.ErrorBoundary,{FallbackComponent:({error:t})=>(0,rn.jsxs)("div",{role:"alert",children:[(0,rn.jsx)("p",{children:"Something went wrong:"}),(0,rn.jsx)("pre",{children:t.message})]}),children:(0,rn.jsx)(wD.Suspense,{fallback:null,children:(0,rn.jsx)(uH,{})})})})};var rv=_(ee()),kD=({show:e,onClick:t,className:r})=>{let[n]=Zt("info");return(0,rv.jsx)("button",{ref:n,className:be("clickable-icon",{"is-active":e},r),onClick:t,"aria-label":`${e?"Hide":"Show"} details`})},_D=()=>{let[e,t]=xr(tv,oe);return(0,rv.jsx)(kD,{show:e,onClick:()=>t(r=>!r)})},SD=()=>{let[e,t]=gp();return(0,rv.jsx)(kD,{className:"annot-header-details-toggle",show:e,onClick:()=>t(r=>!r)})};var tr=_(ee()),lH=({containerRef:e})=>{let t=it(s=>NT(s)),r=it(Mu),n=it(({type:s})=>s),i=fH(e),[o]=Zt(t);return(0,tr.jsx)("div",{ref:o,...i,className:"annot-type-icon",style:{color:r},"aria-label":ev(Td.AnnotationType[n]),"aria-label-delay":"500"})},cH=()=>{let e=it(({pageLabel:n})=>n),t=it(Td.getBacklink),r=e?`Page ${e}`:"";return t?(0,tr.jsx)("a",{className:be("annot-page","external-link"),href:t,"aria-label":`Open Annotation In Zotero at Page ${e}`,"aria-label-delay":"500",children:r}):(0,tr.jsx)("span",{className:"annot-page",children:r})},fH=e=>{let t=H(ue,oe),r=yp(),n=Wn(i=>{if(r){let{settings:{template:o},imgCacheImporter:s}=t,a=o.renderAnnot(...r);i.dataTransfer.setData("text/plain",a);let u=app.workspace.on("editor-drop",l=>{l.dataTransfer?.getData("text/plain")===a&&s.flush(),app.workspace.offref(u)});window.addEventListener("dragend",()=>s.cancel(),{once:!0}),e.current&&i.dataTransfer.setDragImage(e.current,0,0),i.dataTransfer.dropEffect="copy"}else i.dataTransfer.dropEffect="none"});return{draggable:!!r,onDragStart:n}},AD=()=>{let e=ST(),t=H(dl,oe);return Wn(r=>{let n=new gs.Menu,i=hH(e,t);if(n.addItem(o=>o.setTitle("Jump to Note").setIcon("links-going-out").onClick(i)),app.workspace.trigger("zotero:open-annot-menu",e,n),r.nativeEvent instanceof MouseEvent)n.showAtMouseEvent(r.nativeEvent);else{let o=r.currentTarget.getBoundingClientRect();n.showAtPosition({x:o.left,y:o.bottom})}})},pH=({dragRef:e})=>(0,tr.jsxs)("div",{className:"annot-header",onContextMenu:AD(),children:[(0,tr.jsxs)("div",{className:"annot-action-container",children:[(0,tr.jsx)(lH,{containerRef:e}),(0,tr.jsx)(SD,{}),(0,tr.jsx)(dH,{})]}),(0,tr.jsx)("div",{className:"annot-header-space"}),(0,tr.jsx)(cH,{})]}),dH=()=>{let e=AD(),[t]=Zt("more-vertical");return(0,tr.jsx)("div",{role:"button",ref:t,tabIndex:0,className:"annot-header-more-options","aria-label":"More Options","aria-label-delay":"50",onClick:e,onKeyDown:e})},CD=pH,hH=(e,t)=>async()=>{let r=t.plugin.noteIndex.getBlockInfoFromItem(e);if(!r){new gs.Notice("No note for this annotation");return}await sleep(10);let{leaf:n}=t,{workspace:i}=app,o;if(n.group)o=app.workspace.getGroupLeaves(n.group);else{o=[];let u=i.getActiveFileView();u&&o.push(u.leaf)}let s=!1,a=r.position.start.line;for(let u of o)u&&u.view instanceof gs.MarkdownView&&u.view.file===t.file&&(u.view.setEphemeralState({line:a}),s=!0);s||i.getLeaf().openFile(t.file,{eState:{line:a}})};var TD=_(ee()),OD=()=>{let e=H(g0,Xt);return e.length>=1?(0,TD.jsx)("div",{className:"annot-tags-container",children:e.map(({tagID:t,name:r})=>(0,TD.jsx)("a",{className:be("tag","annot-tag"),children:r},t))}):null};var mt=_(ee()),mH=()=>{let e=(0,Qn.useRef)(null);return(0,mt.jsxs)("div",{className:"annot-preview",children:[(0,mt.jsx)(CD,{dragRef:e}),(0,mt.jsx)(yN,{ref:e}),(0,mt.jsx)(gH,{}),(0,mt.jsx)(Qn.Suspense,{fallback:null,children:(0,mt.jsx)(OD,{})}),(0,mt.jsx)(hN,{})]})},gH=()=>{let e=it(({comment:t})=>t);return e?(0,mt.jsx)("div",{className:"annot-comment",children:(0,mt.jsx)("p",{...xT(e)})}):null},ID=({data:e,selectable:t})=>{let r=(0,Qn.useMemo)(()=>L(e),[]),n=Qe(r);(0,Qn.useEffect)(()=>n(e),[e,n]);let i=zn();return i.set(Ir,r),i.set(ue,H(ue,oe)),(0,mt.jsx)(dn,{initialValues:i.get(),scope:Xt,children:(0,mt.jsxs)("div",{className:be("annot-list-item"),role:"menuitem",tabIndex:0,children:[t&&(0,mt.jsx)(yH,{}),(0,mt.jsx)(mH,{})]},e.itemID)})},yH=()=>{let[e,t]=AT();return(0,mt.jsx)("input",{type:"checkbox",checked:e,onChange:()=>t(r=>!r)})};var FD=require("obsidian");var ND=L(null,async(e,t)=>{let{db:r}=e(ue);await r.openDbConn(!0),await DD(e,t),new FD.Notice("Annotations refreshed",500)}),DD=async(e,t)=>{t($r,await Um(e)),t(ko,await Bm(e))},PD=L(null,DD);var Od=_(ee()),vH=L("all"),bH=L(e=>{let t=e(ko);if(!t)return null;let r=e(vH);return r==="all"?t:r==="selected"?t.filter(n=>e(vi.isSelected(n.itemID))):t.filter(n=>!e(vi.isSelected(n.itemID)))}),wH=({selectable:e=!1})=>{let t=H(bH,oe),r=H($m,oe);return(0,Od.jsx)("div",{className:be("annot-list",{"is-collapsed":r}),children:t?.map(n=>(0,Od.jsx)(ID,{selectable:e,data:n},n.itemID))})},MD=wH,jD=()=>{let[e,t]=xr($m,oe),[r]=Zt(e?"chevrons-up-down":"chevrons-down-up");return(0,Od.jsx)("button",{ref:r,className:"clickable-icon",onClick:()=>t(n=>!n),"aria-label":e?"Expand":"Collapse"})},LD=()=>{let e=Qe(ND,oe),[t]=Zt("refresh-ccw");return(0,Od.jsx)("button",{ref:t,className:"clickable-icon",onClick:e,"aria-label":"Refresh Annotation List","aria-label-delay":"50"})};var Id=_(ee()),RD=()=>{let e=H($r,oe),t=Qe(bi,oe),r=H(qc,oe);return!e||e&&e.length===1?null:e.length<=0?(0,Id.jsx)("span",{className:"atch-select-empty",children:"No attachments available"}):(0,Id.jsx)("select",{className:"atch-select",onChange:t,value:r??void 0,children:e.filter(n=>n.itemID!==null).map(({itemID:n,path:i,count:o})=>(0,Id.jsxs)("option",{value:n,children:["(",o,") ",i?.replace(/^storage:/,"")]},n))})};var st=_(ee()),qD=()=>{let[e,t]=xr(zm,oe),r=Qe(PD,oe),n=H(dl,oe);return(0,ys.useEffect)(()=>{let i=o=>{o?.extension==="md"?t(o.path):t(null)};return i(n.file),n.on("load-file",i)},[t,n]),(0,ys.useEffect)(()=>{let{db:i}=n.plugin,o=i.on("refresh",r);return()=>{i.offref(o)}},[n.plugin,r]),(0,st.jsx)("div",{className:"annot-view",children:e!==null?(0,st.jsxs)(st.Fragment,{children:[(0,st.jsxs)("div",{className:"annot-view-header",children:[(0,st.jsxs)("div",{className:"annot-view-button-container",children:[(0,st.jsx)(_D,{}),(0,st.jsx)(jD,{}),(0,st.jsx)(LD,{})]}),(0,st.jsx)(ys.Suspense,{fallback:null,children:(0,st.jsx)(RD,{})})]}),(0,st.jsx)(ED,{}),(0,st.jsx)(ys.Suspense,{fallback:null,children:(0,st.jsx)(MD,{})})]}):(0,st.jsx)("div",{className:"pane-empty",children:"Active file not literature note"})})};var qi=require("obsidian"),Fd=class extends qi.FileView{constructor(t){super(t),this.navigation=!1,this.allowNoFile=!0,this.requestUpdate=(0,qi.debounce)(this.update,0)}load(){super.load(),this.registerEvent(this.app.workspace.on("file-open",this.onFileOpen,this))}onLoadFile(t){return this.requestUpdate()}onUnloadFile(t){return this.requestUpdate()}onFileOpen(t){this.leaf.group||this.leaf.pinned||(t instanceof qi.TFile?this.loadFile(t):this.loadFile(null),this.requestUpdate())}onGroupChange(){if(super.onGroupChange(),this.leaf.group)for(let t=0,r=this.leaf.workspace.getGroupLeaves(this.leaf.group);t<r.length;t++){let n=r[t];if(n!==this.leaf&&n.view instanceof qi.FileView){let i=n.view.getSyncViewState();this.leaf.openFile(n.view.file,i)}}else{let t=this.leaf.workspace.getActiveFile();this.loadFile(t)}}};var BD=_(ee()),hl="zotero-annotation-view",dl=L(null),Nd=class extends Fd{constructor(r,n){super(r);this.plugin=n;this.emitter=vT()}getViewType(){return hl}getDisplayText(){let r=this.plugin.app.workspace.getActiveFile(),n="";return r?.extension==="md"&&(n=` for ${r.basename}`),"Zotero Annotations"+n}getIcon(){return"highlighter"}on(r,n){return this.emitter.on(r,n)}update(){this.emitter.emit("load-file",this.file)}canAcceptExtension(r){return!0}async onOpen(){await super.onOpen();let r=zn();r.set(ue,this.plugin),r.set(dl,this),nv.default.render((0,BD.jsx)(dn,{initialValues:r.get(),scope:oe,children:(0,BD.jsx)(qD,{})}),this.contentEl)}async onClose(){nv.default.unmountComponentAtNode(this.contentEl),await super.onClose()}};var Dd=class extends Ta{constructor(r){super(app);this.attachments=r}getItems(){return this.attachments}renderSuggestion(r,n){n.addClass("mod-complex");let i=n.createDiv("suggestion-content").createDiv("suggestion-title").createSpan(),o=n.createDiv("suggestion-aux");super.renderSuggestion(r,i),o.createEl("kbd","suggestion-hotkey").setText((r.item.count??0).toString())}getItemText(r){return r.path?.replace(/^storage:/,"")??r.key}onChooseItem(){}};var KD=require("path/posix"),JD=_(UD()),QD=require("obsidian");var gl=_(nr()),VD=_(ns()),nn=require("obsidian");var bs,Md,yl=class extends nn.Events{constructor(r){super();this.plugin=r;pe(this,bs);this.keyFileMap=new Map;let n=r.settings.literatureNoteFolder.path;this._folder={folder:n,joinPath:HD(n)},[this.meta.on("changed",this.onMetaChanged.bind(this)),this.meta.on("finished",this.onMetaBuilt.bind(this)),this.vault.on("rename",this.onFileMoved.bind(this)),this.vault.on("delete",this.onFileMoved.bind(this))].forEach(r.registerEvent.bind(r)),this.meta.initialized&&this.onMetaBuilt()}get meta(){return this.plugin.app.metadataCache}get vault(){return this.plugin.app.vault}get template(){return this.plugin.settings.template}addToIndex(r){this.keyFileMap.set(r.key,r)}deleteFromIndex(r,n){let i,o;switch(n){case"itemKey":i=r,o=this.keyFileMap.get(i)?.file;break;case"file":o=r,i=[...this.keyFileMap.values()].find(s=>s.file===o)?.key;break;default:(0,VD.default)(n)}return!i||!o?!1:(this.keyFileMap.delete(i),!0)}getNoteFromItem(r){return V.debug("getNoteFromKey: ",r,(0,gl.getItemKeyGroupID)(r,!0)),this.keyFileMap.get((0,gl.getItemKeyGroupID)(r,!0))}getBlockInfoFromItem(r){let n=this.getNoteFromItem(r);if(!n||!n.blockId)return null;let i=this.meta.getCache(n.file);return i&&i?.blocks?.[n.blockId.toLowerCase()]||null}set noteFolder(r){this._folder.folder!==r&&(this._folder={folder:r,joinPath:HD(r)},this.reload())}get noteFolder(){return this._folder.folder}isLiteratureNote(r){let n=ml(r),i=_a(this.meta.getCache(n));return i?this.keyFileMap.has(i):!1}onMetaBuilt(){let r=this.vault.getAbstractFileByPath(this._folder.folder);if(r&&r instanceof nn.TFolder)for(let n of GD(r))this.addFileRecord(n)}onMetaChanged(r,n,i){!Re(this,bs,Md).call(this,r)||this.updateFileRecord(r,i)}onFileMoved(r,n){if(!(r instanceof nn.TFile&&r.extension==="md"))return;let i=Re(this,bs,Md).call(this,r.path);if(n){let o=Re(this,bs,Md).call(this,n);if(!i&&!o)return;i&&o?this.renameFileRecord(r,n):i?this.addFileRecord(r):this.removeFileRecord(n)}else{if(!i)return;this.removeFileRecord(r)}}addFileRecord(r){let n=ml(r),i=this.meta.getCache(n);i&&this.updateFileRecord(n,i)}removeFileRecord(r){let n=ml(r);this.deleteFromIndex(n,"file")}renameFileRecord(r,n){let i=ml(r),o=[...this.keyFileMap.values()].find(({file:s})=>s===n);o&&(o.file=i)}updateFileRecord(r,n){let i=ml(r);for(let o of qm(i,n))this.addToIndex(o)}reload(){this.keyFileMap.clear(),this.onMetaBuilt()}};bs=new WeakSet,Md=function(r){return typeof r=="string"?r.endsWith(".md")&&r.startsWith(this._folder.joinPath):r instanceof nn.TFile&&r.extension==="md"&&r.path.startsWith(this._folder.joinPath)};function*GD(e){for(let t of e.children)t instanceof nn.TFolder?yield*GD(t):t instanceof nn.TFile&&t.extension==="md"&&(yield t)}var ml=e=>typeof e=="string"?e:e.path,HD=e=>e==="/"?"":e+"/";var jd=class extends JD.BaseError{constructor(r,n){super(`Note linked to ${n} already exists: ${r}`);this.target=r;this.key=n;this.name="NoteExistsError"}},YD=async(e,t,r)=>{let n=e.noteIndex.getNoteFromItem(t);if(n)throw new jd(n.file,t.key);let{vault:i,fileManager:o,metadataCache:s}=e.app,{literatureNoteFolder:a,template:u}=e.settings,l=(0,KD.join)(a.path,u.renderFilename(t)),c=i.getAbstractFileByPath(l);if(c){let d=s.getCache(c.path);if(d?.frontmatter&&d.frontmatter[gn]===(0,gl.getItemKeyGroupID)(t,!0))throw new jd(l,t.key)}let f=u.renderNote(t,r,{plugin:e,sourcePath:l}),p=await o.createNewMarkdownFileFromLinktext(l,"");return await i.modify(p,f),p},ZD=async(e,t,r=!1)=>{let{workspace:n}=e.app,i=e.noteIndex.getNoteFromItem(t);if(!i)return!r&&new QD.Notice(`No literature note found for zotero item with key ${t.key}`),!1;let o=i.file;return i.blockId&&(o+="#^"+i.blockId),await n.openLinkText(o,"",!1),!0};var EH=[{command:"\u2191\u2193",purpose:"to navigate"},{command:"\u21B5",purpose:"to open/create literature note"},{command:"esc",purpose:"to dismiss"}],Ld=class extends wn{constructor(r){super(r);this.plugin=r;this.setInstructions(EH)}async goToNote(){let r=await(this.promise??this.open());if(!r)return!1;let{item:n}=r.value;if(await ZD(this.plugin,n,!0))return!0;let i=await this.plugin.db.getAttachments(n.itemID),o=null;i.length>1?o=(await new Dd(i).open())?.value.item??null:o=i[0]??null;let s=o?await this.plugin.db.getAnnotations(o.itemID):[],a=await this.plugin.db.getTags([n.itemID,...s.map(l=>l.itemID)]),u=await YD(this.plugin,n,{attachment:o,tags:a[n.itemID],allAttachments:i,annotations:s.map(l=>[l,{attachment:o,tags:a[l.itemID]}])});return await app.workspace.openLinkText(u.path,"",!1),!0}};var kH=e=>{e.addCommand({id:"note-quick-switcher",name:"Open quick switcher for literature notes",callback:()=>{new Ld(e).goToNote()}}),e.registerView(hl,t=>new Nd(t,e)),e.addCommand({id:"zotero-annot-view",name:"Open Zotero Annotation Side Panel",callback:async()=>{let t=app.workspace.getLeavesOfType(hl);if(t.length){app.workspace.revealLeaf(t[0]);return}let r=app.workspace.getRightLeaf(!1);await r.setViewState({type:hl,active:!0}),app.workspace.revealLeaf(r)}})},XD=kH;var cP=require("fs"),fP=require("fs/promises"),pP=_(nr()),dP=_(ns());rh();var me=require("obsidian"),av=_(up());var Rd=require("@codemirror/state"),eP=require("obsidian");var tP=Rd.Prec.highest(Rd.EditorState.languageData.of(e=>{let t=[],r=app.vault.getConfig("autoPairBrackets"),n=app.vault.getConfig("autoPairMarkdown");r&&t.push("(","[","{","'",'"'),n&&t.push("*","_","`","```");let{file:i}=e.field(eP.editorInfoField);return xo(i)&&t.push("<","%"),[{closeBrackets:{brackets:t}}]}));var nP=require("obsidian");var rP=[{prefix:"=",name:"interpolate tag",description:"An interpolation outputs data into the template"},{prefix:" ",name:"evaluation tag",description:"An evaluate tag inserts its contents into the template function."}],qd=class extends nP.EditorSuggest{onTrigger(t,r,n){if(!xo(n))return null;let i=r.getLine(t.line),s=i.substring(0,t.ch).match(/<%([ =]?)$/);if(!s)return null;let[a,u]=s,l=i.substring(t.ch).match(/^([\w ]*)%>/),c;if(!l)c={...t};else{let[,f]=l;if(u===" "&&f.length===1)return null;c={...t,ch:t.ch+f.length}}return{end:c,start:{ch:s.index+a.length-u.length,line:t.line},query:s[1]}}getSuggestions(t){return t.query?rP.filter(r=>r.prefix===t.query):rP}renderSuggestion({prefix:t,name:r,description:n},i){t===" "?i.createSpan({text:"No Prefix"}):i.createEl("code",{text:t}),i.createDiv({text:r}),i.createDiv({text:n})}selectSuggestion({prefix:t},r){if(!this.context)return;let{editor:n,end:i,start:o}=this.context,s=t===" "?"  ":"= it. ";n.transaction({changes:[{from:o,to:i,text:s}],selection:{from:{...o,ch:o.ch+s.length-1}}})}};var _H=e=>{e.settings.autoPairEta&&sv(e),e.registerEditorExtension(e.editorExtensions),e.registerEditorSuggest(new qd(e.app))},sv=e=>{e.editorExtensions.push(tP)},iP=_H;var sP=require("@electron/remote");var aP=require("obsidian");var at=_(ee());function SH(e){let t=L(0);return L(r=>(r(t),e(r)),(r,n)=>{n(t,i=>i+1)})}var ws=SH(e=>e(ue).settings.zoteroDataDir),uP=L(null),AH=()=>{let e=Qe(ws),t=H(ue),r=Qe(uP),n=Wn(async()=>{r(null);try{let{filePaths:[i]}=await sP.dialog.showOpenDialog({defaultPath:t.settings.zoteroDataDir,properties:["openDirectory"]});i&&t.settings.zoteroDataDir!==i?(t.settings.zoteroDataDir=i,await t.saveSettings(),await t.db.init(),e(),new aP.Notice("Zotero database path updated."),r(!0)):r(null)}catch(i){console.log("some, error",i),r(!1)}});return(0,at.jsx)("button",{onClick:n,children:"Select"})},CH=()=>{let e=H(ws),t=H(uP);return(0,at.jsx)("div",{className:be("zotero-data-dir-path",{success:t===!0,failed:t===!1}),children:e})},TH={statusAtom:Lr(L(async e=>(e(ws),e(ue).db.checkDbStatus("bbt")))),pathAtom:L(e=>(e(ws),e(ue).settings.betterBibTexDbPath))},OH={statusAtom:Lr(L(async e=>(e(ws),e(ue).db.checkDbStatus("main")))),pathAtom:L(e=>(e(ws),e(ue).settings.zoteroDbPath))},oP=({name:e,pathAtom:t,statusAtom:r})=>{let n=H(t),i=H(r),o=i.state==="hasData"&&i.data,s=i.state==="hasData"&&!i.data||i.state==="hasError";return(0,at.jsxs)("div",{className:"setting-item-description",children:[e,": ",s&&"(Failed to load)",(0,at.jsx)("div",{className:be("zotero-db-path",{success:o,failed:s}),children:n})]})},lP=({plugin:e})=>{let t=zn();return t.set(ue,e),(0,at.jsx)(dn,{initialValues:t.get(),children:(0,at.jsxs)(at.Fragment,{children:[(0,at.jsxs)("div",{className:"setting-item-info",children:[(0,at.jsx)("div",{className:"setting-item-name",children:"Zotero Data Directory"}),(0,at.jsx)(oP,{name:"Zotero",...OH}),(0,at.jsx)(oP,{name:"Better BibTeX",...TH})]}),(0,at.jsxs)("div",{className:"setting-item-control",children:[(0,at.jsx)(CH,{}),(0,at.jsx)(AH,{})]})]})})};var IH=_(ee()),Bd=class extends me.PluginSettingTab{constructor(r){super(r.app,r);this.plugin=r;this.logLevel=()=>{new me.Setting(this.containerEl).setHeading().setName("Debug"),new me.Setting(this.containerEl).setName("Log Level").setDesc(createFragment(r=>{r.appendText("Change level of logs output to the console."),r.createEl("br"),r.appendText("Set to DEBUG if debug is required"),r.createEl("br"),r.appendText("To check console, "+wT())})).addDropdown(r=>r.addOptions(pP.logLevels).setValue(V.level.toString()).onChange(async n=>{let i=n;V.level=i,await this.plugin.db.setLoglevel(i),this.plugin.settings.logLevel=i,await this.plugin.saveSettings()}))}}display(){this.containerEl.empty();let r=this,n=th(this.containerEl,{empty:i=>function(){r.unmountDataDirSetting?.(),i.call(this),n()}});this.general(),this.annotView(),this.suggester(),this.templates(),this.logLevel()}general(){new me.Setting(this.containerEl).setHeading().setName("General"),this.setDataDirPath(),this.addToggle(this.containerEl,"autoRefresh",r=>this.plugin.db.setAutoRefresh(r)).setName("Refresh automatically when Zotero updates database"),this.setLiteratureNoteFolder(),this.setImgExcerptFolder(),this.setCitationLibrary()}suggester(){new me.Setting(this.containerEl).setHeading().setName("Suggester"),this.addToggle(this.containerEl,"citationEditorSuggester").setName("Citation Editor Suggester"),this.addToggle(this.containerEl,"showCitekeyInSuggester").setName("Show BibTex Citekey in Suggester")}annotView(){new me.Setting(this.containerEl).setHeading().setName("Annotaion View")}setMutool(){this.addTextComfirm(this.containerEl,()=>this.plugin.settings.mutoolPath??"",async(r,n)=>{try{await(0,fP.access)(r,cP.constants.X_OK),new me.Notice("mutool path is saved."),this.plugin.settings.mutoolPath=r,await this.plugin.saveSettings()}catch(i){if(i.code==="ENOENT")new me.Notice("File not found");else if(i.code==="EACCES")new me.Notice("File not executable");else throw i}},{rows:1}).setName("`mutool` path")}setLiteratureNoteFolder(){let r=async(n,i)=>{let{literatureNoteFolder:o}=this.plugin.settings;o.path=n,o.path!==n&&i.setValue(o.path),this.plugin.noteIndex.noteFolder=o.path,await this.plugin.saveSettings()};this.addTextComfirm(this.containerEl,()=>this.plugin.settings.literatureNoteFolder.path,r,{rows:1}).setName("Literature Note Folder")}setImgExcerptFolder(){let r=o=>{let s=i.settingEl;o?s.style.removeProperty("display"):s.style.setProperty("display","none")};this.addToggle(this.containerEl,"symlinkImgExcerpt",r).setName("Symlink Image Excerpt");let n=async(o,s)=>{let{imgExcerptPath:a}=this.plugin.settings;a.path=o,a.path!==o&&s.setValue(a.path),await this.plugin.saveSettings()},i=this.addTextComfirm(this.containerEl,()=>this.plugin.settings.imgExcerptPath.path,n,{rows:1}).setName("Image Excerpts Folder");r(this.plugin.settings.symlinkImgExcerpt)}setDataDirPath(){let r=new me.Setting(this.containerEl).settingEl;av.default.render((0,IH.jsx)(lP,{plugin:this.plugin}),r),this.unmountDataDirSetting=()=>av.default.unmountComponentAtNode(r)}setCitationLibrary(){let r=null,n=async o=>{r&&r.selectEl.remove();let s=await this.plugin.db.getLibs();o.addDropdown(a=>{r=a;for(let{libraryID:u,type:l,groupID:c}of s)!u||a.addOption(u.toString(),l==="user"?"My Library":`Group ${c}`);a.setValue(this.plugin.settings.citationLibrary.toString()).onChange(async u=>{let l=+u;this.plugin.settings.citationLibrary=l,await this.plugin.db.initIndex(),new me.Notice("Zotero database updated."),await this.plugin.saveSettings()})})},i=new me.Setting(this.containerEl).setName("Citation Library").addButton(o=>o.setIcon("switch").setTooltip("Refresh").onClick(async()=>{await this.plugin.db.fullRefresh(),n(i)})).then(n)}templates(){let{template:r}=this.plugin.settings;new me.Setting(this.containerEl).setHeading().setName("Templates"),this.addTextComfirm(this.containerEl,()=>r.folder.path,async(u,l)=>{r.folder.path=u,r.folder.path!==u&&l.setValue(r.folder.path),await this.plugin.saveSettings()},{rows:1}).setName("Template Folder").setDesc("The folder which templates are ejected into and stored"),this.addToggle(this.containerEl,"autoPairEta",u=>{this.plugin.editorExtensions.length=0,u&&sv(this.plugin),app.workspace.updateOptions()}).setName("Auto Pair For Eta").setDesc(createFragment(u=>{u.createDiv({text:"Pair `<` and `%` automatically in eta templates."}),u.createDiv({text:"If you have issue with native auto pair features, you can disable this option and report the bug in GitHub"})})),new me.Setting(this.containerEl).setHeading().setName("Simple");for(let u of vo){let l,c="";switch(u){case"filename":l="Note Filename";break;case"citation":l="Markdown primary citation template";break;case"altCitation":l="Markdown secondary citation template";break;default:continue}let f=this.addTextField(this.containerEl,()=>r.getTemplate(u),p=>r.complie(u,p),{rows:2}).setName(l);c&&f.setDesc(c)}let n={},i=new me.Setting(this.containerEl).setHeading().setName("Ejectable").setDesc("These templates can be customized once ejected into vault"),o=i.controlEl.createDiv();i.addExtraButton(u=>{n=u});let s=()=>{let u,l,c;r.ejected?(u="x-circle",l="Revert",c="Revert templates to default"):(u="folder-input",l="Eject",c="Eject templates into vault"),n.setIcon(u).setTooltip(c),o.setText(l)};s(),n.onClick(async()=>{r.ejected=!r.ejected,await this.plugin.saveSettings(),await r.loadAll(),s(),this.setEjectableTemplates(a)});let a=this.containerEl.createDiv();this.setEjectableTemplates(a)}setEjectableTemplates(r){r.empty();let{template:n}=this.plugin.settings;for(let i of Fc){let o,s="";switch(i){case"note":o="Note Content",s="Used to render created literature note";break;case"annotation":o="Annotaion",s="Used to render single annotation";break;case"annots":o="Annotations",s="Used to render annotation list when batch importing";break;default:(0,dP.assertNever)(i)}n.ejected?new me.Setting(r).setName(i).setDesc(s).then(a=>a.controlEl.createDiv("",u=>{u.createEl("code",{text:n.getTemplateFile(i)})})).addButton(a=>a.setIcon("arrow-up-right").setTooltip("Open Template File").onClick(async()=>{if(!n.ejected){new me.Notice("Cannot open file, templates are not ejected");return}await app.workspace.openLinkText(n.getTemplateFile(i),""),this.setting.close()})):this.addTextField(r,()=>n.getTemplate(i),a=>n.complie(i,a)).setName(o).setDesc(s).setDisabled(!0)}}addToggle(r,n,i){return new me.Setting(r).addToggle(o=>{o.setValue(this.plugin.settings[n]).onChange(s=>{this.plugin.settings[n]=s,i?.(s),this.plugin.saveSettings()})})}addTextField(r,n,i,o={},s=500){return new me.Setting(r).addTextArea(a=>{let u=async l=>{i(l),await this.plugin.saveSettings()};a.setValue(n()).onChange((0,me.debounce)(u,s,!0)),Object.assign(a.inputEl,{cols:30,rows:5,...o})})}addTextComfirm(r,n,i,o={}){let s;return new me.Setting(r).addTextArea(a=>{s=a,a.setValue(n()),Object.assign(a.inputEl,o)}).addButton(a=>a.setIcon("checkmark").setTooltip("Apply").onClick(()=>i(s.getValue(),s)))}};var Es=require("fs/promises"),zd=require("path"),hP=require("path/posix"),uv=_(bo()),mP=_(Wt()),xs=require("obsidian");var $d=class{constructor(t){this.plugin=t;this.queue=new Map}get imgExcerptPath(){return this.plugin.settings.symlinkImgExcerpt?this.plugin.settings.imgExcerptPath.path:null}getCachePath(t){return(0,uv.getCacheImagePath)(t,this.plugin.settings.zoteroDataDir)}getInVaultPath(t){if(!this.imgExcerptPath||t.type!==mP.AnnotationType.image)return null;let r=(0,uv.getCacheImagePath)(t,this.plugin.settings.zoteroDataDir);return NH(t,r,this.imgExcerptPath)}import(t){let r=this.getCachePath(t),n=this.getInVaultPath(t);if(!n)return null;let i;return this.queue.has(n)?i=this.queue.get(n):(i=async()=>{let o=await this.linkToVault(n,r);return this.queue.delete(n),o},this.queue.set(n,i)),n}flush(){return[...this.queue.values()].map(t=>t())}cancel(){this.queue.clear()}async linkToVault(t,r){let n=app.vault.getAbstractFileByPath(t);if(n)return n instanceof xs.TFile?!0:(V.error("failed to get in-vault image excerpt: given path not file",t),!1);try{if(!(await(0,Es.stat)(r)).isFile()){let s=`failed to link image excerpt cache to vault: given path not file ${r}`;return new xs.Notice(s),V.error(s),!1}}catch(o){if(o.code==="ENOENT"){let s=`failed to link image excerpt cache to vault: file not found ${r}`;return new xs.Notice(s),V.error(s),!1}else throw o}let i=app.vault.adapter.getFullPath(t);try{await(0,Es.mkdir)((0,zd.dirname)(i),{recursive:!0})}catch(o){if(o.code!=="EEXIST")throw o}return await(0,Es.symlink)(r,i),new xs.Notice(`linked image excerpt cache to vault: ${t}`),!0}},FH=(e,t)=>(t??"")+(0,zd.basename)(e),NH=(e,t,r)=>{let n=FH(t,e.groupID);return(0,hP.join)(r,n)};var lv=require("fs"),bP=_(Gh()),wP=_(bo()),Ts=require("obsidian"),xP=_(vP());var ks,Le,Yn,Bi,wl,xl,El,cv,_s,Nr,Ss,$i,vl,Wd,EP,Ud,kP,As,Hd,_P,Cs,SP,AP,Vd,CP,on,bl=class extends Ts.Events{constructor(r){super();pe(this,El);pe(this,$i);pe(this,Wd);pe(this,Ud);pe(this,Hd);pe(this,Cs);pe(this,Vd);pe(this,ks,void 0);pe(this,Le,void 0);pe(this,Yn,void 0);pe(this,Bi,void 0);this.watcher={main:null,bbt:null};pe(this,wl,(0,Ts.debounce)(Re(this,$i,vl).bind(this),500,!0));pe(this,xl,!1);pe(this,_s,!1);pe(this,Nr,null);pe(this,Ss,!1);pe(this,As,!1);this.initIndexTask=null;pe(this,on,null);Ne(this,Yn,r);let n=(0,wP.default)();Ne(this,ks,bP.default.pool(n,{minWorkers:1,maxWorkers:1,workerType:"web",name:"Zotero Database Workers"})),Ne(this,Le,Z(this,ks).proxy()),this.setLoglevel(r.settings.logLevel),this.setAutoRefresh(r.settings.autoRefresh),r.register(()=>{URL.revokeObjectURL(n),this.close()})}get nativeBinding(){if(Z(this,Bi))return Z(this,Bi);let r=rs(Z(this,Yn).manifest);if(r)return Ne(this,Bi,r),Z(this,Bi);throw new Error("Failed to get native binding path")}get defaultLibId(){return Z(this,Yn).settings.citationLibrary}get mainDbPath(){return Z(this,Yn).settings.zoteroDbPath}get bbtDbPath(){return Z(this,Yn).settings.betterBibTexDbPath}async setLoglevel(r){await(await Z(this,Le)).setLoglevel(r)}async setAutoRefresh(r,n=!1){r===Z(this,xl)&&!n||(V.info("Auto refresh set to "+r),Ne(this,xl,r),Re(this,El,cv).call(this),r&&(Z(this,_s)&&await Re(this,$i,vl).call(this),this.watcher.main=(0,lv.watch)(this.mainDbPath,Z(this,wl)),await this.checkDbStatus("bbt")&&(this.watcher.bbt=(0,lv.watch)(this.bbtDbPath,Z(this,wl)))))}async checkDbStatus(r){return await(await Z(this,Le)).checkDbStatus(r)}async init(){let r=process.hrtime(),[n,i]=await this.openDbConn();if(i||V.info("Failed to open Better BibTeX database, skipping..."),n)await this.initIndex(!0);else throw new Error("Failed to init ZoteroDB");new Ts.Notice("ZoteroDB Initialization complete."),V.debug(`ZoteroDB Initialization complete. Took ${(0,xP.default)(process.hrtime(r))}`)}on(r,n,i){return super.on(r,n,i)}openDbConn(r=!1){let n=Re(this,Ud,kP).call(this,r,Z(this,Nr)).finally(()=>Ne(this,Nr,null));return Ne(this,Nr,n),n}async initIndex(r=!1){let n=Re(this,Vd,CP).call(this,r,Z(this,Cs,SP)).finally(()=>this.initIndexTask=null);return Ne(this,Cs,n,AP),n}async isUpToDate(){return await(await Z(this,Le)).isUpToDate()}async getAttachments(r,n=this.defaultLibId){return await(await Z(this,Le)).getAttachments(r,n)}async getAnnotations(r,n=this.defaultLibId){return await(await Z(this,Le)).getAnnotations(r,n)}async getAnnotFromKey(r,n=this.defaultLibId){return await(await Z(this,Le)).getAnnotFromKey(r,n)}async getTags(r,n=this.defaultLibId){return await(await Z(this,Le)).getTags(r,n)}async getItem(r,n=this.defaultLibId){return await this.initIndex(),await(await Z(this,Le)).getItem(r,n)}async fullRefresh(){await this.openDbConn(),await this.initIndex()}async raw(r,n){return Z(this,Nr)&&await Z(this,Nr),await(await Z(this,Le)).raw(r,n)}async search(r,n,i=20,o=this.defaultLibId){await this.initIndex();let s=r.map(u=>({[n]:u}));return await(await Z(this,Le)).query(o,{$and:s},{limit:i})}async getAll(r=20,n=this.defaultLibId){return await this.initIndex(),await(await Z(this,Le)).query(n,null,{limit:r})}async getLibs(){try{if(!Z(this,on)){let r=await(await Z(this,Le)).getLibs();Ne(this,on,r)}}catch(r){Z(this,on)||Ne(this,on,[{libraryID:1,type:"user",groupID:null}]),V.error(r)}return Z(this,on)}close(r=!1){Z(this,ks).terminate(r),Re(this,El,cv).call(this),V.info("ZoteroDB unloaded")}};ks=new WeakMap,Le=new WeakMap,Yn=new WeakMap,Bi=new WeakMap,wl=new WeakMap,xl=new WeakMap,El=new WeakSet,cv=function(){for(let r in this.watcher){let n=r;this.watcher[n]?.close(),this.watcher[n]=null}},_s=new WeakMap,Nr=new WeakMap,Ss=new WeakMap,$i=new WeakSet,vl=async function(){let n=await(await Z(this,Le)).refreshDb();return Z(this,Ss)?(Ne(this,Ss,!1),V.debug("current task done, continue init db task in queue"),n=await Re(this,$i,vl).call(this)):V.debug("no waiting task in queue, resolve init db task"),V.debug("refresh db conn done"),this.trigger("refresh"),n},Wd=new WeakSet,EP=async function(){Z(this,_s)&&V.debug(`Database already initialized, reopen with new params: ${[this.nativeBinding,this.mainDbPath,this.bbtDbPath]}`);let n=await(await Z(this,Le)).openDb(this.nativeBinding,this.mainDbPath,this.bbtDbPath);return V.debug("open db conn done"),n},Ud=new WeakSet,kP=async function(r,n){let i;return n?(r?(V.debug("Database already initializing, send to queue"),Ne(this,Ss,!0)):V.warn("Database already initializing"),i=await n,V.debug("pending init db task done")):(r?i=await Re(this,$i,vl).call(this):(i=await Re(this,Wd,EP).call(this),Ne(this,_s,!0)),Ne(this,As,!1)),i},As=new WeakMap,Hd=new WeakSet,_P=async function(r=this.defaultLibId){let n=await Z(this,Le);await n.initIndex(r),Ne(this,on,await n.getLibs())},Cs=new WeakSet,SP=function(){return this.initIndexTask},AP=function(r){this.initIndexTask=r},Vd=new WeakSet,CP=async function(r,n){Z(this,Nr)&&(await Z(this,Nr),V.debug("pending init db task finished")),n&&(await n,V.debug("pending initIndex task finished"));let i;return Z(this,As)&&!r?(i=void 0,V.debug("Index already initialized, skip")):(V.debug("Index not initialized after init db, start indexing"),i=await Re(this,Hd,_P).call(this),Ne(this,As,!0),V.debug("Index initialized")),i},on=new WeakMap;var Os,Gd=class extends Dr.Plugin{constructor(r,n){super(r,n);this.settings=s_(this);this.loadSettings=a_.bind(this);this.saveSettings=u_.bind(this);pe(this,Os,void 0);this.editorExtensions=[];if(!yT(n))throw new Error("Library check failed");this.imgCacheImporter=new $d(this),this.annotBlockWorker=new oc(this),this.noteIndex=new yl(this)}get db(){if(!Z(this,Os))throw new Error("access database before load");return Z(this,Os)}async onload(){V.info("loading Obsidian Zotero Plugin"),await this.loadSettings(),Ne(this,Os,new bl(this)),u2(this),iP(this),this.addCommand({id:"insert-markdown-citation",name:"Insert Markdown citation",editorCallback:Gm(this)}),this.registerEditorSuggest(new Ia(this)),this.addCommand({id:"refresh-zotero-data",name:"Refresh Zotero Data",callback:async()=>{await this.db.fullRefresh(),new Dr.Notice("Zotero data is now up-to-date")}}),this.addCommand({id:"refresh-note-index",name:"Refresh Literature Notes Index",callback:()=>{this.noteIndex.reload(),new Dr.Notice("Literature notes re-indexed")}}),this.addSettingTab(new Bd(this)),await this.db.init(),XD(this)}onunload(){V.info("unloading Obsidian Zotero Plugin"),Aa.setShouldRemove(()=>!0),Aa.setShouldRemove(null)}async getLiteratureNoteFolder(){let{literatureNoteFolder:r}=this.settings,n=r.getFile(this.app.vault),i;if(n instanceof Dr.TFolder)i=n;else if(n){if(new Dr.Notice(`Invalid note folder: ${r.path}, revert to default folder`),r.path="",n=r.getFile(this.app.vault),!(n instanceof Dr.TFolder))throw new Error("Failed to get default note folder: "+r.path);i=n}else{if(await this.app.vault.createFolder(r.path),n=r.getFile(this.app.vault),!(n instanceof Dr.TFolder))throw new Error("Failed to create note folder: "+r.path);i=n}return i}};Os=new WeakMap;0&&(module.exports={});
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! (c) 2020 Andrea Giammarchi */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
/**
 * workerpool.js
 * https://github.com/josdejong/workerpool
 *
 * Offload tasks to a pool of workers on node.js and in the browser.
 *
 * @version 6.2.1-mod.13
 * @date    2022-10-04
 *
 * @license
 * Copyright (C) 2014-2022 Jos de Jong <wjosdejong@gmail.com>
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy
 * of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 */
/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
